import{c5 as ar,J as or,H as sr,d as v,K as cr,_ as lr,O as He,c6 as fs,X as Ni,W as Xi,V as ct,c7 as X,Y as dr,c8 as am,c9 as om,T as V,y as rr,ca as _s,cb as mr,cc as sm,a4 as cm,cd as lm,a7 as dm,ce as fr,u as we,aN as _r,aL as rm,cf as mm,cg as fm,ch as _m,ci as pr,b4 as ur,b3 as hr,cj as q,ck as pm,cl as um,bB as L,b9 as hm,ba as gm,cm as Le,cn as ym,co as $m,cp as gr,cq as Ui,cr as bm,j as i,cs as Gi,ct as Ie,bt as be,bC as Ho,cu as xm,e as w,am as ce,aA as Kn,cv as Ji,i as ee,ax as ne,bW as yr,cw as wm,cx as $r,cy as br,cz as jo,cA as ze,ae as Ko,o as B,cB as km,cC as xr,a as wr,bJ as vm,l as kr,b$ as Cm,f as xe,G as Q,C as lt,S as je,P as Sm,bN as Dm,bg as qo,c0 as ps,br as vr,aX as Fe,c1 as Rm,c2 as Im,I as Wo,s as No,c3 as zm,cD as Bm,v as Hn,M as Uo,aM as Qi,ac as Cr,ad as Sr,cE as Mm,m as Tm,k as Em,n as Om,bf as Am,D as Pm,c4 as Vm,cF as Fm,w as Dr,r as qm,b as Lm,c as Hm,g as jm,bx as Rr,bF as Ir,bD as zr,cG as Km,cH as Wm,E as Nm,cI as Um,z as Wn,B as dt,cJ as Go,F as Nn,cK as Br,cL as Gm,ah as Jo,ag as Jm,aY as qe,ap as Ym,b6 as Zm,cM as Xm,cN as Qm,cO as ef,aH as Mr,aF as qn,ai as tf,cP as nf,bz as af,cQ as of,aK as sf,cR as cf,cS as lf,bZ as df,cT as rf,cU as mf,cV as le,cW as Tr,a5 as us,b8 as hs,cX as ja,cY as ff,cZ as _f,be as Er,c_ as pf,c$ as $,d0 as M,a$ as _,a_ as m,ay as T,aD as g,d1 as uf,bI as hf}from"./index-DvXkGobC.js";import{i as gf,d as yf}from"./discSortUtil-BU-gT2EH.js";function $f(e){const{badgeContent:t,invisible:n=!1,max:o=99,showZero:s=!1}=e,l=ar({badgeContent:t,max:o});let c=n;n===!1&&t===0&&!s&&(c=!0);const{badgeContent:f,max:p=o}=c?l:e,u=f&&Number(f)>p?`${p}+`:f;return{badgeContent:f,invisible:c,max:p,displayValue:u}}function bf(e){return sr("MuiBadge",e)}const ke=or("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),xf=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Ka=10,Wa=4,wf=e=>{const{color:t,anchorOrigin:n,invisible:o,overlap:s,variant:l,classes:c={}}=e,f={root:["root"],badge:["badge",l,o&&"invisible",`anchorOrigin${X(n.vertical)}${X(n.horizontal)}`,`anchorOrigin${X(n.vertical)}${X(n.horizontal)}${X(s)}`,`overlap${X(s)}`,t!=="default"&&`color${X(t)}`]};return dr(f,bf,c)},kf=Xi("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),vf=Xi("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${X(n.anchorOrigin.vertical)}${X(n.anchorOrigin.horizontal)}${X(n.overlap)}`],n.color!=="default"&&t[`color${X(n.color)}`],n.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:Ka*2,lineHeight:1,padding:"0 6px",height:Ka*2,borderRadius:Ka,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(n=>{var o,s;return((o=e.vars)!=null?o:e).palette[n].main&&((s=e.vars)!=null?s:e).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Wa,height:Wa*2,minWidth:Wa*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ke.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ke.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ke.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ke.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ke.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ke.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ke.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ke.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}}),gs=v.forwardRef(function(t,n){var o,s,l,c,f,p;const u=cr({props:t,name:"MuiBadge"}),{anchorOrigin:k={vertical:"top",horizontal:"right"},className:R,component:D,components:y={},componentsProps:x={},children:C,overlap:I="rectangular",color:H="default",invisible:N=!1,max:fe=99,badgeContent:_e,slots:K,slotProps:z,showZero:A=!1,variant:F="standard"}=u,pe=lr(u,xf),{badgeContent:os,invisible:Jr,max:Yr,displayValue:Zr}=$f({max:fe,invisible:N,badgeContent:_e,showZero:A}),Xr=ar({anchorOrigin:k,color:H,overlap:I,variant:F,badgeContent:_e}),ss=Jr||os==null&&F!=="dot",{color:Qr=H,overlap:em=I,anchorOrigin:tm=k,variant:cs=F}=ss?Xr:u,ls=cs!=="dot"?Zr:void 0,qa=He({},u,{badgeContent:os,invisible:ss,max:Yr,displayValue:ls,showZero:A,anchorOrigin:tm,color:Qr,overlap:em,variant:cs}),ds=wf(qa),rs=(o=(s=K==null?void 0:K.root)!=null?s:y.Root)!=null?o:kf,ms=(l=(c=K==null?void 0:K.badge)!=null?c:y.Badge)!=null?l:vf,La=(f=z==null?void 0:z.root)!=null?f:x.root,Ha=(p=z==null?void 0:z.badge)!=null?p:x.badge,nm=fs({elementType:rs,externalSlotProps:La,externalForwardedProps:pe,additionalProps:{ref:n,as:D},ownerState:qa,className:Ni(La==null?void 0:La.className,ds.root,R)}),im=fs({elementType:ms,externalSlotProps:Ha,ownerState:qa,className:Ni(ds.badge,Ha==null?void 0:Ha.className)});return ct.jsxs(rs,He({},nm,{children:[C,ct.jsx(ms,He({},im,{children:ls}))]}))});function Cf(e){return sr("MuiFormControlLabel",e)}const Ln=or("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Sf=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Df=e=>{const{classes:t,disabled:n,labelPlacement:o,error:s,required:l}=e,c={root:["root",n&&"disabled",`labelPlacement${X(o)}`,s&&"error",l&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return dr(c,Cf,t)},Rf=Xi("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ln.label}`]:t.label},t.root,t[`labelPlacement${X(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>He({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Ln.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Ln.label}`]:{[`&.${Ln.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),If=Xi("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Ln.error}`]:{color:(e.vars||e).palette.error.main}})),zf=v.forwardRef(function(t,n){var o,s;const l=cr({props:t,name:"MuiFormControlLabel"}),{className:c,componentsProps:f={},control:p,disabled:u,disableTypography:k,label:R,labelPlacement:D="end",required:y,slotProps:x={}}=l,C=lr(l,Sf),I=am(),H=(o=u??p.props.disabled)!=null?o:I==null?void 0:I.disabled,N=y??p.props.required,fe={disabled:H,required:N};["checked","name","onChange","value","inputRef"].forEach(pe=>{typeof p.props[pe]>"u"&&typeof l[pe]<"u"&&(fe[pe]=l[pe])});const _e=om({props:l,muiFormControl:I,states:["error"]}),K=He({},l,{disabled:H,labelPlacement:D,required:N,error:_e.error}),z=Df(K),A=(s=x.typography)!=null?s:f.typography;let F=R;return F!=null&&F.type!==V&&!k&&(F=ct.jsx(V,He({component:"span"},A,{className:Ni(z.label,A==null?void 0:A.className),children:F}))),ct.jsxs(Rf,He({className:Ni(z.root,c),ownerState:K,ref:n},C,{children:[v.cloneElement(p,fe),N?ct.jsxs(rr,{display:"block",children:[F,ct.jsxs(If,{ownerState:K,"aria-hidden":!0,className:z.asterisk,children:["â€‰","*"]})]}):F]}))}),Bf={};class Or{constructor(t,n){this.root=new Mf(t,n)}subset(t){const n=[];return this._subset(t,o=>n.push(...o[_s].map(s=>s.value))),n}entries(t){const n=[];return this._subset(t,o=>n.push(...o[_s])),n}_subset(t,n){const o=t.length;function s(l,c){l<o?c.subset(t[l]).forEach(f=>s(l+1,f)):n(c.leaf)}s(0,this.root)}}let Mf=class Ar{constructor(t,n){if(this.children=[],t>0)for(const[o,s]of Object.entries(n)){const l=new Map;for(const[c,f]of Object.entries(s))l.set(+c,new Ar(t-1,f));this.children.push({mask:+o,map:l})}else this.leaf=n}subset(t){return this.children.map(({mask:n,map:o})=>o.get(t&n)).filter(n=>!!n)}};class ys{constructor(t){this.root=new Yo(void 0),this.keys=t}at(t){const n=this.keys.get(t),o=n.reduce((s,l)=>s.child(l),this.root);return o.leaf||(o.leaf=new Zo(t,n,this.keys,o)),o.leaf}}class Yo{constructor(t){this.children=new Map,this.parent=t}child(t){let n=this.children.get(t);return n||(n=new Yo(this),this.children.set(t,n),n)}}class Zo{constructor(t,n,o,s){this.tag=Object.fromEntries(Object.entries(t).filter(([l,c])=>c!=null)),this.id=n,this.keys=o,this.internal=s}with(t){const{keys:n}=this,{id:o,firstReplacedByte:s}=n.combine(this.id,t);let l=this.internal;for(let c=s;c<n.tagLen;c++)l=l.parent;for(let c=s;c<n.tagLen;c++)l=l.child(o[c]);return l.leaf||(l.leaf=new Zo({...this.tag,...t},o,n,l)),l.leaf}}class Tf{constructor(t,n){this.keys=new mr(t),this.values=new Or(t.tagLen,n)}subset(t){return this.values.subset(this.keys.get(t))}}const jn={sum:e=>e.reduce((t,n)=>t+n,0),prod:e=>e.reduce((t,n)=>t*n,1),min:e=>Math.min(...e),max:e=>Math.max(...e),sumfrac:([e,t])=>e/(e+t),unique:([e])=>e},Pr={match:([e,t])=>e===t?0:1,thres:([e,t])=>e>=t?0:1,lookup:([e],t)=>t[e]??0},vi=e=>lm(e,"val");let Vr=class{constructor(t,...n){const o=new mr(t);this.nodes=new Or(o.tagLen,sm(n)),this.cache=new ys(o).at({}),this.calc=new ys(o).at({}),this.calc.val=this}withTag(t){const n=this.calc.with(t);return n.val??(n.val=Object.assign(new this.constructor(this.cache.keys),this,{cache:this.cache.with(t),calc:n}))}gather(t){return this._gather(this.cache.with(t)).pre}compute(t){return this._compute(t,this.cache)}_gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:o,value:s})=>s.op==="reread"?this._gather(t.with(s.tag)).pre:[this.markGathered(t.tag,o,s,this._compute(s,t))]);return t.val={pre:n}}_compute(t,n){const o=(l,c,f,p)=>Object.freeze({val:l,meta:this.computeMeta(t,l,c,f,p)}),{op:s}=t;switch(s){case"const":return o(t.ex,[],[]);case"sum":case"prod":case"min":case"max":case"sumfrac":{const l=t.x.map(c=>this._compute(c,n));return o(jn[s](vi(l)),l,[])}case"thres":case"match":case"lookup":{const l=t.br.map(u=>this._compute(u,n)),c=Pr[s](vi(l),t.ex),f=[...Array(t.x.length)],p=f[c]=this._compute(t.x[c],n);return o(p.val,f,l)}case"subscript":{const l=this._compute(t.br[0],n);return o(t.ex[l.val],[],[l])}case"vtag":return o(n.tag[t.ex]??"",[],[]);case"tag":{const l=n.with(t.tag),c=this._compute(t.x[0],l);return o(c.val,[c],[],l.tag)}case"dtag":{const l=t.br.map(p=>this._compute(p,n)),c=n.with(Object.fromEntries(l.map((p,u)=>[t.ex[u],p.val]))),f=this._compute(t.x[0],c);return o(f.val,[f],l,c.tag)}case"read":{const l=n.with(t.tag),c=this._gather(l),{pre:f}=c,p=t.ex??this.defaultAccu(l.tag)??"unique";if(p!==t.ex&&(t={...t,ex:p}),c[p])return c[p];if(dm()&&p==="unique"&&f.length!==1)throw new Error(`Ill-form read for ${fr(l.tag)}`);const u=jn[p](vi(f));return c[p]=o(u,f,[],l.tag)}case"custom":{const l=t.x.map(c=>this._compute(c,n));return o(Bf[t.ex].calc(vi(l)),l,[])}default:cm(s)}}defaultAccu(t){}markGathered(t,n,o,s){return s}computeMeta(t,n,o,s,l){}toDebug(){throw new Error("not implemented")}};const Ef={arithmetic:jn,branching:Pr};class Of extends Vr{constructor(t,n=fr,o=()=>!0){super(t.cache.keys),this.gathering=new Set,this.nodes=t.nodes,this.tagStr=n,this.filter=o,this.defaultAccu=s=>t.defaultAccu(s),this.cache=this.cache.with(t.cache.tag)}withTag(t){throw new Error("Unimplemented")}_gather(t){if(this.gathering.has(t))throw new Error(`Loop detected for ${this.tagStr(t.tag)}`);this.gathering.add(t);const n=this.__gather(t);return this.gathering.delete(t),n}__gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:o,value:s})=>s.op==="reread"?this._gather(t.with(s.tag)).pre.map(l=>{const c=`${this.tagStr(o)} <= ${this.tagStr(s.tag)} : ${l.meta.readSeq}`;return Object.freeze({...l,meta:{...l.meta,readSeq:c}})}):[this.markGathered(t.tag,o,s,this._compute(s,t))]);return t.val={pre:n}}_compute(t,n){try{return super._compute(t,n)}catch(o){return Object.freeze({val:NaN,meta:{formula:`${o}`,deps:[],omitted:[],val:NaN,x:[],br:[],comp:"ERR",pivot:!0,toJSON:bs}})}}markGathered(t,n,o,s){const l=`${this.tagStr(n)} <- ${this.tagStr(t)}`;return{...s,meta:{...s.meta,readSeq:l,pivot:!0}}}computeMeta(t,n,o,s,l){let c,f;const p=o.filter(y=>y).map(y=>y.meta),u=s.map(y=>y.meta),k=[],R=t.op==="read"?t.ex:t.op,D=[];if(R in jn){const y=jn[R]([]);for(const x of[...u,...p])x.val!==y||this.filter(x)?k.push(x):D.push(x)}else k.push(...u,...p);switch(t.op){case"const":c=$s(t.ex);break;case"read":f=`gather ${p.length} node(s)`,f+=` matching ${this.tagStr(l,t.ex)}`,f+=` (for ${this.tagStr(t.tag)})`,D.length&&(f+=` <${D.length} omitted>`),c=`${this.tagStr(t.tag)}`;break;default:{const y=[];t.ex&&t.op!=="subscript"&&y.push(JSON.stringify(t.ex)),t.tag&&y.push(this.tagStr(t.tag)),y.push(...k.map(x=>x.comp)),D.length&&y.push(`<${D.length} omitted>`),c=`${t.op}(`+y.join(", ")+")"}}return D.push(...k.flatMap(y=>y.pivot?[]:y.omitted)),Object.freeze({formula:`[${$s(n)}] ${f??c}`,deps:[...new Set(k.flatMap(y=>y.pivot?[y]:y.deps))],omitted:[...new Set(D)],val:n,x:p,br:u,comp:c,pivot:t.op==="read",toJSON:bs})}}const $s=e=>typeof e=="string"?`"${e}"`:e.toString();function bs(){const{formula:e,readSeq:t,deps:n}=this,o={readSeq:t,formula:e,deps:n};return o.readSeq||delete o.readSeq,o.deps.length||delete o.deps,Object.keys(o).length===1?o.formula:o}function ea(e){const{database:t}=we();return _r(t.chars,e)}function Af(e){const{database:t}=we();return _r(t.charOpts,e)}const{arithmetic:Pf}=Ef;let Vf=class extends Vr{computeMeta({op:t,ex:n,tag:o},s,l,c,f){let p=l.filter(y=>!!y);const u=Ff(p,c);function k(y){return Object.freeze(f&&!y.tag?{tag:f,...y}:y)}function R(y,x){return k({op:y,ops:x,...u})}function D(y,x){let{meta:C}=y;return x!=null&&x.some(I=>!C.usedCats.has(I))&&(C={...C,usedCats:new Set([...C.usedCats,...x])}),k(C.conds===u.conds?C:{...C,...u})}if(t==="read"&&(f==null?void 0:f.qt)==="cond"){const{src:y,dst:x,sheet:C,q:I}=f;y&&C&&I&&(u.conds=Yi(u.conds,{[x??"All"]:{[y]:{[C]:{[I]:s}}}}))}switch(t==="read"&&n!=="unique"&&([t,n]=[n,void 0]),t){case"sum":case"prod":case"min":case"max":case"sumfrac":if(p.length>1){const y=Pf[t]([]);p=p.filter(x=>x.val!==y)}return p.length===1?D(p[0]):R(p.length?t:"const",p);case"const":case"subscript":return R("const",[]);case"vtag":return u.usedCats=new Set([n]),R("const",[]);case"match":case"thres":case"lookup":case"read":return D(p[0]);case"tag":return D(p[0],Object.keys(o));case"dtag":return D(p[0],n);case"custom":return R(n,p);default:rm(t)}}markGathered(t,n,o,s){const{val:l}=s,c={...s.meta};let f=!1;const p=new Set([...c.usedCats,...Object.keys(n)]);return c.usedCats.size!==p.size&&(c.usedCats=p,f=!0),f?{val:l,meta:Object.freeze(c)}:s}listFormulas(t){return this.gather(t.tag).filter(n=>n.val).map(({val:n,meta:o})=>mm.withTag(o.tag)[n])}listCondFormulas(t){return this.listFormulas(t).map(n=>this.compute(n).meta.conds).reduce(Yi,{})}};function Ff(e,t){var c;const n=[...e.map(f=>f.meta),...t.map(f=>f.meta)];let o={},s=new Set;for(const f of n)o=Yi(o,f.conds),f.usedCats.forEach(p=>s.add(p));const l=s.size;return s=((c=n.find(f=>f.usedCats.size===l))==null?void 0:c.usedCats)??s,{usedCats:s,conds:o}}function Yi(e,t){if(e===t)return e;if(typeof e!="object")throw new Error(`cannot merge ${e} and ${t}`);if(Object.keys(t).length>Object.keys(e).length&&([e,t]=[t,e]),!Object.keys(t).length)return e;let n=!1;const o={...e};for(const[s,l]of Object.entries(t)){const c=o[s],f=s in o?Yi(c,l):l;c!==f&&(o[s]=f,n=!0)}return Object.freeze(n?o:e)}function qf(e){const t=new Set(e);return n=>!Lf(n,t)}function Lf(e,t){const n=e.formula.match(/(\S+) (\S+) common.count/);if(!n)return!1;const[,o,s]=n;return s==="own"&&t.has(o)}class Hf extends Vf{toDebug(){return new Of(this,fm,qf([...ur,...hr]))}defaultAccu(t){var s,l,c,f;const{qt:n,q:o}=t;if(!(!n||!o))switch(t.et){case"own":case"target":return(l=(s=pr[n])==null?void 0:s[o])==null?void 0:l.accu;case"enemy":return(f=(c=_m[n])==null?void 0:c[o])==null?void 0:f.accu;case"team":if(n==="common"&&o==="count")return"sum";throw new Error("non-explicit team value accumulator")}}listFormulas(t){return super.listFormulas(t).filter(n=>n.tag.qt!=="formula"||["standardDmgInst","sheerDmgInst","anomalyDmgInst","anomalyBuildupInst","dazeInst"].includes(n.tag.name??""))}}function Wi(e,...t){return t.map(({tag:n,value:o})=>({tag:{...n,preset:e},value:o}))}function Fr(e,...t){return t.map(({tag:n,value:o})=>({tag:{...n,src:e},value:o}))}function qr(e){const{lvl:t,promotion:n,basic:o,dodge:s,special:l,chain:c,assist:f,core:p,mindscape:u}=L.char,{char:k,iso:R,[e.key]:D}=q.withAll("sheet",[]);return[k.reread(D),R.reread(D),t.add(e.level),o.add(e.basic),s.add(e.dodge),l.add(e.special),c.add(e.chain),f.add(e.assist),p.add(e.core),n.add(e.promotion),u.add(e.mindscape),Le.base.crit_.add(.05),Le.base.crit_dmg_.add(.5)]}function jf(e){return[q.sheet("agg").reread(q.sheet("wengine")),...e?[L.common.count.sheet(e.key).add(1),L.wengine.lvl.add(e.level),L.wengine.modification.add(e.modification),L.wengine.phase.add(e.phase)]:[]]}function Lr(e,t){const{common:{count:n},initial:o}=ym(pr,{sheet:"disc",et:"own"});return[q.sheet("agg").reread(q.sheet("disc")),q.withTag({sheet:"disc",qt:"initial"}).reread(q.sheet("dyn")),...Object.entries(e).map(([s,l])=>$m(o,s).sheet("dyn").add(l)),...Object.entries(t).map(([s,l])=>n.sheet(s).add(l))]}function Kf(e){const t={},n={};return e.forEach(({setKey:o,mainStatKey:s,substats:l,level:c,rarity:f})=>{t[o]=(t[o]??0)+1,n[s]=(n[s]??0)+hm(f,s,c),l.forEach(({key:p,upgrades:u})=>{!p||!u||(n[p]=(n[p]??0)+gm(p,f)*u)})}),Lr(n,t)}function Hr(e){const t=q.with("et","team"),{own:n,enemy:o,teamBuff:s,notOwnBuff:l}=q.sheet("agg").withAll("et",[]);return[e.map(c=>q.withTag({et:"target",dst:c}).reread(q.withTag({et:"own",dst:null,src:c}))),e.flatMap(c=>{const f=n.with("src",c);return e.map(p=>f.reread(s.withTag({dst:c,src:p,name:null})))}),e.flatMap(c=>{const f=n.with("src",c);return e.filter(p=>p!==c).map(p=>f.reread(l.withTag({dst:c,src:p,name:null})))}),e.map(c=>o.reread(q.withTag({et:"enemyDeBuff",dst:null,src:c,name:null}))),e.flatMap((c,f)=>{const{stackIn:p,stackTmp:u}=q.withAll("qt",[]),k=q.withTag({src:c,et:"own"});return[k.with("qt","stackTmp").add(pm(p,0,f+1)),k.with("qt","stackOut").add(um(u.max.with("et","team"),f+1,p))]}),e.map(c=>t.add(q.withTag({src:c,et:"own"})))].flat()}function jr(e){const t=gr(Ui,e);return new Hf(Ui,bm,t)}function Wf(e){return new Tf(Ui,gr(Ui,e))}function Nf({characterKey:e}){return i(Gi,{ns:"charNames_gen",key18:e})}function Uf({attribute:e}){return Ie[e]}function Gf({characterKey:e,onClick:t,charCardConfig:n}){const{level:o=0,promotion:s=0}=ea(e)??{},l=be(e),c=n||{cardWidth:"100%",charImgWidth:"100%",iconsSize:1.7,isEditing:!1,charNameWidth:"191px",charNameVariant:"h6",scrollingBgSize:"200px"},f=v.useCallback(()=>e&&(t==null?void 0:t(e)),[e,t]),p=v.useCallback(u=>i(Ho,{onClick:f,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:u}),[f]);return i(Kn,{children:i(xm,{condition:!!t,wrapper:p,children:w(ce,{sx:{display:"flex",flexDirection:"column",width:c.cardWidth},children:[i(Jf,{characterKey:e,characterStat:l,charCardConfig:c}),i(Yf,{characterKey:e,characterStat:l,promotion:s,level:o,charCardConfig:c})]})})})}function Jf({characterKey:e,characterStat:t,charCardConfig:n}){const{attribute:o,id:s}=t;return w(ce,{sx:c=>({width:"100%",height:"100%",position:"relative",display:"flex",background:`${c.palette[o].main}`,zIndex:1,overflow:"hidden"}),children:[w(ce,{sx:{position:"absolute",left:"0",right:"0",display:"flex",transform:"rotate(5deg) translateX(-50%)",zIndex:2},children:[i(xs,{characterKey:e,charCardConfig:n}),i(xs,{characterKey:e,charCardConfig:n})]}),i(ce,{src:`https://act-webstatic.hoyoverse.com/game_record/zzzv2/role_vertical_painting/role_vertical_painting_${s}.png`,component:Ji?Ji:"img",width:n.charImgWidth,height:"auto",position:"relative",zIndex:"2"})]})}function Yf({characterKey:e,characterStat:t,promotion:n,level:o,charCardConfig:s}){const{t:l}=ee("page_characters"),{attribute:c,rarity:f,specialty:p}=t,u=ea(e);return i(ce,{sx:{width:"100%",height:"100%",padding:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:w(ce,{sx:{display:"flex",flexDirection:"column"},children:[w(ce,{gap:1,sx:{display:"flex",alignItems:"center"},children:[i(ne,{size:s.iconsSize,src:yr(f)}),i(V,{variant:s.charNameVariant,sx:{fontWeight:"900",maxWidth:s.charNameWidth,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:i(Nf,{characterKey:e})}),i(wm,{ele:c,iconProps:{sx:{fontSize:`${s.iconsSize}em`}}}),i(ne,{size:s.iconsSize,src:$r(p)}),s.isEditing?"":i(V,{variant:"h5",color:"primary",sx:{fontWeight:"900"},children:l("mindscape",{level:u?u.mindscape:0})})]}),s.isEditing?"":w(ce,{sx:{mt:"12px",display:"flex",gap:"14px",flexWrap:"wrap"},children:[w(ce,{sx:k=>({border:`2px solid ${k.palette.contentZzz.main}`,borderRadius:"20px",display:"flex"}),children:[i(V,{sx:{fontWeight:"900",paddingLeft:"12px",fontSize:"16px"},children:l("charLevel",{level:o})}),w(V,{color:"primary",sx:{fontWeight:"900",paddingLeft:"4px",pr:"10px"},children:["/ ",br[n]]})]}),w(ce,{gap:1.5,sx:{display:"flex",alignItems:"center"},children:[jo.map((k,R)=>i(gs,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${u?u[k]:0}`,color:"primary",children:i(ne,{size:1.9,src:ze(k)})},R)),i(gs,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${u?u.core:0}`,color:"primary",children:i(ne,{size:1.9,src:ze("core")})},6)]})]})]})})}function xs({characterKey:e,charCardConfig:t}){const{t:n}=ee("charNames_gen"),o={animation:"scroll 16s infinite linear","@keyframes scroll":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(0)"}}};return i(ce,{component:"span",sx:{color:"#000",marginTop:"20px",fontStyle:"italic",fontSize:t.scrollingBgSize,lineHeight:"150px",whiteSpace:"nowrap",textTransform:"uppercase",display:"flex",justifyContent:"center",fontFamily:"Impact",opacity:.1,...o},children:n(`${e}`)})}function Zf({mindscape:e,setMindscape:t}){const{t:n}=ee("page_characters");return i(B,{sx:{display:"flex",flexWrap:"wrap",gap:2,mt:"12px"},children:Ko(1,6).map(o=>i(B,{children:i(Kn,{sx:{position:"relative",borderRadius:"40px"},children:i(zf,{control:i(km,{checked:e>=o,onChange:()=>t(o===e?o-1:o)}),label:w(B,{sx:{position:"absolute",top:9,left:e>=o?75:16,transition:"left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",textAlign:"center"},children:[i(V,{variant:"subtitle1",sx:s=>({fontWeight:900,color:e>=o?s.palette.mindscapeActive.main:s.palette.mindscapeInactive.main}),children:n("mindscape",{level:o})}),i(V,{variant:"subtitle2",sx:s=>({lineHeight:.2,fontWeight:900,color:e>=o?s.palette.mindscapeActive.main:s.palette.mindscapeInactive.main}),children:n("mindscapeTitle")})]}),sx:{margin:0}})})},o))})}function Xf(e){return{new:t=>e.chars.get(t)?0:1,name:t=>xr.t(t).toString(),level:t=>{const n=e.chars.get(t);return n?n.level*(n.promotion+1):0},rarity:t=>be(t).rarity??0}}function Qf(e){return{attribute:(t,n)=>n.includes(be(t).attribute),specialtyType:(t,n)=>n.includes(be(t).specialty),rarity:(t,n)=>n.includes(be(t).rarity),name:(t,n)=>n===void 0||xr.t(t).toLowerCase().includes(n.toLowerCase()),new:(t,n)=>n===void 0||n===(e.chars.get(t)?"no":"yes")}}const Kr={name:["name"],level:["level","rarity","name"],rarity:["rarity","level","name"]};function nx({show:e,onHide:t,onSelect:n,newFirst:o=!1}){const{database:s}=we(),l=wr(s.displayCharacter),[c,f]=v.useState(""),p=v.useDeferredValue(c),u=v.useDeferredValue(l),k=v.useMemo(()=>{const{attribute:y,specialtyType:x,sortType:C,ascending:I}=u,H=[...o?["new"]:[],...Kr[C]??[]];return vm.filter(kr({attribute:y,specialtyType:x,name:p},Qf(s))).sort(Cm(H,I,Xf(s),["new"]))},[u,o,p,s]);return i(t_,{show:e,charactersToShow:k,filterSearchSortProps:{searchTerm:c,onChangeSpecialtyFilter:y=>{s.displayCharacter.set({specialtyType:y})},onChangeAttributeFilter:y=>{s.displayCharacter.set({attribute:y})},onChangeSearch:y=>{f(y.target.value)},onChangeSort:y=>{s.displayCharacter.set({sortType:y})},onChangeAsc:y=>{s.displayCharacter.set({ascending:y})}},onClose:()=>{f(""),t()},children:i(xe,{sx:{flex:"1",overflow:"auto"},children:i(v.Suspense,{fallback:i(je,{variant:"rectangular",width:"100%",height:1e3}),children:i(Q,{container:!0,spacing:.5,columns:{xs:2,sm:3,md:4,lg:5},children:k.map(y=>i(Q,{item:!0,xs:1,children:i(lt,{bgt:"light",sx:x=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",borderRadius:"40px 16px 16px 40px",border:`3px solid ${x.palette.contentZzz.main}`}),children:i(n_,{characterKey:y,onClick:()=>{t(),n(y)}})})},y))})})})})}const e_=Object.keys(Kr);function t_({show:e,charactersToShow:t,filterSearchSortProps:n,onClose:o,children:s}){const{t:l}=ee("page_characters"),{database:c}=we(),f=wr(c.displayCharacter),p=v.useMemo(()=>ps(vr,x=>c.chars.entries.forEach(([C,I])=>{const H=be(I.key).specialty;x[H].total++,t.includes(C)&&x[H].current++})),[t,c.chars.entries]),u=v.useMemo(()=>ps(Fe,x=>Object.entries(c.chars.data).forEach(([C])=>{const I=be(C).attribute;x[I].total++,t.includes(C)&&x[I].current++})),[t,c.chars.data]),{specialtyType:k,attribute:R,sortType:D,ascending:y}=f;return i(Uo,{open:e,onClose:o,containerProps:{sx:{height:"100vh",p:{xs:1}}},children:w(lt,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[w(xe,{sx:{display:"flex",flexDirection:"column",gap:1},children:[w(B,{sx:{display:"flex",justifyContent:"space-between"},children:[w(B,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[i(Rm,{onChange:x=>c.displayCharacter.set({specialtyType:x}),value:k,totals:p,size:"small"}),i(Im,{onChange:x=>c.displayCharacter.set({attribute:x}),value:R,totals:u,size:"small"})]}),i(Wo,{sx:{ml:"auto"},onClick:()=>o(),children:i(No,{})})]}),w(B,{display:"flex",gap:1,children:[i(zm,{autoFocus:!0,value:n.searchTerm,onChange:x=>n.onChangeSearch(x),label:l("characterName"),size:"small",sx:{height:"100%",mr:"auto"},InputProps:{sx:{height:"100%"}}}),i(Bm,{sortKeys:e_,value:D,onChange:x=>n.onChangeSort(x),ascending:y,onChangeAsc:x=>n.onChangeAsc(x)})]})]}),i(Hn,{}),s]})})}function n_({characterKey:e,onClick:t}){const{t:n}=ee(["page_characters","charNames_gen"]),o=Sm(),s=ea(e),{rarity:l,attribute:c}=be(e),{level:f=1,promotion:p=0,mindscape:u=0}=s??{},k=c==="electric"?o.palette[c].light:o.palette[c].main;return i(Ho,{onClick:t,children:w(B,{sx:{position:"relative",width:"100%",display:"flex",padding:"3px",gap:.5,"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,background:k}},children:[i(B,{sx:{maxWidth:{xs:"33%",lg:"30%"},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,flexShrink:1},children:i(B,{component:Ji?Ji:"img",src:Dm(e,"interknot")})}),w(B,{sx:{display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly"},children:[w(B,{sx:{display:"flex",alignItems:"center",gap:.5},children:[i(ne,{size:1.5,src:yr(l)}),i(V,{variant:"subtitle2",sx:R=>({flexGrow:1,color:R.palette.contentNormal.main,fontWeight:"900"}),children:n(`charNames_gen:${e}`)})]}),s?w(B,{sx:R=>({display:"flex",gap:1,alignItems:"center",background:R.palette.contentNormal.main,padding:"4px 12px",borderRadius:"20px"}),children:[w(B,{sx:{textShadow:"0 0 5px gray"},children:[i(V,{variant:"body2",component:"span",whiteSpace:"nowrap",children:n("charLevel",{level:f})}),w(V,{variant:"body2",component:"span",color:"text.secondary",children:["/",br[p]]})]}),w(V,{variant:"body2",children:["M",u]})]}):i(V,{component:"span",variant:"body2",children:i(qo,{color:"electric",children:n("characterEditor.new")})})]})]})})}function i_(){const{t:e}=ee("page_characters"),{database:t}=we(),n=Qi(),{core:o=0,promotion:s=0,key:l}=n??{},c=v.useCallback(f=>l&&t.chars.set(l,{core:f}),[t,l]);return i(Sr,{fullWidth:!0,title:e("core",{level:o}),color:"primary",startIcon:i(ne,{src:ze("core"),size:1.75,sideMargin:!0}),children:Ko(0,Mm[s]).map(f=>i(Cr,{selected:o===f,disabled:o===f,onClick:()=>c(f),children:e("core",{level:f})},f))})}const a_={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3};function Wr({disc:e,onChangeId:t,slotKey:n,show:o,onClose:s}){const{t:l}=ee(["page_characters","disc"]),{database:c}=we(),f=e==null?void 0:e.id,p=v.useCallback((z,A)=>({...z,...A,slotKeys:[n]}),[n]),[u,k]=v.useReducer(p,{...gf(),slotKeys:[n]}),R=Tm(),D=v.useMemo(()=>yf(),[]),y=Em(c.discs),x=y.filter(z=>z.slotKey===u.slotKeys[0]).length,C=v.useMemo(()=>{const z=kr(u,D);let A=y.filter(z).map(F=>F.id);return f&&c.discs.get(f)&&(A=A.filter(F=>F!==f),A.unshift(f)),A},[u,D,y,f,c.discs]),{numShow:I,setTriggerElement:H}=Om(a_[R],C.length),N=v.useMemo(()=>C.slice(0,I),[C,I]),fe=C.length!==x?`${C.length}/${x}`:`${x}`,_e={numShowing:N.length,total:fe,t:l,namespace:"disc"},K=v.useCallback(z=>{Am.includes(z)?t(null):z&&t(z),s()},[t,s]);return i(Uo,{open:o,onClose:s,containerProps:{maxWidth:"xl"},children:w(lt,{children:[w(xe,{sx:{py:1,display:"flex",alignItems:"center"},children:[i(V,{variant:"h6",children:l("tabEquip.swapDisc")}),i(Wo,{onClick:s,sx:{ml:"auto"},children:i(No,{})})]}),i(Hn,{}),i(xe,{children:i(v.Suspense,{fallback:i(je,{variant:"rectangular",width:"100%",height:200}),children:i(Pm,{filterOption:u,filterOptionDispatch:k,filteredIds:C,disableSlotFilter:!0})})}),i(Hn,{}),w(xe,{children:[i(B,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:i(Vm,{showingTextProps:_e})}),i(B,{mt:1,children:i(v.Suspense,{fallback:i(je,{variant:"rectangular",width:"100%",height:1e3}),children:w(Q,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:[f&&i(Q,{item:!0,xs:1,children:i(lt,{bgt:"light",sx:{width:"100%",height:"100%"},children:i(Ho,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>K(n),children:w(B,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[i(Fm,{sx:{fontSize:"10em"}}),i(V,{children:l("disc:button.unequipDisc")})]})})})}),N.map(z=>i(Q,{item:!0,xs:1,sx:A=>({...f===z&&{"> .MuiCard-root":{outline:`${A.spacing(.5)} solid ${A.palette.warning.main}`}}}),children:i(Dr,{disc:c.discs.get(z),onClick:f===z?void 0:()=>K(z)})},z))]})})}),C.length!==N.length&&i(je,{ref:z=>{z&&H(z)},sx:{borderRadius:1,mt:1},variant:"rectangular",width:"100%",height:100})]})]})})}function o_(e){return"fieldRef"in e}var gn={},ws;function s_(){if(ws)return gn;ws=1;var e=qm();Object.defineProperty(gn,"__esModule",{value:!0}),gn.default=void 0;var t=e(Lm()),n=Hm(),o=(0,t.default)((0,n.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");return gn.default=o,gn}var c_=s_();const Un=jm(c_),l_={xs:1,sm:2,md:3,lg:3,xl:3};function d_({setWengine:e,setDisc:t}){const{database:n}=we(),o=v.useContext(Rr),[s,l]=v.useState(),[c,f]=v.useState(""),p=v.useCallback(x=>{f(x)},[]),u=v.useCallback(x=>{l(x)},[]),k=Ir(o==null?void 0:o.equippedWengine),R=o?be(o.key).specialty:vr[0],D=zr(o==null?void 0:o.equippedDiscs),y=Km(s);return i(B,{children:w(rr,{spacing:2,children:[i(v.Suspense,{fallback:!1,children:c&&i(Wm,{wengineId:c,footer:!0,onClose:()=>f(""),extraButtons:i(p_,{wengineId:(k==null?void 0:k.id)||"",wengineTypeKey:R,onChangeId:e})})}),i(v.Suspense,{fallback:!1,children:y&&i(Nm,{disc:y,show:!!s,onShow:()=>l(s),onClose:()=>l(void 0),cancelEdit:()=>l(void 0)})}),i(B,{children:k!=null&&k.id?i(Um,{wengine:k,onEdit:()=>p(k.id),extraButtons:i(__,{wengineId:k.id,wengineTypeKey:R,onChangeId:e})}):i(r_,{wengineId:"",wengineTypeKey:R,onChangeId:e})}),i(B,{children:i(Q,{item:!0,columns:l_,container:!0,spacing:1,children:!!D&&Object.entries(D).map(([x,C])=>i(Q,{item:!0,xs:1,children:C!=null&&C.id?i(Dr,{disc:C,extraButtons:i(f_,{disc:C,slotKey:x,onChangeId:I=>t(x,I)}),onEdit:()=>u(C.id),onLockToggle:()=>n.discs.set(C.id,({lock:I})=>({lock:!I}))}):i(m_,{slotKey:x,onChangeId:I=>t(x,I)})},(C==null?void 0:C.id)||x))})})]})})}function r_({wengineId:e,wengineTypeKey:t,onChangeId:n}){const[o,s,l]=Wn();return w(Kn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i(xe,{children:w(V,{children:[i(ne,{src:$r(t)})," "]})}),i(Hn,{}),w(B,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i(Go,{wengineId:e,wengineTypeKey:t,show:o,onClose:l,onChangeId:n}),i(dt,{onClick:s,color:"info",sx:{borderRadius:"1em"},children:i(Un,{sx:{height:100,width:100}})})]})]})}function m_({slotKey:e,onChangeId:t}){const[n,o,s]=Wn(),{t:l}=ee("disc");return w(Kn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i(xe,{children:i(V,{children:l("slotName",{slotKey:e})})}),i(Hn,{}),w(B,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i(Wr,{disc:void 0,slotKey:e,show:n,onClose:s,onChangeId:t}),i(dt,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:i(Un,{sx:{height:100,width:100}})})]})]})}function f_({disc:e,slotKey:t,onChangeId:n}){const{t:o}=ee("page_characters"),[s,l,c]=Wn();return w(Nn,{children:[i(Br,{title:i(V,{children:o("tabEquip.swapDisc")}),placement:"top",arrow:!0,children:i(dt,{color:"info",size:"small",onClick:l,"aria-label":o("tabEquip.swapDisc"),children:i(Un,{})})}),i(Wr,{disc:e,slotKey:t,show:s,onClose:c,onChangeId:n})]})}function __({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:o}=ee("page_characters"),[s,l,c]=Wn();return w(Nn,{children:[i(Br,{title:i(V,{children:o("tabEquip.swapWengine")}),placement:"top",arrow:!0,children:i(dt,{color:"info",size:"small",onClick:l,children:i(Un,{})})}),i(Go,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:s,onClose:c})]})}function p_({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:o}=ee("page_characters"),[s,l,c]=Wn();return w(Nn,{children:[i(dt,{color:"info",onClick:l,startIcon:i(Un,{}),children:o("tabEquip.swapWengine")}),i(Go,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:s,onClose:c})]})}function u_({skillKey:e}){const{database:t}=we(),{t:n}=ee("page_characters"),o=Qi(),{[e]:s=0,promotion:l=0,key:c}=o??{},f=v.useCallback(p=>c&&t.chars.set(c,{[e]:p}),[t,c,e]);return i(Sr,{fullWidth:!0,title:n(e,{level:s}),color:"primary",startIcon:i(ne,{src:ze(e),size:1.75,sideMargin:!0}),children:Ko(1,Gm[l]).map(p=>i(Cr,{selected:s===p,disabled:s===p,onClick:()=>f(p),children:n(e,{level:p})},p))})}function ta(){const e=v.useContext(Jo),t=v.useContext(Jm);return v.useMemo(()=>e==null?void 0:e.withTag(t),[e,t])}const b=(e,t)=>i(Gi,{ns:"sheet",key18:e,values:t});function r(e,t){return[(n,o)=>i(Gi,{ns:`${e}_${t}_gen`,key18:n,values:o}),(n,o)=>i(Gi,{ns:`${e}_${t}`,key18:n,values:o})]}function d(e){return{title:i(na,{tag:e}),fieldRef:e}}function h_(e){if(!e)return"";const{et:t,q:n,qt:o,name:s}=e;return t==="own"&&o==="formula"&&n!=="base"?s??n??"":n??""}const g_={initial:"Initial",combat:"Combat",final:"Final",base:"Base"};function na({tag:e,showPercent:t,preventRecursion:n}){return i(qe,{color:G1(e),children:i(b_,{tag:e,showPercent:t,preventRecursion:n})})}function ix({tag:e,showPercent:t}){return w(Nn,{children:[i(na,{tag:e,showPercent:t}),Y1(e).map(n=>i(qo,{children:Zi[n]},n)),e.attribute&&i(qo,{color:e.attribute,children:i(Uf,{attribute:e.attribute})})]})}const y_=["hp","hp_","atk","atk_","def","def_"],$_=e=>y_.includes(e),ks={dmg_:"DMG",common_dmg_:"DMG",defIgn_:"DEF Ignore",resIgn_:"Res Ignore",dazeInc_:"Daze Increase",buff_:"Buff Bonus"};function b_({tag:e,showPercent:t,preventRecursion:n}){var c;const o=ta(),s=(c=Z1.subset(e)[0])==null?void 0:c.title;if(s&&!n)return s;if(e.qt==="cond"&&e.q&&e.sheet&&o){const f=Lo.get(`${e.sheet}:${e.q}`);if(f)return Ym(f.label,o,o==null?void 0:o.compute(new Zm(e,"max")).val)}const l=h_(e);if($_(l))return w("span",{children:[i(Qm,{statKey:l,iconProps:Xm})," ",w("span",{children:[(e.qt&&g_[e.qt])??e.qt," ",ef[l],t&&Mr(l)]})]});if(ks[l]){const f=[...e.attribute?[Ie[e.attribute]]:[],...e.damageType1?[Zi[e.damageType1]]:[],...e.damageType2?[Zi[e.damageType2]]:[],ks[l]];return i("span",{children:f.join(" ")})}return i(qn,{statKey:l,showPercent:t})}function x_(){const e=ta();return i(Kn,{children:i(xe,{children:e==null?void 0:e.listFormulas(L.listing.formulas).map((t,n)=>i(w_,{read:t},n))})})}function w_({read:e}){var C,I,H,N,fe,_e,K;const t=ta(),{setRead:n}=v.useContext(tf),o=Qi(),s=Af(o==null?void 0:o.key),l=e.tag.sheet===((C=s==null?void 0:s.target)==null?void 0:C.sheet)&&e.tag.name===((I=s==null?void 0:s.target)==null?void 0:I.name)||((H=s==null?void 0:s.target)==null?void 0:H.q)===e.tag.q,c=v.useMemo(()=>{var z,A,F,pe;return e.tag.sheet===((z=s==null?void 0:s.target)==null?void 0:z.sheet)&&e.tag.name===((A=s==null?void 0:s.target)==null?void 0:A.name)?nf(e.tag,(F=s==null?void 0:s.target)==null?void 0:F.damageType1,(pe=s==null?void 0:s.target)==null?void 0:pe.damageType2):e.tag},[e.tag,(N=s==null?void 0:s.target)==null?void 0:N.sheet,(fe=s==null?void 0:s.target)==null?void 0:fe.name,(_e=s==null?void 0:s.target)==null?void 0:_e.damageType1,(K=s==null?void 0:s.target)==null?void 0:K.damageType2]),f=v.useMemo(()=>({...e,tag:c}),[c,e]),p=t==null?void 0:t.compute(f),u=c.name||c.q,{statHighlight:k,setStatHighlight:R}=v.useContext(af),D=c.name?"":c.attribute?`${c.attribute}_${c.q}`:c.q==="cappedCrit_"?"crit_":c.q==="anom_cappedCrit_"?"anom_crit_":c.q,y=D?of(k,D):!1;if(!p)return null;const x=sf(p.val,Mr(u??""));return w(B,{onMouseEnter:()=>D&&R(D),onMouseLeave:()=>R(""),sx:{display:"flex",gap:1,alignItems:"center",p:.5,borderRadius:.5,backgroundColor:l?"rgba(0,200,0,0.2)":void 0,position:"relative","::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:.5,backgroundColor:cf(y),transition:"background-color 0.3s ease-in-out",pointerEvents:"none"}},children:[i(B,{sx:{flexGrow:1},children:i(na,{tag:c})}),x,i(lf,{tag:c,onClick:()=>{}})]})}function ax({characterKey:e,onClose:t}){return i(Uo,{open:!!e,onClose:t,children:i(v.Suspense,{fallback:i(je,{variant:"rectangular",width:"100%",height:1e3}),children:e&&i(k_,{characterKey:e,onClose:t},e)})})}function k_({characterKey:e,onClose:t}){const n=ea(e);return i(lt,{children:i(xe,{sx:{display:"flex",flexDirection:"column",gap:1},children:i(v.Suspense,{fallback:i(je,{variant:"rectangular",width:"100%",height:1e3}),children:n?i(Rr.Provider,{value:n,children:i(C_,{onClose:t})}):i(je,{variant:"rectangular",width:"100%",height:1e3})})})})}const v_={cardWidth:"500px",charImgWidth:"75%",iconsSize:1.5,isEditing:!0,charNameWidth:"166px",charNameVariant:"h6",scrollingBgSize:"220px"};function C_({onClose:e}){const{t}=ee(["page_characters"]),n=df(),{database:o}=we(),s=Qi(),{key:l,equippedDiscs:c,equippedWengine:f}=s,p=v.useCallback(async()=>{const u=t(`${l}`);window.confirm(t("removeCharacter",{value:u}))&&(o.chars.remove(l),n("/characters"))},[o,n,l,t]);return w(B,{display:"flex",flexDirection:"column",gap:1,children:[w(B,{display:"flex",gap:1,children:[i(dt,{color:"error",onClick:()=>p(),startIcon:i(rf,{}),sx:{marginLeft:"auto"},children:t("characterEditor.delete")}),!!e&&i(Wo,{onClick:e,children:i(No,{})})]}),i(B,{children:w(Q,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[i(Q,{item:!0,xs:6,sm:4,md:4,lg:4,xl:4,children:w(lt,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[i(Gf,{characterKey:l,charCardConfig:v_}),i(B,{sx:{px:1},children:i(mf,{level:s.level,milestone:s.promotion,setBoth:({level:u,milestone:k})=>o.chars.set(l,{level:u,promotion:k})})}),i(x_,{}),i(Zf,{mindscape:s.mindscape,setMindscape:u=>o.chars.set(l,{mindscape:u})})]})}),w(Q,{item:!0,xs:6,sm:8,md:8,lg:8,xl:8,sx:{display:"flex",flexDirection:"column",gap:1},children:[i(B,{children:w(Q,{container:!0,columns:3,spacing:1,children:[jo.map(u=>i(Q,{item:!0,xs:1,children:i(u_,{skillKey:u},u)},u)),i(Q,{item:!0,xs:1,children:i(i_,{})},"core")]})}),i(B,{children:i(d_,{setWengine:u=>{u?o.wengines.set(u,{location:l}):f&&o.wengines.set(f,{location:""})},setDisc:(u,k)=>{k?o.discs.set(k,{location:l}):c[u]&&o.discs.set(c[u],{location:""})}})})]})]})})]})}function ox({character:e,charOpt:t,wengineId:n,discIds:o,children:s}){const l=S_(e,n,o),c=v.useMemo(()=>jr([...Hr([e.key]),...l,Le.common.critMode.add(t.critMode),le.common.lvl.add(t.enemyLvl),le.common.def.add(t.enemyDef),le.common.isStunned.add(t.enemyisStunned?1:0),le.common.stun_.add(t.enemyStunMultiplier/100),le.common.unstun_.add(1),le.common.anomTimePassed.add(0),...t.conditionals.flatMap(({sheet:p,src:u,dst:k,condKey:R,condValue:D})=>Wi("preset0",Tr(p,u,k)(R,D))),...t.bonusStats.filter(({disabled:p})=>!p).flatMap(({tag:p,value:u})=>Wi("preset0",{tag:{...p,src:e.key,sheet:"agg",et:"own"},value:us(hs(u,p.q??""))})),...t.enemyStats.flatMap(({tag:p,value:u})=>Wi("preset0",{tag:{...p,qt:"common",et:"enemy",sheet:"agg"},value:us(hs(u,p.q??""))})),...t.teammates.flatMap(p=>[Le.common.count.withSpecialty(ja.char[p].specialty).add(1),Le.common.count.withFaction(ja.char[p].faction).add(1),Le.common.count.withTag({attribute:ja.char[p].attribute}).add(1)])]),[l,t,e.key]),f=v.useMemo(()=>c&&new Map,[c]);return i(ff.Provider,{value:f,children:i(Jo.Provider,{value:c,children:s})})}function S_(e,t,n){const o=Ir(t),s=zr(n),l=v.useMemo(()=>jf(o),[o]),c=v.useMemo(()=>Kf(Object.values(s).filter(_f)),[s]);return v.useMemo(()=>Fr(e.key,...qr(e),...l,...c),[e,l,c])}function sx({character:e,conditionals:t,children:n}){const o=v.useMemo(()=>jr([...Hr([e.key]),...Fr(e.key,...qr(e),...Lr({},Er(hr,()=>4)),q.sheet("agg").reread(q.sheet("wengine")),L.wengine.lvl.add(60),L.wengine.modification.add(5),L.wengine.phase.add(1),...ur.map(s=>L.common.count.sheet(s).add(1))),Le.common.critMode.add("avg"),le.common.lvl.add(100),le.common.def.add(900),le.common.isStunned.add(0),le.common.stun_.add(1.5),le.common.unstun_.add(1),...t.flatMap(({sheet:s,src:l,dst:c,condKey:f,condValue:p})=>Wi("preset0",Tr(s,l,c)(f,p)))]),[e,t]);return i(Jo.Provider,{value:o,children:n})}function S(e,t={}){return{...D_(e,t==null?void 0:t.perSkillAbility),core:I_(e,t==null?void 0:t.core,t==null?void 0:t.ability),m1:We(e,1,t==null?void 0:t.m1),m2:We(e,2,t==null?void 0:t.m2),m3:We(e,3,t==null?void 0:t.m3),m4:We(e,4,t==null?void 0:t.m4),m5:We(e,5,t==null?void 0:t.m5),m6:We(e,6,t==null?void 0:t.m6)}}function a(e){return{title:i(na,{tag:e.tag,preventRecursion:!0}),fieldRef:e.tag}}function D_(e,t){const n=$.char[e],o=M[e],[s,l]=r("char",e);return Er(jo,c=>({title:c,img:ze(`${c}Flat`),documents:Object.keys(n[c]).flatMap(f=>{var p;return[{type:"text",header:{icon:i(ne,{src:ze(`${c}Flat`),size:1.5}),text:s(`${c}.${f}.name`)},text:s(`${c}.${f}.desc`)},{type:"fields",fields:Object.values(o).filter(u=>u.name.split("_")[0]===f).map(u=>({title:R_(e,c,u.name),fieldRef:u.tag}))},...((p=t==null?void 0:t[c])==null?void 0:p[f])??[]]})}))}function R_(e,t,n){const[o,s,l]=n.split("_");return b(l,{val:`$t(char_${e}_gen:${t}.${o}.params.${s})`})}function I_(e,t=[],n=[]){const[o,s]=r("char",e);return{title:"core",documents:[{type:"text",header:{icon:i(ne,{src:ze("coreFlat"),size:1.5}),text:o("core.name")},text:l=>o(`core.desc.${l.compute(L.char.core).val}`)},...t,{type:"text",header:{icon:i(ne,{src:ze("coreFlat"),size:1.5}),text:o("ability.name")},text:o("ability.desc")},...n]}}function We(e,t,n=[]){const[o,s]=r("char",e);return{title:`mindscape${t}`,documents:[{type:"text",header:{icon:i(ne,{src:pf(t),size:1.5}),text:o(`mindscapes.${t}.name`)},text:w(Nn,{children:[o(`mindscapes.${t}.desc`),i("br",{}),i("br",{}),i("i",{children:o(`mindscapes.${t}.flavor`)})]})},...n]}}const Gn="Alice",[,Na]=r("char",Gn),Ua=_[Gn],ue=m[Gn],z_=M[Gn],B_=S(Gn,{core:[{type:"conditional",conditional:{label:Na("coreCond"),metadata:Ua.physical_anomaly_inflicted,fields:[a(ue.core_anom_mv_mult_)]}},{type:"fields",fields:[a(ue.core_addl_disorder_)]},{type:"conditional",conditional:{label:Na("coreCond2"),metadata:Ua.assault_triggered,fields:[a(ue.core_physical_anomBuildup_)]}}],ability:[{type:"fields",fields:[a(ue.ability_anomProf)]}],m1:[{type:"conditional",conditional:{label:Na("coreCond2"),metadata:Ua.assault_triggered,fields:[a(ue.m1_defRed_)]}}],m2:[{type:"fields",fields:[a(ue.m2_physical_anomaly_buff_),a(ue.m2_physical_anomaly_buff_)]}],m4:[{type:"fields",fields:[a(ue.m4_physical_resIgn_),a(ue.m4_basic_anomBuildup_)]}],m6:[{type:"fields",fields:[{title:b("dmg"),fieldRef:z_.m6_dmg.tag}]}]}),ia="Anby",[,Ci]=r("char",ia),Ga=_[ia],Ne=m[ia],M_=S(ia,{core:[{type:"conditional",conditional:{label:Ci("coreCond"),metadata:Ga.core_after3rdBasic,fields:[{title:Ci("core_dazeInc_"),fieldRef:Ne.core_after3rdBasic_dazeInc_.tag}]}}],m1:[{type:"conditional",conditional:{label:Ci("m1Cond"),metadata:Ga.m1After4thBasicHit,fields:[a(Ne.m1_after4thHit_energyRegen_)]}}],m2:[{type:"fields",fields:[a(Ne.m2_stunned_basic_dmg_),a(Ne.m2_unstunned_ex_dazeInc_)]}],m6:[{type:"conditional",conditional:{label:Ci("m6Cond"),metadata:Ga.m6ChargeConsumed,fields:[a(Ne.m6_charge_basic_dmg_),a(Ne.m6_charge_exSpecial_dmg_)]}}]}),Jn="Anton",[,yn]=r("char",Jn),Ja=_[Jn],$n=m[Jn],T_=M[Jn],E_=S(Jn,{core:[{type:"fields",fields:[{title:yn("core_piledriver_dmg_"),fieldRef:$n.core_piledriver_dmg_.tag},{title:yn("core_drill_dmg_"),fieldRef:$n.core_drill_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:yn("abilityCond"),metadata:Ja.burst_mode,fields:[a($n.ability_electric_anom_mv_mult_)]}}],m2:[{type:"fields",fields:[{title:b("shield"),fieldRef:T_.m2_shield.tag}]}],m4:[{type:"conditional",conditional:{label:b("uponLaunch.2",{val1:"$t(skills.chain)",val2:"$t(skills.ult)"}),metadata:Ja.chain_ult_used,fields:[a($n.m4_crit_)]}}],m6:[{type:"conditional",conditional:{label:yn("m6Cond"),metadata:Ja.piledriver_crits,fields:[{title:yn("m6_dmg_"),fieldRef:$n.m6_dmg_.tag}]}}]}),rt="AstraYao",[,he]=r("char",rt),Ya=_[rt],de=m[rt],O_=M[rt],vs=$.char[rt],A_=S(rt,{perSkillAbility:{special:{IdyllicCadenza:[{type:"conditional",conditional:{label:he("idyllic_cadenzaCond"),metadata:Ya.idyllic_cadenza,fields:[a(de.common_dmg_),a(de.crit_dmg_)]}}]},chain:{UltimateFantasianSonata:[{type:"fields",fields:[{title:he("ult_heal"),fieldRef:O_.ultimate_heal.tag}]}]}},core:[{type:"fields",fields:[a(de.core_atk)]}],m1:[{type:"conditional",conditional:{label:he("m1Cond"),metadata:Ya.attack_hits,fields:[a(de.m1_resRed_)]}}],m2:[{type:"fields",fields:[{title:he("m2_atkBuffInc_"),fieldValue:vs.m2.atk_*100,unit:"%"},{title:he("m2_maxIncrease"),fieldValue:vs.m2.max_increase}]}],m4:[{type:"fields",fields:[a(de.m4_attack_quickAssist_extraDmg),a(de.m4_anomaly_quickAssist_anomBuildup_),a(de.m4_stun_quickAssist_dazeInc_)]}],m6:[{type:"fields",fields:[{title:he("m6_mv_mult_"),fieldRef:de.m6_mv_mult_.tag},{title:he("m6_crit_"),fieldRef:de.m6_crit_.tag}]},{type:"conditional",conditional:{label:he("m6Cond"),metadata:Ya.precise_assist_triggered,fields:[{title:he("m6_capriccio_crit_"),fieldRef:de.m6_capriccio_crit_.tag}]}}]}),Yn="Ben",[,bn]=r("char",Yn),Si=_[Yn],Be=m[Yn],Di=M[Yn],P_=S(Yn,{perSkillAbility:{special:{SpecialAttackFiscalFist:[{type:"fields",fields:[{title:b("shield"),fieldRef:Di.special_shield.tag}]}],EXSpecialAttackCashflowCounter:[{type:"fields",fields:[{title:b("shield"),fieldRef:Di.special_shield.tag}]}]}},core:[{type:"fields",fields:[a(Be.core_atk),{title:b("shield"),fieldRef:Di.core_shield.tag}]}],ability:[{type:"conditional",conditional:{label:bn("abilityCond"),metadata:Si.shieldOn,fields:[a(Be.ability_crit_)]}}],m1:[{type:"conditional",conditional:{label:bn("m1Cond"),metadata:Si.enemyBlocked,fields:[a(Be.m1_dmg_red_)]}}],m2:[{type:"fields",fields:[{title:b("dmg"),fieldRef:Di.m2_dmg.tag}]}],m4:[{type:"conditional",conditional:{label:bn("m1Cond"),metadata:Si.enemyBlocked,fields:[{title:bn("m4_dmg_"),fieldRef:Be.m4_dmg_.tag}]}}],m6:[{type:"conditional",conditional:{label:bn("m6Cond"),metadata:Si.attackLaunched,fields:[a(Be.m6_basic_dazeInc_),a(Be.m6_dash_dazeInc_),a(Be.m6_dodgeCounter_dazeInc_)]}}]}),aa="Billy",[,Za]=r("char",aa),Xa=_[aa],xn=m[aa],V_=S(aa,{core:[{type:"fields",fields:[{title:Za("core_common_dmg_"),fieldRef:xn.core_common_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.chain)"}),metadata:Xa.ult_dmg_stacks,fields:[a(xn.ability_ult_dmg_)]}}],m2:[{type:"fields",fields:[a(xn.m2_dodgeCounter_dmg_)]}],m4:[{type:"conditional",conditional:{label:Za("m4Cond"),metadata:Xa.distance,fields:[a(xn.m4_exSpecial_crit_)]}}],m6:[{type:"conditional",conditional:{label:Za("m6Cond"),metadata:Xa.m6_stacks,fields:[a(xn.m6_common_dmg_)]}}]}),mt="Burnice",[,te]=r("char",mt),Qa=_[mt],ge=m[mt],eo=M[mt],F_=$.char[mt],q_=S(mt,{core:[{type:"fields",fields:[{title:te("core_afterburn_dmg"),fieldRef:eo.core_afterburn_dmg.tag},{title:te("core_afterburn_anomBuildup"),fieldRef:eo.core_afterburn_anomBuildup.tag},{title:te("core_afterburn_dmg_"),fieldRef:ge.core_afterburn_dmg_.tag}]}],ability:[{type:"fields",fields:[a(ge.ability_fire_anomBuildup_)]}],m1:[{type:"fields",fields:[{title:te("m1_afterburn_mv_mult"),fieldValue:F_.m1.afterburn_dmg*100,unit:"%"},{title:te("m1_afterburn_anomBuildup"),fieldRef:ge.m1_afterburn_fire_anomBuildup_.tag}]}],m2:[{type:"conditional",conditional:{label:te("m2Cond"),metadata:Qa.thermal_penetration,fields:[a(ge.m2_pen_)]}}],m4:[{type:"fields",fields:[{title:te("m4_exSpecial_crit_"),fieldRef:ge.m4_exSpecial_crit_.tag},{title:te("m4_assistSkill_crit_"),fieldRef:ge.m4_assistSkill_crit_.tag}]}],m6:[{type:"fields",fields:[{title:te("m6_additional_afterburn_dmg"),fieldRef:eo.m6_additional_afterburn_dmg.tag}]},{type:"conditional",conditional:{label:te("m6Cond"),metadata:Qa.exSpecial_active,fields:[a(ge.m6_burn_fire_resIgn_),{title:te("m6_fire_resIgn"),fieldRef:ge.m6_fire_resIgn_.tag}]}},{type:"conditional",conditional:{label:te("m6CondBurn"),metadata:Qa.additional_burn,fields:[a(ge.m6_fire_anom_mv_mult_)]}}]}),ft="Caesar",[,ie]=r("char",ft),ve=_[ft],re=m[ft],L_=M[ft],H_=$.char[ft],j_=S(ft,{perSkillAbility:{special:{StanceSwitch:[{type:"conditional",conditional:{label:ie("stanceSwitchCond"),metadata:ve.stance_switch,fields:[a(re.stance_switch_impact_)]}}]},chain:{UltimateSavageSmash:[{type:"conditional",conditional:{label:ie("ultCond"),metadata:ve.enemy_shielded,fields:[a(re.ult_dazeInc_)]}}]}},core:[{type:"fields",fields:[{title:b("shield"),fieldRef:L_.core_shield.tag}]},{type:"conditional",conditional:{label:ie("coreCond"),metadata:ve.radiant_aegis,fields:[a(re.core_atk)]}}],ability:[{type:"conditional",conditional:{label:ie("abilityTeamCond"),metadata:ve.can_defensive_assist}},{type:"conditional",conditional:{label:ie("abilityCond"),metadata:ve.ability_debuff,fields:[a(re.ability_dmgInc_)]}}],m1:[{type:"conditional",conditional:{label:ie("coreCond"),metadata:ve.radiant_aegis,fields:[a(re.m1_resRed_)]}}],m2:[{type:"conditional",conditional:{label:ie("coreCond"),metadata:ve.radiant_aegis,fields:[a(re.m2_enerRegen_),{title:ie("m2_atkInc_"),fieldValue:H_.m2.atk_increase_*100,unit:"%"}]}}],m6:[{type:"fields",fields:[{title:ie("m6_exSpecial_assistFollowup_crit_"),fieldRef:re.m6_exSpecial_assistFollowup_crit_.tag},{title:ie("m6_dmg_"),fieldRef:re.m6_dmg_.tag}]},{type:"conditional",conditional:{label:ie("m6Cond"),metadata:ve.exSpecial_assistFollowup_used,fields:[a(re.m6_crit_),a(re.m6_crit_dmg_)]}}]}),Zn="Corin",[,Cs]=r("char",Zn),to=_[Zn],Ri=m[Zn],K_=M[Zn],W_=S(Zn,{core:[{type:"fields",fields:[{title:Cs("core_common_dmg_"),fieldRef:Ri.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[a(Ri.ability_common_dmg_)]}],m1:[{type:"conditional",conditional:{label:b("uponHit.2",{val1:"$t(skills.chain)",val2:"$t(skills.ult)"}),metadata:to.chain_ult_hit,fields:[a(Ri.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:b("uponHit.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),metadata:to.exSpecial_chain_ult_hits,fields:[a(Ri.m2_physical_resRed_)]}}],m6:[{type:"conditional",conditional:{label:Cs("m6Cond"),metadata:to.charge,fields:[{title:b("dmg"),fieldRef:K_.m6_dmg.tag}]}}]}),oa="Ellen",[,Ii]=r("char",oa),wn=_[oa],ye=m[oa],N_=S(oa,{core:[{type:"fields",fields:[a(ye.core_basic_crit_dmg_),a(ye.core_dash_crit_dmg_),a(ye.core_chain_crit_dmg_),a(ye.core_ult_crit_dmg_)]}],ability:[{type:"conditional",conditional:{label:b("dealsDamage",{val1:"$t(attributes.ice)"}),metadata:wn.ice_attacks,fields:[a(ye.ability_ice_dmg_)]}}],m1:[{type:"conditional",conditional:{label:Ii("m1Cond"),metadata:wn.flash_freeze_consumed,fields:[a(ye.m1_crit_)]}}],m2:[{type:"conditional",conditional:{label:Ii("m2Cond"),metadata:wn.flash_freeze,fields:[a(ye.m2_exSpecial_crit_dmg_)]}}],m6:[{type:"conditional",conditional:{label:Ii("m6Cond"),metadata:wn.exSpecial_chain_quickCharge,fields:[a(ye.m6_pen_)]}},{type:"conditional",conditional:{label:Ii("m6Cond2"),metadata:wn.feast_begins,fields:[a(ye.m6_dash_mv_mult_)]}}]}),Xn="Evelyn",[,Me]=r("char",Xn),no=_[Xn],Ue=m[Xn],Ss=M[Xn],U_=S(Xn,{core:[{type:"conditional",conditional:{label:Me("coreCond"),metadata:no.binding_seal,fields:[a(Ue.core_crit_)]}}],ability:[{type:"fields",fields:[{title:Me("ability_dmg_"),fieldRef:Ue.ability_chain_ult_dmg_.tag},{title:Me("ability_mv_mult"),fieldRef:Ue.ability_chainSkill_mv_mult.tag}]}],m1:[{type:"conditional",conditional:{label:Me("m1Cond"),metadata:no.enemy_bound,fields:[a(Ue.m1_defIgn_)]}}],m2:[{type:"fields",fields:[a(Ue.m2_atk_)]}],m4:[{type:"fields",fields:[{title:Me("m4_shield"),fieldRef:Ss.m4_shield.tag}]},{type:"conditional",conditional:{label:Me("m4Cond"),metadata:no.m4_shield_exists,fields:[a(Ue.m4_crit_dmg_)]}}],m6:[{type:"fields",fields:[{title:Me("m6_follow_up_dmg"),fieldRef:Ss.m6_follow_up_dmg_.tag}]}]}),sa="Grace",[,io]=r("char",sa),kn=_[sa],Ce=m[sa],G_=S(sa,{core:[{type:"conditional",conditional:{label:io("coreCond"),metadata:kn.fullZap,fields:[a(Ce.core_special_electric_anomBuildup_),a(Ce.core_exSpecial_electric_anomBuildup_)]}}],ability:[{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:kn.exSpecialHit,fields:[a(Ce.ability_shock_dmg_)]}}],m2:[{type:"conditional",conditional:{label:io("m2Cond"),metadata:kn.grenadeHit,fields:[a(Ce.m2_electric_resRed_),a(Ce.m2_electric_anomBuildupResRed_)]}}],m4:[{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:kn.chargeConsumed,fields:[a(Ce.m4_enerRegen_)]}}],m6:[{type:"conditional",conditional:{label:io("coreCond"),metadata:kn.fullZap,fields:[a(Ce.m6_special_mv_mult_),a(Ce.m6_exSpecial_mv_mult_)]}}]}),Qn="Harumasa",[,zi]=r("char",Qn),Bi=_[Qn],vn=m[Qn],J_=M[Qn],Y_=S(Qn,{core:[{type:"fields",fields:[a(vn.core_dash_crit_)]},{type:"conditional",conditional:{label:zi("coreCond"),metadata:Bi.gleaming_edge,fields:[a(vn.core_dash_crit_dmg_)]}}],ability:[{type:"conditional",conditional:{label:zi("abilityCond"),metadata:Bi.enemy_anomaly,fields:[a(vn.ability_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:zi("m2Cond"),metadata:Bi.electro_blitz,fields:[a(vn.m2_dash_dmg_)]}}],m6:[{type:"conditional",conditional:{label:zi("m6Cond"),metadata:Bi.haOtoNoYa,fields:[a(vn.m6_electric_resIgn_),{title:b("dmg"),fieldRef:J_.m6_dmg.tag}]}}]}),ca="Hugo",[,Cn]=r("char",ca),Sn=_[ca],P=m[ca],Z_=S(ca,{core:[{type:"conditional",conditional:{label:Cn("coreDarkAbyssReverb"),metadata:Sn.dark_abyss_reverb,fields:[a(P.core_crit_),a(P.core_crit_dmg_)]}},{type:"fields",fields:[a(P.core_atk)]},{type:"conditional",conditional:{label:Cn("coreStunLeft"),metadata:Sn.stun_left,fields:[a(P.core_exSpecial_mv_mult_),a(P.core_ult_mv_mult_)]}},{type:"fields",fields:[a(P.core_exSpecial_dazeInc_)]}],ability:[{type:"conditional",conditional:{label:Cn("abilityCond"),metadata:Sn.normal_enemy,fields:[a(P.ability_chain_dmg_)]}},{type:"fields",fields:[a(P.ability_exSpecial_dmg_),a(P.ability_ult_dmg_)]}],m1:[{type:"conditional",conditional:{label:Cn("coreDarkAbyssReverb"),metadata:Sn.dark_abyss_reverb,fields:[a(P.m1_exSpecial_crit_),a(P.m1_exSpecial_crit_dmg_),a(P.m1_ult_crit_),a(P.m1_ult_crit_dmg_)]}}],m2:[{type:"fields",fields:[a(P.m2_exSpecial_defIgn_),a(P.m2_ult_defIgn_)]}],m4:[{type:"conditional",conditional:{label:Cn("m4Cond"),metadata:Sn.charged_shot_hit,fields:[a(P.m4_ice_resIgn_)]}}],m6:[{type:"fields",fields:[a(P.m6_exSpecial_dmg_),a(P.m6_ult_dmg_),a(P.m6_exSpecial_mv_mult_)]}]}),ei="Jane",[,Te]=r("char",ei),Ee=_[ei],U=m[ei],X_=M[ei],Q_=S(ei,{perSkillAbility:{basic:{Passion:[{type:"conditional",conditional:{label:Te("passionCond"),metadata:Ee.passion,fields:[a(U.passion_physical_anomBuildup_),a(U.passion_atk)]}}]}},core:[{type:"conditional",conditional:{label:Te("gnawedCond"),metadata:Ee.gnawed,fields:[a(U.core_assault_crit_),a(U.core_assault_crit_dmg_)]}}],ability:[{type:"conditional",conditional:{label:Te("abilityCond"),metadata:Ee.enemy_suffering_anomaly,fields:[a(U.ability_physical_anomBuildup_)]}}],m1:[{type:"conditional",conditional:{label:Te("passionCond"),metadata:Ee.passion,fields:[a(U.m1_physical_anomBuildup_),a(U.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:Te("gnawedCond"),metadata:Ee.gnawed,fields:[a(U.m2_defIgn_),a(U.m2_assault_defIgn_),a(U.m2_assault_crit_dmg_)]}}],m4:[{type:"conditional",conditional:{label:Te("m4Cond"),metadata:Ee.assault_or_disorder_triggered,fields:[a(U.m4_anomaly_dmg_)]}}],m6:[{type:"conditional",conditional:{label:Te("passionCond"),metadata:Ee.passion,fields:[a(U.m6_crit_),a(U.m6_crit_dmg_)]}},{type:"fields",fields:[{title:b("dmg"),fieldRef:X_.m6_additional_dmg.tag}]}]}),ti="JuFufu",[,ao]=r("char",ti),Mi=_[ti],$e=m[ti],ep=M[ti],tp=S(ti,{core:[{type:"conditional",conditional:{label:ao("coreCond"),metadata:Mi.tigers_roar,fields:[a($e.core_crit_dmg_),a($e.core_chain_dmg_),a($e.core_ult_dmg_),a($e.core_impact)]}}],m1:[{type:"fields",fields:[a($e.m1_crit_)]},{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.chain)"}),metadata:Mi.chain_hit,fields:[a($e.m1_stun_)]}}],m2:[{type:"conditional",conditional:{label:ao("coreCond"),metadata:Mi.tigers_roar,fields:[a($e.m2_crit_dmg_)]}}],m4:[{type:"conditional",conditional:{label:ao("coreCond"),metadata:Mi.tigers_roar,fields:[a($e.m4_crit_dmg_)]}}],m6:[{type:"fields",fields:[a($e.m6_chain_dmg_),{title:b("dmg"),fieldRef:ep.m6_dmg.tag}]}]}),ni="Koleda",[,oo]=r("char",ni),so=_[ni],Oe=m[ni],np=M[ni],ip=S(ni,{core:[{type:"fields",fields:[a(Oe.core_exSpecial_dazeInc_),{title:oo("core_dazeInc_"),fieldRef:Oe.core_dazeInc_.tag}]}],ability:[{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:so.exSpecial_debuff,fields:[a(Oe.ability_chain_dmg_)]}}],m1:[{type:"conditional",conditional:{label:oo("m1Cond"),metadata:so.quick_use,fields:[a(Oe.m1_special_dazeInc_),a(Oe.m1_exSpecial_dazeInc_)]}}],m4:[{type:"conditional",conditional:{label:oo("m4Cond"),metadata:so.charge,fields:[a(Oe.m4_chain_dmg_),a(Oe.m4_ult_dmg_)]}}],m6:[{type:"fields",fields:[{title:b("dmg"),fieldRef:np.m6_dmg.tag}]}]}),_t="Lighter",[,Se]=r("char",_t),Dn=_[_t],me=m[_t],ap=M[_t],op=$.char[_t],sp=S(_t,{core:[{type:"conditional",conditional:{label:Se("coreCond.morale_consumed"),metadata:Dn.morale_consumed,fields:[a(me.core_impact_)]}},{type:"conditional",conditional:{label:Se("coreCond.morale_burst_hit"),metadata:Dn.morale_burst_hit,fields:[a(me.core_ice_resRed_),a(me.core_fire_resRed_)]}}],ability:[{type:"conditional",conditional:{label:Se("abilityCond"),metadata:Dn.elation,fields:[a(me.ability_ice_dmg_),a(me.ability_fire_dmg_)]}}],m1:[{type:"conditional",conditional:{label:Se("collapseCond"),metadata:Dn.collapse,fields:[a(me.m1_ice_resRed_),a(me.m1_fire_resRed_)]}},{type:"fields",fields:[{title:Se("m1_finishing_move_dmg_"),fieldRef:me.m1_finishing_move_dmg_.tag}]}],m2:[{type:"conditional",conditional:{label:Se("collapseCond"),metadata:Dn.collapse,fields:[a(me.m2_stun_)]}},{type:"fields",fields:[{title:Se("m2_elation_inc_"),fieldValue:op.m2.ability_buff_inc_*100,unit:"%"}]}],m4:[{type:"fields",fields:[a(me.m4_enerRegen_)]}],m6:[{type:"fields",fields:[{title:Se("m6_blazing_impact_dmg"),fieldRef:ap.m6_blazing_impact_dmg.tag}]}]}),ii="Lucy",[,co]=r("char",ii),lo=_[ii],Rn=m[ii],cp=M[ii],lp=S(ii,{perSkillAbility:{special:{CheerOn:[{type:"conditional",conditional:{label:co("cheerOnCond"),metadata:lo.cheerOn,fields:[a(Rn.exSpecial_atk)]}}]}},core:[{type:"conditional",conditional:{label:co("cheerOnCond"),metadata:lo.cheerOn,fields:[a(Rn.core_atk)]}}],ability:[{type:"fields",fields:[a(Rn.ability_crit_),a(Rn.ability_crit_dmg_)]}],m4:[{type:"conditional",conditional:{label:co("cheerOnCond"),metadata:lo.cheerOn,fields:[a(Rn.m4_crit_dmg_)]}}],m6:[{type:"fields",fields:[{title:b("dmg"),fieldRef:cp.m6_dmg.tag}]}]}),ai="Lycaon",[,Ge]=r("char",ai),ro=_[ai],Je=m[ai],dp=M[ai],rp=S(ai,{core:[{type:"fields",fields:[{title:Ge("core_dazeInc_"),fieldRef:Je.core_dazeInc_.tag}]},{type:"conditional",conditional:{label:Ge("coreCond"),metadata:ro.exSpecial_assistFollowUp_hit,fields:[a(Je.core_ice_resRed_)]}}],ability:[{type:"conditional",conditional:{label:Ge("abilityCond"),metadata:ro.stunned_enemy_hit,fields:[a(Je.ability_stun_)]}}],m1:[{type:"fields",fields:[{title:Ge("m1_dazeInc_"),fieldRef:Je.m1_dazeInc_.tag},{title:Ge("m1_fullCharge_dazeInc_"),fieldRef:Je.m1_fullCharge_dazeInc_.tag}]}],m4:[{type:"fields",fields:[{title:b("shield"),fieldRef:dp.m4_shield.tag}]}],m6:[{type:"conditional",conditional:{label:Ge("m6Cond"),metadata:ro.charged_hits,fields:[a(Je.m6_common_dmg_)]}}]}),oi="Miyabi",[,W]=r("char",oi),De=_[oi],G=m[oi],mp=M[oi],fp=S(oi,{perSkillAbility:{chain:{UltimateLingeringSnow:[{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.ult)"}),metadata:De.ult_used,fields:[a(G.ult_ice_dmg_)]}}]}},core:[{type:"conditional",conditional:{label:W("frostbiteCond"),metadata:De.frostbite,fields:[a(G.frostbite_crit_dmg_)]}},{type:"conditional",conditional:{label:W("coreIcefireCond"),metadata:De.icefire,fields:[a(G.core_frost_anomBuildup_)]}},{type:"fields",fields:[{title:W("core_frostburnBreak_dmg"),fieldRef:mp.core_frostburnBreak_dmg.tag}]},{type:"conditional",conditional:{label:W("coreFrostburnCond"),metadata:De.frostburn,fields:[a(G.core_anomBuildup_)]}}],ability:[{type:"fields",fields:[{title:W("ability_dmg_"),fieldRef:G.ability_dmg_.tag}]},{type:"conditional",conditional:{label:W("abilityCond"),metadata:De.disorder_triggered,fields:[{title:W("ability_ice_resIgn_"),fieldRef:G.ability_ice_resIgn_.tag}]}}],m1:[{type:"conditional",conditional:{label:W("m1Cond"),metadata:De.fallen_frost,fields:[{title:W("m1_defIgn_"),fieldRef:G.m1_defIgn_.tag}]}},{type:"conditional",conditional:{label:W("m1Cond2"),metadata:De.level_3_charge_hit,fields:[a(G.m1_anomBuildup_)]}}],m2:[{type:"fields",fields:[{title:W("m2_dmg_"),fieldRef:G.m2_dmg_.tag},a(G.m2_dodgeCounter_dmg_),a(G.m2_crit_)]}],m4:[{type:"fields",fields:[{title:W("m4_frostburnBreak_dmg_"),fieldRef:G.m4_frostburnBreak_dmg_.tag}]}],m6:[{type:"conditional",conditional:{label:W("m6Cond"),metadata:De.polar,fields:[{title:W("m6_dmg_"),fieldRef:G.m6_dmg_.tag}]}}]}),la="Nekomata",[,Ti]=r("char",la),Ye=_[la],Ze=m[la],_p=S(la,{core:[{type:"conditional",conditional:{label:Ti("coreCond"),metadata:Ye.dodgeCounter_quickAssist_hit,fields:[a(Ze.core_common_dmg_)]}}],ability:[{type:"conditional",conditional:{label:Ti("abilityCond"),metadata:Ye.assaults_inflicted,fields:[a(Ze.ability_exSpecial_dmg_)]}}],m1:[{type:"conditional",conditional:{label:Ti("m1Cond"),metadata:Ye.from_behind,fields:[a(Ze.m1_physical_resIgn_)]}}],m2:[{type:"conditional",conditional:{label:Ti("m2Cond"),metadata:Ye.one_enemy_onField,fields:[a(Ze.m2_enerRegen_)]}}],m4:[{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:Ye.exSpecials_used,fields:[a(Ze.m4_crit_)]}}],m6:[{type:"conditional",conditional:{label:b("uponLaunch.2",{val1:"$t(skills.chain)",val2:"$t(skills.ult)"}),metadata:Ye.chain_ult_used,fields:[a(Ze.m6_crit_dmg_)]}}]}),da="Nicole",[,mo]=r("char",da),Ds=_[da],In=m[da],pp=S(da,{core:[{type:"conditional",conditional:{label:mo("coreCond"),metadata:Ds.bulletsOrFieldHit,fields:[a(In.core_defRed_)]}}],ability:[{type:"fields",fields:[a(In.ability_ether_dmg_)]}],m1:[{type:"fields",fields:[a(In.m1_exSpecial_dmg_),{title:mo("m1_exSpecial_anomBuildup"),fieldRef:In.m1_exSpecial_anomBuildup_.tag}]}],m6:[{type:"conditional",conditional:{label:mo("m6Cond"),metadata:Ds.fieldHitsEnemy,fields:[a(In.m6_crit_)]}}]}),si="OrphieMagus",[,fo]=r("char",si),Ei=_[si],Re=m[si],up=M[si],hp=S(si,{core:[{type:"fields",fields:[a(Re.core_crit_),a(Re.core_aftershock_dmg_)]},{type:"conditional",conditional:{label:fo("coreCond"),metadata:Ei.zeroedIn,fields:[a(Re.core_atk)]}}],ability:[{type:"conditional",conditional:{label:fo("coreCond"),metadata:Ei.zeroedIn,fields:[a(Re.ability_aftershock_defIgn_)]}}],m1:[{type:"fields",fields:[a(Re.m1_fire_resIgn_)]},{type:"conditional",conditional:{label:fo("coreCond"),metadata:Ei.zeroedIn,fields:[a(Re.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.ult)"}),metadata:Ei.ultUsed,fields:[a(Re.m2_atk_)]}}],m4:[{type:"fields",fields:[a(Re.m4_common_dmg_)]}],m6:[{type:"fields",fields:[{title:b("dmg"),fieldRef:up.m6_dmg.tag}]}]}),pt="PanYinhu",[,Ae]=r("char",pt),Rs=_[pt],_o=m[pt],po=M[pt],Is=$.char[pt],gp=S(pt,{perSkillAbility:{chain:{UltimateAFeastFitForAnEmperor:[{type:"fields",fields:[{title:Ae("ultimate_heal"),fieldRef:po.ultimate_heal.tag},{title:Ae("ultimate_healOverTime"),fieldRef:po.ultimate_healOverTime.tag}]}]}},core:[{type:"conditional",conditional:{label:Ae("coreCond"),metadata:Rs.meridian_flow,fields:[a(_o.core_sheerForce)]}}],ability:[{type:"conditional",conditional:{label:Ae("abilityCond"),metadata:Rs.depleted_qi,fields:[a(_o.ability_dmgInc_)]}}],m1:[{type:"fields",fields:[a(_o.m1_dmgInc_)]}],m4:[{type:"fields",fields:[{title:Ae("m4_heal"),fieldRef:po.m4_heal.tag}]}],m6:[{type:"fields",fields:[{title:Ae("m6_sheerForce"),fieldValue:Is.m6.sheerForce*100,unit:"%"},{title:Ae("m6_maxSheerForce"),fieldValue:Is.m6.max_sheerForce}]}]}),ra="Piper",[,Oi]=r("char",ra),uo=_[ra],ho=m[ra],yp=S(ra,{core:[{type:"conditional",conditional:{label:Oi("coreCond"),metadata:uo.power,fields:[a(ho.core_physical_anomBuildup_)]}}],ability:[{type:"conditional",conditional:{label:Oi("coreCond"),metadata:uo.power,fields:[a(ho.ability_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:Oi("coreCond"),metadata:uo.power,fields:[{title:Oi("m2_physical_dmg_"),fieldRef:ho.m2_physical_dmg_.tag}]}}]}),ma="Pulchra",[,zn]=r("char",ma),Bn=_[ma],Xe=m[ma],$p=S(ma,{core:[{type:"conditional",conditional:{label:zn("coreCond"),metadata:Bn.hunters_gait,fields:[a(Xe.core_dazeInc_)]}}],ability:[{type:"conditional",conditional:{label:zn("abilityCond"),metadata:Bn.binding_trap,fields:[a(Xe.ability_aftershock_dmg_)]}}],m1:[{type:"conditional",conditional:{label:zn("abilityCond"),metadata:Bn.binding_trap,fields:[a(Xe.m1_crit_)]}}],m2:[{type:"conditional",conditional:{label:zn("coreCond"),metadata:Bn.hunters_gait,fields:[a(Xe.m2_atk_)]}}],m6:[{type:"fields",fields:[a(Xe.m6_special_dmg_)]},{type:"conditional",conditional:{label:zn("abilityCond"),metadata:Bn.binding_trap,fields:[a(Xe.m6_common_dmg_)]}}]}),ut="Qingyi",[,Mn]=r("char",ut),go=_[ut],ae=m[ut],bp=M[ut],xp=$.char[ut],wp=S(ut,{perSkillAbility:{basic:{BasicAttackEnchantedMoonlitBlossoms:[{type:"conditional",conditional:{label:Mn("flashConnectCond"),metadata:go.flash_connect_consumed,fields:[a(ae.flash_connect_dmg_),a(ae.flash_connect_dazeInc_)]}}]},chain:{ChainAttackTranquilSerenade:[{type:"fields",fields:[a(ae.chain_dmg_)]}]}},core:[{type:"conditional",conditional:{label:Mn("subjugationCond"),metadata:go.subjugation,fields:[a(ae.core_stun_)]}}],ability:[{type:"fields",fields:[a(ae.ability_basic_dazeInc_),a(ae.ability_atk)]}],m1:[{type:"fields",fields:[a(ae.m1_defRed_),a(ae.m1_crit_)]}],m2:[{type:"fields",fields:[{title:Mn("m2_stun_"),fieldValue:xp.m2.stun_mult_*100,unit:"%"},a(ae.m2_dazeInc_)]}],m4:[{type:"fields",fields:[{title:Mn("m4_shield"),fieldRef:bp.m4_shield.tag}]}],m6:[{type:"fields",fields:[a(ae.m6_crit_dmg_)]},{type:"conditional",conditional:{label:Mn("m6Cond"),metadata:go.moonlit_blossoms_hit,fields:[a(ae.m6_resRed_)]}}]}),ci="Rina",[,Tn]=r("char",ci),Qe=_[ci],En=m[ci],kp=$.char[ci],vp=S(ci,{core:[{type:"conditional",conditional:{label:Tn("coreCond"),metadata:Qe.minions_onField,fields:[a(En.core_pen_)]}}],ability:[{type:"conditional",conditional:{label:Tn("abilityCond"),metadata:Qe.shocked_enemy,fields:[a(En.ability_electric_dmg_)]}}],m1:[{type:"conditional",conditional:{label:Tn("m1Cond"),metadata:Qe.within_10m,fields:[{title:Tn("m1_buff_"),fieldValue:kp.m1.core_buff_*100,unit:"%"}]}}],m2:[{type:"conditional",conditional:{label:b("enterCombatOrSwitchIn"),metadata:Qe.active_char,fields:[a(En.m2_common_dmg_)]}}],m4:[{type:"conditional",conditional:{label:Tn("coreCond"),metadata:Qe.minions_onField,fields:[a(En.m4_enerRegen)]}}],m6:[{type:"conditional",conditional:{label:b("uponLaunch.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),metadata:Qe.exSpecial_chain_ult_hit,fields:[a(En.m6_electric_dmg_)]}}]}),Cp="Seed",Sp=S(Cp),ht="Seth",[,Ai]=r("char",ht),zs=_[ht],Pi=m[ht],Bs=M[ht],Dp=$.char[ht],Rp=S(ht,{core:[{type:"fields",fields:[{title:Ai("core_shield"),fieldRef:Bs.core_shield.tag}]},{type:"conditional",conditional:{label:Ai("coreCond"),metadata:zs.shield_active,fields:[a(Pi.core_anomProf)]}}],ability:[{type:"conditional",conditional:{label:Ai("abilityCond"),metadata:zs.chain_finish_hit,fields:[a(Pi.ability_anomBuildupRes_)]}}],m1:[{type:"fields",fields:[{title:Ai("m1_shield_"),fieldValue:Dp.m1.shield_*100,unit:"%"}]}],m2:[{type:"fields",fields:[a(Pi.m2_basic_electric_anomBuildup_)]}],m4:[{type:"fields",fields:[a(Pi.m4_defensiveAssist_dazeInc_)]}],m6:[{type:"fields",fields:[{title:b("dmg"),fieldRef:Bs.m6_dmg.tag}]}]}),li="Soldier0Anby",[,Vi]=r("char",li),yo=_[li],et=m[li],Ip=M[li],zp=S(li,{core:[{type:"conditional",conditional:{label:Vi("coreCond"),metadata:yo.markedWithSilverStar,fields:[a(et.core_common_dmg_),a(et.core_markedWithSilverStar_crit_dmg_)]}}],ability:[{type:"fields",fields:[a(et.ability_crit_),a(et.ability_aftershock_dmg_)]}],m2:[{type:"conditional",conditional:{label:Vi("coreCond"),metadata:yo.markedWithSilverStar,fields:[a(et.m2_crit_)]}}],m4:[{type:"conditional",conditional:{label:Vi("coreCond"),metadata:yo.markedWithSilverStar,fields:[a(et.m4_electric_resIgn_)]}}],m6:[{type:"fields",fields:[{title:Vi("m6_additional_dmg"),fieldRef:Ip.m6_additional_dmg.tag}]}]}),fa="Soldier11",[,tt]=r("char",fa),Fi=_[fa],nt=m[fa],Bp=S(fa,{core:[{type:"fields",fields:[{title:tt("core_common_dmg_"),fieldRef:nt.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[a(nt.ability_fire_dmg_)]}],m2:[{type:"conditional",conditional:{label:tt("m2Cond"),metadata:Fi.m2_stacks,fields:[{title:tt("m2_common_dmg_"),fieldRef:nt.m2_common_dmg_.tag},a(nt.m2_dodgeCounter_dmg_)]}}],m4:[{type:"conditional",conditional:{label:tt("m4Cond"),metadata:Fi.fireSuppression_triggered,fields:[a(nt.m4_dmg_red_)]}},{type:"conditional",conditional:{label:tt("m4Cond2"),metadata:Fi.fireSuppression_4th_hit}}],m6:[{type:"conditional",conditional:{label:b("uponLaunch.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),metadata:Fi.charge_consumed,fields:[{title:tt("m6_fire_resIgn_"),fieldRef:nt.m6_fire_resIgn_.tag}]}}]}),_a="Soukaku",[,Pe]=r("char",_a),it=_[_a],On=m[_a],Mp=S(_a,{perSkillAbility:{chain:{UltimateJumboPuddingSlash:[{type:"conditional",conditional:{label:Pe("ultCond"),metadata:it.masked,fields:[a(On.ult_crit_)]}}]}},core:[{type:"conditional",conditional:{label:Pe("coreCond"),metadata:it.flyTheFlag,fields:[a(On.core_atk)]}},{type:"conditional",conditional:{label:Pe("coreCond2"),metadata:it.vortexConsumed}}],ability:[{type:"conditional",conditional:{label:Pe("coreCond2"),metadata:it.vortexConsumed,fields:[a(On.ability_ice_dmg_)]}}],m4:[{type:"conditional",conditional:{label:Pe("m4Cond"),metadata:it.flyTheFlagHit,fields:[a(On.m4_ice_resRed_)]}}],m6:[{type:"conditional",conditional:{label:Pe("m6Cond"),metadata:it.frostedBanner,fields:[{title:Pe("m6_dmg_"),fieldRef:On.m6_common_dmg_.tag}]}}]}),di="Trigger",[,Ve]=r("char",di),Ms=_[di],An=m[di],$o=M[di],Tp=S(di,{core:[{type:"conditional",conditional:{label:Ve("coreCond"),metadata:Ms.aftershock_hit,fields:[a(An.core_stun_)]}}],ability:[{type:"fields",fields:[{title:Ve("ability_dazeInc_"),fieldRef:An.ability_aftershock_dazeInc_.tag}]}],m1:[{type:"fields",fields:[a(An.m1_stun_)]}],m2:[{type:"conditional",conditional:{label:Ve("m2Cond"),metadata:Ms.hunters_gaze,fields:[a(An.m2_crit_dmg_)]}}],m4:[{type:"fields",fields:[{title:Ve("m4_disconnect_dmg"),fieldRef:$o.m4_disconnect_dmg.tag},{title:Ve("m4_disconnect_daze"),fieldRef:$o.m4_disconnect_daze.tag}]}],m6:[{type:"fields",fields:[{title:Ve("m6_armor_break_rounds_dmg"),fieldRef:$o.m6_armor_break_rounds_dmg.tag},{title:Ve("m6_armor_break_rounds_dmg_"),fieldRef:An.m6_armor_break_rounds_dmg_.tag}]}]}),ri="Vivian",[,at]=r("char",ri),qi=_[ri],j=m[ri],Ep=M[ri],Op=S(ri,{core:[{type:"conditional",conditional:{label:at("coreAbloom"),metadata:qi.abloom,fields:[a(j.core_ether_abloom),a(j.core_electric_abloom),a(j.core_fire_abloom),a(j.core_physical_abloom),a(j.core_ice_abloom)]}},{type:"fields",fields:[{title:at("core_prophecy_dmg"),fieldRef:Ep.core_prophecy_dmg.tag}]}],ability:[{type:"fields",fields:[a(j.ability_corruption_dmg_),a(j.ability_corruption_disorder_dmg_)]}],m1:[{type:"conditional",conditional:{label:at("prophecyCond"),metadata:qi.prophecy,fields:[a(j.m1_anomaly_dmg_),a(j.m1_disorder_dmg_)]}}],m2:[{type:"fields",fields:[a(j.m2_ether_anomBuildup_)]},{type:"conditional",conditional:{label:at("coreAbloom"),metadata:qi.abloom,fields:[a(j.m2_anom_mv_mult_),a(j.m2_resIgn_)]}}],m4:[{type:"fields",fields:[{title:at("m4_crit_"),fieldRef:j.m4_crit_.tag}]},{type:"conditional",conditional:{label:at("m4Cond"),metadata:qi.fluttering_featherbloom_used,fields:[a(j.m4_atk_)]}}],m6:[{type:"fields",fields:[a(j.m6_ether_dmg_)]}]}),pa="Yanagi",[,oe]=r("char",pa),J=_[pa],Y=m[pa],Ap=S(pa,{perSkillAbility:{basic:{BasicAttackTsukuyomiKagura:[{type:"conditional",conditional:{label:oe("jougenCond"),metadata:J.jougen,fields:[a(Y.basic_electric_dmg_)]}},{type:"conditional",conditional:{label:oe("kagenCond"),metadata:J.kagen,fields:[a(Y.basic_pen_)]}}]},special:{EXSpecialAttackGekkaRuten:[{type:"conditional",conditional:{label:(e,t)=>oe(`polarityDisorderCond.${t}`),metadata:J.polarityDisorder,badge:(e,t)=>t===0?null:t,fields:[a(Y.exSpecial_anom_base_),a(Y.exSpecial_anom_flat_dmg)]}},{type:"conditional",conditional:{label:oe("m2Cond"),metadata:J.thrusts}}]},chain:{UltimateRaieiTenge:[{type:"conditional",conditional:{label:(e,t)=>oe(`polarityDisorderCond.${t}`),badge:(e,t)=>t===0?null:t,metadata:J.polarityDisorder,fields:[a(Y.ult_anom_base_),a(Y.ult_anom_flat_dmg)]}},{type:"conditional",conditional:{label:oe("m2Cond"),metadata:J.thrusts}}]}},core:[{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:J.exSpecial_used,fields:[a(Y.core_addl_disorder_),a(Y.core_electric_dmg_)]}}],ability:[{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.basic)"}),metadata:J.basic_hit,fields:[a(Y.ability_electric_anomBuildup_)]}}],m1:[{type:"conditional",conditional:{label:oe("m1Cond"),metadata:J.clarity,fields:[a(Y.m1_anomProf)]}}],m2:[{type:"fields",fields:[a(Y.m2_electric_anomBuildup_)]},{type:"conditional",conditional:{label:oe("m2Cond"),metadata:J.thrusts}}],m4:[{type:"conditional",conditional:{label:oe("m4Cond"),metadata:J.exposed,fields:[a(Y.m4_pen_)]}}],m6:[{type:"conditional",conditional:{label:oe("m6Cond"),metadata:J.shinrabanshou,fields:[a(Y.m6_exSpecial_dmg_)]}},{type:"conditional",conditional:{label:oe("m2Cond"),metadata:J.thrusts}}]}),mi="Yixuan",[,ot]=r("char",mi),Ts=_[mi],Z=m[mi],bo=M[mi],Pp=S(mi,{core:[{type:"fields",fields:[a(Z.core_hpSheerForce),{title:ot("core_dmg_"),fieldRef:Z.core_dmg_.tag},a(Z.core_exSpecial_dmg_),a(Z.core_assistFollowUp_dmg_),a(Z.core_chain_dmg_),a(Z.core_ult_dmg_)]}],ability:[{type:"fields",fields:[{title:b("dmg"),fieldRef:bo.ability_dmg.tag},{title:ot("ability_dmg_"),fieldRef:Z.ability_dmg_.tag}]},{type:"conditional",conditional:{label:ot("meditationCond"),metadata:Ts.meditation,fields:[a(Z.ability_crit_dmg_)]}}],m1:[{type:"fields",fields:[a(Z.m1_crit_),{title:b("dmg"),fieldRef:bo.m1_dmg.tag}]}],m2:[{type:"fields",fields:[a(Z.m2_ult_ether_resIgn_),a(Z.m2_exSpecial_ether_resIgn_),{title:ot("m2_dmg"),fieldRef:bo.m2_dmg.tag}]}],m4:[{type:"conditional",conditional:{label:ot("m4Cond"),metadata:Ts.tranquility,fields:[{title:ot("m4_dmg_"),fieldRef:Z.m4_dmg_.tag}]}}],m6:[{type:"fields",fields:[a(Z.m6_sheer_dmg_)]}]}),gt="Yuzuha",[,Pn]=r("char",gt),Vn=_[gt],se=m[gt],Vp=M[gt],Fp=$.char[gt],qp=S(gt,{core:[{type:"conditional",conditional:{label:Pn("coreCond"),metadata:Vn.tanuki_wish,fields:[a(se.core_atk),a(se.core_common_dmg_)]}}],ability:[{type:"conditional",conditional:{label:Pn("coreCond"),metadata:Vn.tanuki_wish,fields:[a(se.ability_anomBuildup_),a(se.ability_anomaly_buff_),a(se.ability_disorder_buff_)]}}],m1:[{type:"conditional",conditional:{label:Pn("m1Cond"),metadata:Vn.sweet_scare,fields:[a(se.m1_resRed_)]}},{type:"fields",fields:[{title:Pn("m1_buffInc_"),fieldValue:Fp.m1.buffInc_*100,unit:"%"}]}],m2:[{type:"conditional",conditional:{label:b("uponHit.2",{val1:"$t(skills.exSpecial)",val2:"$t(skills.ult)"}),metadata:Vn.exSpecial_ult_hit,fields:[a(se.m2_common_dmg_),a(se.m2_anomBuildup_)]}}],m4:[{type:"fields",fields:[a(se.m4_assistFollowUp_dmg_),a(se.m4_assistFollowUp_anomBuildup_)]}],m6:[{type:"fields",fields:[{title:b("dmg"),fieldRef:Vp.m6_dmg.tag}]},{type:"conditional",conditional:{label:Pn("m6Cond"),metadata:Vn.powerful_shell_hits,fields:[a(se.m6_addl_disorder_)]}}]}),fi="ZhuYuan",[,st]=r("char",fi),xo=_[fi],Fn=m[fi],Lp=M[fi],Hp=S(fi,{core:[{type:"fields",fields:[{title:st("core_dmg_"),fieldRef:Fn.core_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:b("uponLaunch.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),metadata:xo.ex_chain_ult_used,fields:[a(Fn.ability_crit_)]}}],m2:[{type:"conditional",conditional:{label:st("m2SuppresiveModeCond"),metadata:xo.suppresive_mode,fields:[a(Fn.m2_dmg_red_)]}},{type:"conditional",conditional:{label:st("m2BasicDashEtherCond"),metadata:xo.shotshells_hit,fields:[{title:st("m2_basic_dash_ether_dmg_"),fieldRef:Fn.m2_basic_dash_ether_dmg_.tag}]}}],m4:[{type:"fields",fields:[{title:st("m4_ether_resIgn_"),fieldRef:Fn.m4_basic_dash_ether_res_ign_.tag}]}],m6:[{type:"fields",fields:[{title:st("m6_ether_afterglow"),fieldRef:Lp.m6_ether_afterglow.tag}]}]}),jp={Alice:B_,Anby:M_,Anton:E_,AstraYao:A_,Ben:P_,Billy:V_,Burnice:q_,Caesar:j_,Corin:W_,Ellen:N_,Evelyn:U_,Grace:G_,Harumasa:Y_,Hugo:Z_,Jane:Q_,JuFufu:tp,Koleda:ip,Lighter:sp,Lucy:lp,Lycaon:rp,Miyabi:fp,Nekomata:_p,Nicole:pp,OrphieMagus:hp,PanYinhu:gp,Piper:yp,Pulchra:$p,Qingyi:wp,Rina:vp,Seed:Sp,Seth:Rp,Soldier0Anby:zp,Soldier11:Bp,Soukaku:Mp,Trigger:Tp,Vivian:Op,Yanagi:Ap,Yixuan:Pp,Yuzuha:qp,ZhuYuan:Hp},ua="AstralVoice",[Es,Kp]=r("disc",ua),Os=T(ua),Wp=_[ua],Np=m[ua],Up={2:{title:i(E,{}),img:Os,documents:[{type:"text",text:Es("desc2")}]},4:{title:i(O,{}),img:Os,documents:[{type:"text",text:Es("desc4")},{type:"conditional",conditional:{label:Kp("set4_cond"),metadata:Wp.astral,fields:[d(Np.set4_team_dmg_.tag)]}}]}},ha="BranchBladeSong",[As,Gp]=r("disc",ha),Ps=T(ha),Jp=_[ha],Vs=m[ha],Yp={2:{title:i(E,{}),img:Ps,documents:[{type:"text",text:As("desc2")}]},4:{title:i(O,{}),img:Ps,documents:[{type:"text",text:As("desc4")},{type:"fields",fields:[d(Vs.set4_passive.tag)]},{type:"conditional",conditional:{label:Gp("set4_cond"),metadata:Jp.apply_or_trigger,fields:[d(Vs.set4_cond.tag)]}}]}},ga="ChaosJazz",[Fs,Zp]=r("disc",ga),qs=T(ga),Xp=_[ga],Li=m[ga],Qp={2:{title:i(E,{}),img:qs,documents:[{type:"text",text:Fs("desc2")}]},4:{title:i(O,{}),img:qs,documents:[{type:"text",text:Fs("desc4")},{type:"fields",fields:[d(Li.set4_passive_fire_dmg_.tag),d(Li.set4_passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:Zp("set4_cond"),metadata:Xp.while_off_field,fields:[{title:"EX Special Attack DMG",fieldRef:Li.set4_off_field_special_dmg_.tag},{title:"Assist Attack Attack DMG",fieldRef:Li.set4_off_field_assist_dmg_.tag}]}}]}},ya="ChaoticMetal",[Ls,eu]=r("disc",ya),Hs=T(ya),tu=_[ya],js=m[ya],nu={2:{title:i(E,{}),img:Hs,documents:[{type:"text",text:Ls("desc2")}]},4:{title:i(O,{}),img:Hs,documents:[{type:"text",text:Ls("desc4")},{type:"fields",fields:[d(js.set4_passive.tag)]},{type:"conditional",conditional:{label:eu("set4_cond"),metadata:tu.trigger_corruption,fields:[d(js.set4_cond_trigger_corruption.tag)]}}]}},$a="DawnsBloom",[Ks,cx]=r("disc",$a),Ws=T($a),iu=_[$a],wo=m[$a],au={2:{title:i(E,{}),img:Ws,documents:[{type:"text",text:Ks("desc2")},{type:"fields",fields:[d(wo.set2_basic_dmg_.tag)]}]},4:{title:i(O,{}),img:Ws,documents:[{type:"text",text:Ks("desc4")},{type:"fields",fields:[d(wo.set4_basic_dmg_.tag)]},{type:"conditional",conditional:{label:b("uponLaunch.2",{val1:"$t(skills.exSpecial)",val2:"$t(skills.ult)"}),metadata:iu.exSpecial_ult_used,fields:[d(wo.set4_extra_basic_dmg_.tag)]}}]}},ba="FangedMetal",[Ns,ou]=r("disc",ba),Us=T(ba),su=_[ba],cu=m[ba],lu={2:{title:i(E,{}),img:Us,documents:[{type:"text",text:Ns("desc2")}]},4:{title:i(O,{}),img:Us,documents:[{type:"text",text:Ns("desc4")},{type:"conditional",conditional:{label:ou("set4_cond"),metadata:su.inflict_assault,fields:[d(cu.set4_cond_inflict_assault.tag)]}}]}},xa="FreedomBlues",[Gs,du]=r("disc",xa),Js=T(xa),ru=_[xa],mu=m[xa],fu={2:{title:i(E,{}),img:Js,documents:[{type:"text",text:Gs("desc2")}]},4:{title:i(O,{}),img:Js,documents:[{type:"text",text:Gs("desc4")},{type:"conditional",conditional:{label:du("set4_cond"),metadata:ru.exSpecialHit,fields:[d(mu.anomBuildupRes_.tag)]}}]}},wa="HormonePunk",[Ys,_u]=r("disc",wa),Zs=T(wa),pu=_[wa],uu=m[wa],hu={2:{title:i(E,{}),img:Zs,documents:[{type:"text",text:Ys("desc2")}]},4:{title:i(O,{}),img:Zs,documents:[{type:"text",text:Ys("desc4")},{type:"conditional",conditional:{label:_u("set4_cond"),metadata:pu.entering_combat,fields:[d(uu.set4_cond_entering_combat.tag)]}}]}},ka="InfernoMetal",[Xs,gu]=r("disc",ka),Qs=T(ka),yu=_[ka],$u=m[ka],bu={2:{title:i(E,{}),img:Qs,documents:[{type:"text",text:Xs("desc2")}]},4:{title:i(O,{}),img:Qs,documents:[{type:"text",text:Xs("desc4")},{type:"conditional",conditional:{label:gu("set4_cond"),metadata:yu.hitting_burning_enemy,fields:[d($u.set4_cond_hitting_burning_enemy.tag)]}}]}},va="KingOfTheSummit",[ec,lx]=r("disc",va),tc=T(va),xu=_[va],nc=m[va],wu={2:{title:i(E,{}),img:tc,documents:[{type:"text",text:ec("desc2")},{type:"fields",fields:[d(nc.set2.tag)]}]},4:{title:i(O,{}),img:tc,documents:[{type:"text",text:ec("desc4")},{type:"conditional",conditional:{metadata:xu.launchExSpecialOrChain,label:b("uponLaunch.2",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)"}),fields:[d(nc.set4_team_launchExSpecialOrChain_crit_dmg_.tag)]}}]}},Ca="MoonlightLullaby",[ic,dx]=r("disc",Ca),ac=T(Ca),ku=_[Ca],vu=m[Ca],Cu={2:{title:i(E,{}),img:ac,documents:[{type:"text",text:ic("desc2")}]},4:{title:i(O,{}),img:ac,documents:[{type:"text",text:ic("desc4")},{type:"conditional",conditional:{label:b("uponLaunch.2",{val1:"$t(skills.exSpecial)",val2:"$t(skills.ult)"}),metadata:ku.exSpecial_ult_used,fields:[d(vu.set4_common_dmg_.tag)]}}]}},Sa="PhaethonsMelody",[oc,sc]=r("disc",Sa),cc=T(Sa),lc=_[Sa],dc=m[Sa],Su={2:{title:i(E,{}),img:cc,documents:[{type:"text",text:oc("desc2")}]},4:{title:i(O,{}),img:cc,documents:[{type:"text",text:oc("desc4")},{type:"conditional",conditional:{label:sc("set4_cond_squad_use_ex"),metadata:lc.squad_use_ex,fields:[d(dc.set4_squad_anomProf.tag)]}},{type:"conditional",conditional:{label:sc("set4_cond_not_char_use_ex"),metadata:lc.not_char_use_ex,fields:[d(dc.set4_not_self_ether_.tag)]}}]}},Da="PolarMetal",[rc,Du]=r("disc",Da),mc=T(Da),Ru=_[Da],fc=m[Da],Iu={2:{title:i(E,{}),img:mc,documents:[{type:"text",text:rc("desc2")}]},4:{title:i(O,{}),img:mc,documents:[{type:"text",text:rc("desc4")},{type:"conditional",conditional:{label:Du("set4_cond"),metadata:Ru.freeze_shatter}},{type:"fields",fields:[{title:"Basic Attack DMG",fieldRef:fc.set4_basic_dmg_.tag},{title:"Dash Attack DMG",fieldRef:fc.set4_dash_dmg_.tag}]}]}},Ra="ProtoPunk",[_c,zu]=r("disc",Ra),pc=T(Ra),Bu=_[Ra],Mu=m[Ra],Tu={2:{title:i(E,{}),img:pc,documents:[{type:"text",text:_c("desc2")}]},4:{title:i(O,{}),img:pc,documents:[{type:"text",text:_c("desc4")},{type:"conditional",conditional:{label:zu("set4_cond"),metadata:Bu.def_assist_or_evasive_assist,fields:[d(Mu.set4_cond_def_assist_or_evasive_assist_dmg_.tag)]}}]}},Ia="PufferElectro",[uc,Eu]=r("disc",Ia),hc=T(Ia),Ou=_[Ia],gc=m[Ia],Au={2:{title:i(E,{}),img:hc,documents:[{type:"text",text:uc("desc2")}]},4:{title:i(O,{}),img:hc,documents:[{type:"text",text:uc("desc4")},{type:"fields",fields:[{title:"Ultimate DMG",fieldRef:gc.set4_dmg_.tag}]},{type:"conditional",conditional:{label:Eu("set4_cond"),metadata:Ou.launching_ult,fields:[d(gc.set4_cond_launching_ult_atk_.tag)]}}]}},za="ShadowHarmony",[yc,Pu]=r("disc",za),$c=T(za),Vu=_[za],bc=m[za],Fu={2:{title:i(E,{}),img:$c,documents:[{type:"text",text:yc("desc2")}]},4:{title:i(O,{}),img:$c,documents:[{type:"text",text:yc("desc4")},{type:"conditional",conditional:{label:Pu("set4_cond_stacks"),metadata:Vu.stacks,fields:[d(bc.set4_stack_atk_.tag),d(bc.set4_stack_crit_.tag)]}}]}},Xo="ShockstarDisco",[xc,rx]=r("disc",Xo),wc=T(Xo),ko=m[Xo],qu={2:{title:i(E,{}),img:wc,documents:[{type:"text",text:xc("desc2")}]},4:{title:i(O,{}),img:wc,documents:[{type:"text",text:xc("desc4")},{type:"fields",fields:[{title:"Basic Attack Daze",fieldRef:ko.set4_basic_daze_.tag},{title:"Dash Attack Daze",fieldRef:ko.set4_dash_daze_.tag},{title:"Dodge Counter Daze",fieldRef:ko.set4_dodgeCounter_daze_.tag}]}]}},Nr="SoulRock",[kc,mx]=r("disc",Nr),vc=T(Nr),Lu={2:{title:i(E,{}),img:vc,documents:[{type:"text",text:kc("desc2")}]},4:{title:i(O,{}),img:vc,documents:[{type:"text",text:kc("desc4")}]}},Ba="SwingJazz",[Cc,Hu]=r("disc",Ba),Sc=T(Ba),ju=_[Ba],Ku=m[Ba],Wu={2:{title:i(E,{}),img:Sc,documents:[{type:"text",text:Cc("desc2")}]},4:{title:i(O,{}),img:Sc,documents:[{type:"text",text:Cc("desc4")},{type:"conditional",conditional:{label:Hu("set4_cond"),metadata:ju.chain_or_ult,fields:[d(Ku.set4_cond_chain_or_ult.tag)]}}]}},Ma="ThunderMetal",[Dc,Nu]=r("disc",Ma),Rc=T(Ma),Uu=_[Ma],Gu=m[Ma],Ju={2:{title:i(E,{}),img:Rc,documents:[{type:"text",text:Dc("desc2")}]},4:{title:i(O,{}),img:Rc,documents:[{type:"text",text:Dc("desc4")},{type:"conditional",conditional:{label:Nu("set4_cond"),metadata:Uu.enemy_shocked,fields:[d(Gu.set4_cond_enemy_shocked_atk_.tag)]}}]}},Ta="WoodpeckerElectro",[Ic,Yu]=r("disc",Ta),zc=T(Ta),Zu=_[Ta],Xu=m[Ta],Qu={2:{title:i(E,{}),img:zc,documents:[{type:"text",text:Ic("desc2")}]},4:{title:i(O,{}),img:zc,documents:[{type:"text",text:Ic("desc4")},{type:"conditional",conditional:{label:Yu("set4_cond"),metadata:Zu.crit_basic_dodge_ex,fields:[d(Xu.set4_cond_crit_basic_dodge_ex_atk_.tag)]}}]}},Ea="YunkuiTales",[Bc,fx]=r("disc",Ea),Mc=T(Ea),eh=_[Ea],vo=m[Ea],th={2:{title:i(E,{}),img:Mc,documents:[{type:"text",text:Bc("desc2")},{type:"fields",fields:[d(vo.set2.tag)]}]},4:{title:i(O,{}),img:Mc,documents:[{type:"text",text:Bc("desc4")},{type:"conditional",conditional:{metadata:eh.uponLaunchExSpecialChainOrUlt,label:b("uponLaunch.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),fields:[d(vo.set4_crit_.tag),d(vo.set4_sheer_dmg_.tag)]}}]}},nh={AstralVoice:Up,BranchBladeSong:Yp,ChaosJazz:Qp,ChaoticMetal:nu,DawnsBloom:au,FangedMetal:lu,FreedomBlues:fu,HormonePunk:hu,InfernoMetal:bu,KingOfTheSummit:wu,MoonlightLullaby:Cu,PhaethonsMelody:Su,PolarMetal:Iu,ProtoPunk:Tu,PufferElectro:Au,ShadowHarmony:Fu,ShockstarDisco:qu,SoulRock:Lu,SwingJazz:Wu,ThunderMetal:Ju,WoodpeckerElectro:Qu,YunkuiTales:th};function E(){return"2-Set"}function O(){return"4-Set"}function h({wKey:e,children:t}){const n=ta();let o=1;return n&&n.compute(L.common.count.sheet(e)).val&&(o=n.compute(L.wengine.phase).val??1),t(o)}const yt="BashfulDemon",[Tc,ih]=r("wengine",yt),ah=$.wengine[yt],oh=g(yt,"icon"),sh=_[yt],Ec=m[yt],ch={title:Tc("phase"),img:oh,documents:[{type:"text",text:i(h,{wKey:yt,children:e=>Tc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ec.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:ih("cond"),metadata:sh.launch_ex_attack,fields:[d(Ec.team_atk_.tag),{title:"Duration",fieldValue:ah.duration}]}}]},_i="BellicoseBlaze",[Oc,lh]=r("wengine",_i),dh=g(_i,"icon"),rh=_[_i],Ac=m[_i],mh={title:Oc("phase"),img:dh,documents:[{type:"text",text:i(h,{wKey:_i,children:e=>Oc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ac.passive_crit_.tag)]},{type:"conditional",conditional:{label:lh("cond"),metadata:rh.fire_aftershocks,fields:[d(Ac.cond_fire_aftershock_defIgn_.tag)]}}]},$t="BigCylinder",[Pc,_x]=r("wengine",$t),fh=$.wengine[$t],_h=g($t,"icon"),ph=m[$t],uh=M[$t],hh={title:Pc("phase"),img:_h,documents:[{type:"text",text:i(h,{wKey:$t,children:e=>Pc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ph.passive_dmg_red_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:uh.damage.tag},{title:"Cooldown",fieldValue:fh.cooldown}]}]},bt="BlazingLaurel",[Vc,Fc]=r("wengine",bt),qc=$.wengine[bt],gh=g(bt,"icon"),Lc=_[bt],Co=m[bt],yh={title:Vc("phase"),img:gh,documents:[{type:"text",text:i(h,{wKey:bt,children:e=>Vc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Fc("cond1"),metadata:Lc.quickOrPerfectAssistUsed,fields:[d(Co.impact_.tag),{title:"Duration",fieldValue:qc.duration}]}},{type:"conditional",conditional:{label:Fc("cond2"),metadata:Lc.wilt,fields:[d(Co.crit_dmg_ice_.tag),d(Co.crit_dmg_fire_.tag),{title:"Duration",fieldValue:qc.wilt_duration}]}}]},xt="BoxCutter",[Hc,$h]=r("wengine",xt),bh=$.wengine[xt],xh=g(xt,"icon"),wh=_[xt],jc=m[xt],kh={title:Hc("phase"),img:xh,documents:[{type:"text",text:i(h,{wKey:xt,children:e=>Hc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:$h("cond"),metadata:wh.launchedAftershock,fields:[d(jc.physical_dmg_.tag),d(jc.daze_.tag),{title:"Duration",fieldValue:bh.duration}]}}]},pi="BunnyBand",[Kc,vh]=r("wengine",pi),Ch=g(pi,"icon"),Sh=_[pi],Wc=m[pi],Dh={title:Kc("phase"),img:Ch,documents:[{type:"text",text:i(h,{wKey:pi,children:e=>Kc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Wc.passive_hp_.tag)]},{type:"conditional",conditional:{label:vh("cond"),metadata:Sh.wearerShielded,fields:[d(Wc.atk_.tag)]}}]},Ke="CannonRotor",[Nc,px]=r("wengine",Ke),Rh=$.wengine[Ke],Ih=g(Ke,"icon"),zh=M[Ke],Bh=m[Ke],Mh={title:Nc("phase"),img:Ih,documents:[{type:"text",text:i(h,{wKey:Ke,children:e=>Nc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Bh.passive_atk_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:zh.damage.tag},{title:"Cooldown",fieldValue:i(h,{wKey:Ke,children:e=>Rh.cooldown[e]})}]}]},wt="CinderCobalt",[Uc]=r("wengine",wt),Gc=$.wengine[wt],Th=g(wt,"icon"),Eh=_[wt],Oh=m[wt],Ah={title:Uc("phase"),img:Th,documents:[{type:"text",text:i(h,{wKey:wt,children:e=>Uc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:b("enterCombatOrSwitchIn"),metadata:Eh.enteringCombatOrSwitchingIn,fields:[d(Oh.enteringCombatOrSwitchingIn_atk_.tag),{title:b("duration"),fieldValue:Gc.duration},{title:b("cd"),fieldValue:Gc.cd}]}}]},ui="CordisGermina",[Jc,ux]=r("wengine",ui),Ph=g(ui,"icon"),Vh=_[ui],Hi=m[ui],Fh={title:Jc("phase"),img:Ph,documents:[{type:"text",text:i(h,{wKey:ui,children:e=>Jc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Hi.passive_crit_.tag)]},{type:"conditional",conditional:{label:b("uponHit.2",{val1:"$t(skills.basic)",val2:"$t(skills.exSpecial)"}),metadata:Vh.basic_exSpecial_used,fields:[d(Hi.cond_electric_dmg_.tag),d(Hi.cond_basic_defIgn_.tag),d(Hi.cond_ult_defIgn_.tag)]}}]},kt="DeepSeaVisitor",[Yc,Zc]=r("wengine",kt),Xc=$.wengine[kt],qh=g(kt,"icon"),Qc=_[kt],So=m[kt],Lh={title:Yc("phase"),img:qh,documents:[{type:"text",text:i(h,{wKey:kt,children:e=>Yc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(So.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:Zc("cond1"),metadata:Qc.basicHit,fields:[d(So.crit_.tag),{title:"Duration",fieldValue:Xc.duration}]}},{type:"conditional",conditional:{label:Zc("cond2"),metadata:Qc.iceDashAtkHit,fields:[d(So.extra_crit_.tag),{title:"Duration",fieldValue:Xc.extra_duration}]}}]},vt="DemaraBatteryMarkII",[el,Hh]=r("wengine",vt),jh=$.wengine[vt],Kh=g(vt,"icon"),Wh=_[vt],tl=m[vt],Nh={title:el("phase"),img:Kh,documents:[{type:"text",text:i(h,{wKey:vt,children:e=>el(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(tl.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:Hh("cond"),metadata:Wh.dodgeCounterOrAssistHit,fields:[d(tl.enerRegen_.tag),{title:"Duration",fieldValue:jh.duration}]}}]},Ct="DrillRigRedAxis",[nl,Uh]=r("wengine",Ct),il=$.wengine[Ct],Gh=g(Ct,"icon"),Jh=_[Ct],al=m[Ct],Yh={title:nl("phase"),img:Gh,documents:[{type:"text",text:i(h,{wKey:Ct,children:e=>nl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Uh("cond"),metadata:Jh.exSpecialOrChainUsed,fields:[d(al.basic_eletric_dmg_.tag),d(al.dash_eletric_dmg_.tag),{title:"Duration",fieldValue:il.duration},{title:"Cooldown",fieldValue:il.cooldown}]}}]},hi="ElectroLipGloss",[ol,Zh]=r("wengine",hi),Xh=g(hi,"icon"),Qh=_[hi],sl=m[hi],eg={title:ol("phase"),img:Xh,documents:[{type:"text",text:i(h,{wKey:hi,children:e=>ol(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Zh("cond"),metadata:Qh.anomalyOnEnemy,fields:[d(sl.atk_.tag),d(sl.common_dmg_.tag)]}}]},St="ElegantVanity",[cl,tg]=r("wengine",St),ng=$.wengine[St],ig=g(St,"icon"),ag=_[St],og=m[St],sg={title:cl("phase"),img:ig,documents:[{type:"text",text:i(h,{wKey:St,children:e=>cl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:tg("cond"),metadata:ag.consumed25Energy,fields:[d(og.common_dmg_.tag),{title:"Duration",fieldValue:ng.buffDuration}]}}]},Dt="FlamemakerShaker",[ll,dl]=r("wengine",Dt),Do=$.wengine[Dt],cg=g(Dt,"icon"),rl=_[Dt],Ro=m[Dt],lg={title:ll("phase"),img:cg,documents:[{type:"text",text:i(h,{wKey:Dt,children:e=>ll(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:dl("cond1"),metadata:rl.offField,fields:[d(Ro.enerRegen.tag)]}},{type:"conditional",conditional:{label:dl("cond2"),metadata:rl.exSpecialAssistHits,fields:[d(Ro.common_dmg_.tag),{title:"Duration",fieldValue:Do.duration},{title:"Cooldown",fieldValue:Do.cooldown},d(Ro.anomProf.tag),{title:"Duration",fieldValue:Do.anomProfDuration}]}}]},Rt="FlightOfFancy",[ml,dg]=r("wengine",Rt),fl=$.wengine[Rt],rg=g(Rt,"icon"),mg=_[Rt],_l=m[Rt],fg={title:ml("phase"),img:rg,documents:[{type:"text",text:i(h,{wKey:Rt,children:e=>ml(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(_l.anomBuildup_.tag)]},{type:"conditional",conditional:{label:dg("cond"),metadata:mg.etherDmg,fields:[d(_l.etherDmg_anomProf.tag),{title:"Duration",fieldValue:fl.duration},{title:"Cooldown",fieldValue:fl.cd}]}}]},It="FusionCompiler",[pl,_g]=r("wengine",It),pg=$.wengine[It],ug=g(It,"icon"),hg=_[It],ul=m[It],gg={title:pl("phase"),img:ug,documents:[{type:"text",text:i(h,{wKey:It,children:e=>pl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ul.passive_atk_.tag)]},{type:"conditional",conditional:{label:_g("cond"),metadata:hg.specialUsed,fields:[d(ul.anomProf.tag),{title:"Duration",fieldValue:pg.duration}]}}]},Oa="GildedBlossom",[hl,hx]=r("wengine",Oa),yg=g(Oa,"icon"),gl=m[Oa],$g={title:hl("phase"),img:yg,documents:[{type:"text",text:i(h,{wKey:Oa,children:e=>hl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(gl.passive_atk_.tag),d(gl.passive_exSpecial_dmg_.tag)]}]},zt="HailstormShrine",[yl,bg]=r("wengine",zt),xg=$.wengine[zt],wg=g(zt,"icon"),kg=_[zt],$l=m[zt],vg={title:yl("phase"),img:wg,documents:[{type:"text",text:i(h,{wKey:zt,children:e=>yl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d($l.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:bg("cond"),metadata:kg.exSpecialOrAnomaly,fields:[d($l.ice_dmg_.tag),{title:"Duration",fieldValue:xg.duration}]}}]},Bt="HeartstringNocturne",[bl,Cg]=r("wengine",Bt),Sg=$.wengine[Bt],Dg=g(Bt,"icon"),Rg=_[Bt],Io=m[Bt],Ig={title:bl("phase"),img:Dg,documents:[{type:"text",text:i(h,{wKey:Bt,children:e=>bl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Io.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:Cg("cond"),metadata:Rg.heartstring,fields:[d(Io.chain_resIgn_fire_.tag),d(Io.ult_resIgn_fire_.tag),{title:"Duration",fieldValue:Sg.duration}]}}]},Mt="HellfireGears",[xl,wl]=r("wengine",Mt),zg=$.wengine[Mt],Bg=g(Mt,"icon"),kl=_[Mt],vl=m[Mt],Mg={title:xl("phase"),img:Bg,documents:[{type:"text",text:i(h,{wKey:Mt,children:e=>xl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:wl("cond1"),metadata:kl.offField,fields:[d(vl.enerRegen.tag)]}},{type:"conditional",conditional:{label:wl("cond1"),metadata:kl.exSpecialUsed,fields:[d(vl.impact_.tag),{title:"Duration",fieldValue:zg.duration}]}}]},Tt="Housekeeper",[Cl,Sl]=r("wengine",Tt),Tg=$.wengine[Tt],Eg=g(Tt,"icon"),Dl=_[Tt],Rl=m[Tt],Og={title:Cl("phase"),img:Eg,documents:[{type:"text",text:i(h,{wKey:Tt,children:e=>Cl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Sl("cond1"),metadata:Dl.offField,fields:[d(Rl.enerRegen.tag)]}},{type:"conditional",conditional:{label:Sl("cond2"),metadata:Dl.exSpecialHits,fields:[d(Rl.physical_dmg_.tag),{title:"Duration",fieldValue:Tg.duration}]}}]},Et="IceJadeTeapot",[Il,Ag]=r("wengine",Et),zl=$.wengine[Et],Pg=g(Et,"icon"),Vg=_[Et],Bl=m[Et],Fg={title:Il("phase"),img:Pg,documents:[{type:"text",text:i(h,{wKey:Et,children:e=>Il(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ag("cond"),metadata:Vg.teariffic,fields:[d(Bl.impact_.tag),{title:"Duration",fieldValue:zl.duration},d(Bl.common_dmg_.tag),{title:"Duration",fieldValue:zl.teamBuffDuration}]}}]},Ot="IdentityBase",[Ml,qg]=r("wengine",Ot),Lg=$.wengine[Ot],Hg=g(Ot,"icon"),jg=_[Ot],Kg=m[Ot],Wg={title:Ml("phase"),img:Hg,documents:[{type:"text",text:i(h,{wKey:Ot,children:e=>Ml(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:qg("cond"),metadata:jg.equipperAttacked,fields:[d(Kg.def_.tag),{title:"Duration",fieldValue:Lg.duration}]}}]},Qo="IdentityInflection",[Tl,gx]=r("wengine",Qo),Ng=g(Qo,"icon"),Ug={title:Tl("phase"),img:Ng,documents:[{type:"text",text:i(h,{wKey:Qo,children:e=>Tl(`phaseDescs.${e-1}`)})}]},At="KaboomTheCannon",[El,Gg]=r("wengine",At),Jg=$.wengine[At],Yg=g(At,"icon"),Zg=_[At],Xg=m[At],Qg={title:El("phase"),img:Yg,documents:[{type:"text",text:i(h,{wKey:At,children:e=>El(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Gg("cond"),metadata:Zg.allyHitsEnemy,fields:[d(Xg.atk_.tag),{title:"Duration",fieldValue:Jg.duration}]}}]},Pt="LunarDecrescent",[Ol,ey]=r("wengine",Pt),ty=$.wengine[Pt],ny=g(Pt,"icon"),iy=_[Pt],ay=m[Pt],oy={title:Ol("phase"),img:ny,documents:[{type:"text",text:i(h,{wKey:Pt,children:e=>Ol(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ey("cond"),metadata:iy.chainOrUltUsed,fields:[d(ay.common_dmg_.tag),{title:"Duration",fieldValue:ty.duration}]}}]},es="LunarNoviluna",[Al,yx]=r("wengine",es),sy=g(es,"icon"),cy={title:Al("phase"),img:sy,documents:[{type:"text",text:i(h,{wKey:es,children:e=>Al(`phaseDescs.${e-1}`)})}]},Aa="LunarPleniluna",[Pl,$x]=r("wengine",Aa),ly=g(Aa,"icon"),zo=m[Aa],dy={title:Pl("phase"),img:ly,documents:[{type:"text",text:i(h,{wKey:Aa,children:e=>Pl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(zo.basic_dmg_.tag),d(zo.dash_dmg_.tag),d(zo.dodgeCounter_dmg_.tag)]}]},Vt="MagneticStormAlpha",[Vl,ry]=r("wengine",Vt),Fl=$.wengine[Vt],my=g(Vt,"icon"),fy=_[Vt],_y=m[Vt],py={title:Vl("phase"),img:my,documents:[{type:"text",text:i(h,{wKey:Vt,children:e=>Vl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ry("cond"),metadata:fy.anomalyBuildupIncreased,fields:[d(_y.anomMas.tag),{title:"Duration",fieldValue:Fl.duration},{title:"Cooldown",fieldValue:Fl.cooldown}]}}]},Ft="MagneticStormBravo",[ql,uy]=r("wengine",Ft),Ll=$.wengine[Ft],hy=g(Ft,"icon"),gy=_[Ft],yy=m[Ft],$y={title:ql("phase"),img:hy,documents:[{type:"text",text:i(h,{wKey:Ft,children:e=>ql(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:uy("cond"),metadata:gy.anomalyBuildupIncreased,fields:[d(yy.anomProf.tag),{title:"Duration",fieldValue:Ll.duration},{title:"Cooldown",fieldValue:Ll.cooldown}]}}]},ts="MagneticStormCharlie",[Hl,bx]=r("wengine",ts),by=g(ts,"icon"),xy={title:Hl("phase"),img:by,documents:[{type:"text",text:i(h,{wKey:ts,children:e=>Hl(`phaseDescs.${e-1}`)})}]},qt="MarcatoDesire",[jl,Kl]=r("wengine",qt),wy=$.wengine[qt],ky=g(qt,"icon"),Wl=_[qt],vy=m[qt],Cy={title:jl("phase"),img:ky,documents:[{type:"text",text:i(h,{wKey:qt,children:e=>jl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Kl("cond1"),metadata:Wl.exSpecialOrChainHitsEnemy,fields:[d(vy.atk_.tag),{title:"Duration",fieldValue:wy.duration}]}},{type:"conditional",conditional:{label:Kl("cond2"),metadata:Wl.attributeAnomalyInflicted}}]},Lt="Metanukimorphosis",[Nl,Sy]=r("wengine",Lt),Ul=$.wengine[Lt],Dy=g(Lt,"icon"),Gl=_[Lt],Jl=m[Lt],Ry={title:Nl("phase"),img:Dy,documents:[{type:"text",text:i(h,{wKey:Lt,children:e=>Nl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{metadata:Gl.physical_exSpecial_ult,label:Sy("physical_exSpecial_ult_cond"),fields:[d(Jl.physical_exSpecial_ult_anomMas.tag),{title:b("duration"),fieldValue:Ul.amDuration}]}},{type:"conditional",conditional:{metadata:Gl.aftershock,label:b("uponHit.1",{val1:"$t(skills.aftershock)"}),fields:[d(Jl.aftershock_team_anomProf.tag),{title:b("duration"),fieldValue:Ul.apDuration}]}}]},Ht="MyriadEclipse",[Yl,Iy]=r("wengine",Ht),zy=$.wengine[Ht],By=g(Ht,"icon"),My=_[Ht],Zl=m[Ht],Ty={title:Yl("phase"),img:By,documents:[{type:"text",text:i(h,{wKey:Ht,children:e=>Yl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Zl.crit_dmg_.tag)]},{type:"conditional",conditional:{label:Iy("cond"),metadata:My.deathSentence,fields:[d(Zl.deathSentence_defIgn_.tag),{title:"Duration",fieldValue:zy.duration}]}}]},jt="OriginalTransmorpher",[Xl,Ey]=r("wengine",jt),Oy=$.wengine[jt],Ay=g(jt,"icon"),Py=_[jt],Ql=m[jt],Vy={title:Xl("phase"),img:Ay,documents:[{type:"text",text:i(h,{wKey:jt,children:e=>Xl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ql.passive_hp_.tag)]},{type:"conditional",conditional:{label:Ey("cond"),metadata:Py.equipperHit,fields:[d(Ql.impact_.tag),{title:"Duration",fieldValue:Oy.duration}]}}]},gi="PeacekeeperSpecialized",[ed,Fy]=r("wengine",gi),qy=g(gi,"icon"),Ly=_[gi],Bo=m[gi],Hy={title:ed("phase"),img:qy,documents:[{type:"text",text:i(h,{wKey:gi,children:e=>ed(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Fy("cond"),metadata:Ly.shielded,fields:[d(Bo.enerRegen.tag)]}},{type:"fields",fields:[d(Bo.passive_exSpecial_anomBuildup_.tag),d(Bo.passive_assist_anomBuildup_.tag)]}]},Kt="PracticedPerfection",[td,xx]=r("wengine",Kt),jy=$.wengine[Kt],Ky=g(Kt,"icon"),Wy=_[Kt],nd=m[Kt],Ny={title:td("phase"),img:Ky,documents:[{type:"text",text:i(h,{wKey:Kt,children:e=>td(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(nd.anomMas.tag)]},{type:"conditional",conditional:{metadata:Wy.stacks,label:b("stacks"),fields:[d(nd.stacks_phys_dmg_.tag),{title:b("duration"),fieldValue:jy.duration}]}}]},yi="PreciousFossilizedCore",[id,ad]=r("wengine",yi),Uy=g(yi,"icon"),od=_[yi],Gy=m[yi],Jy={title:id("phase"),img:Uy,documents:[{type:"text",text:i(h,{wKey:yi,children:e=>id(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ad("cond1"),metadata:od.enemyHpGE50,fields:[d(Gy.daze_.tag)]}},{type:"conditional",conditional:{label:ad("cond2"),metadata:od.enemyHpGE75}}]},Wt="PuzzleSphere",[sd]=r("wengine",Wt),cd=$.wengine[Wt],Yy=g(Wt,"icon"),ld=_[Wt],dd=m[Wt],Zy={title:sd("phase"),img:Yy,documents:[{type:"text",text:i(h,{wKey:Wt,children:e=>sd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:b("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:ld.launchingExSpecial,fields:[d(dd.launchingExSpecial_crit_dmg_.tag),{title:b("duration"),fieldValue:cd.duration}]}},{type:"conditional",conditional:{label:b("targetHpLe",{val:cd.hpThresh*100}),metadata:ld.targetHpBelow50,fields:[d(dd.targetHpBelow50_exSpecial_dmg_.tag)]}}]},Nt="QingmingBirdcage",[rd,Xy]=r("wengine",Nt),Qy=$.wengine[Nt],e$=g(Nt,"icon"),t$=_[Nt],ji=m[Nt],n$={title:rd("phase"),img:e$,documents:[{type:"text",text:i(h,{wKey:Nt,children:e=>rd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ji.crit_.tag)]},{type:"conditional",conditional:{metadata:t$.qingmingCompanionStacks,label:Xy("cond"),fields:[d(ji.qingmingCompanionStacks_ether_dmg_.tag),d(ji.qingmingCompanionStacks_ult_ether_sheer_dmg_.tag),d(ji.qingmingCompanionStacks_exSpecial_ether_sheer_dmg_.tag),{title:b("cd"),fieldValue:Qy.duration}]}}]},Ut="RadiowaveJourney",[md]=r("wengine",Ut),i$=$.wengine[Ut],a$=g(Ut,"icon"),o$=_[Ut],s$=m[Ut],c$={title:md("phase"),img:a$,documents:[{type:"text",text:i(h,{wKey:Ut,children:e=>md(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{metadata:o$.launchingChainOrUlt,label:b("uponLaunch.2",{val1:"$t(skills.chain)",val2:"$t(skills.ult)"}),fields:[d(s$.launchingChainOrUlt_sheerForce.tag),{title:b("duration"),fieldValue:i$.duration}]}}]},Gt="RainforestGourmet",[fd,l$]=r("wengine",Gt),d$=$.wengine[Gt],r$=g(Gt,"icon"),m$=_[Gt],f$=m[Gt],_$={title:fd("phase"),img:r$,documents:[{type:"text",text:i(h,{wKey:Gt,children:e=>fd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:l$("cond"),metadata:m$.energyConsumed,fields:[d(f$.atk_.tag),{title:"Duration",fieldValue:d$.duration}]}}]},ns="ReelProjector",[_d]=r("wengine",ns),p$=g(ns,"icon"),u$={title:_d("phase"),img:p$,documents:[{type:"text",text:i(h,{wKey:ns,children:e=>_d(`phaseDescs.${e-1}`)})}]},Jt="ReverbMarkI",[pd,h$]=r("wengine",Jt),g$=$.wengine[Jt],y$=g(Jt,"icon"),$$=_[Jt],b$=m[Jt],x$={title:pd("phase"),img:y$,documents:[{type:"text",text:i(h,{wKey:Jt,children:e=>pd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:h$("cond"),metadata:$$.exSpecialUsed,fields:[d(b$.impact_.tag),{title:"Duration",fieldValue:g$.duration}]}}]},Yt="ReverbMarkII",[ud,w$]=r("wengine",Yt),k$=$.wengine[Yt],v$=g(Yt,"icon"),C$=_[Yt],hd=m[Yt],S$={title:ud("phase"),img:v$,documents:[{type:"text",text:i(h,{wKey:Yt,children:e=>ud(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:w$("cond"),metadata:C$.exSpecialOrChainUsed,fields:[d(hd.anomMas.tag),d(hd.anomProf.tag),{title:"Duration",fieldValue:k$.duration}]}}]},Zt="ReverbMarkIII",[gd,D$]=r("wengine",Zt),R$=$.wengine[Zt],I$=g(Zt,"icon"),z$=_[Zt],B$=m[Zt],M$={title:gd("phase"),img:I$,documents:[{type:"text",text:i(h,{wKey:Zt,children:e=>gd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:D$("cond"),metadata:z$.chainOrUltUsed,fields:[d(B$.atk_.tag),{title:"Duration",fieldValue:R$.duration}]}}]},$i="RiotSuppressorMarkVI",[yd,T$]=r("wengine",$i),E$=g($i,"icon"),O$=_[$i],$d=m[$i],A$={title:yd("phase"),img:E$,documents:[{type:"text",text:i(h,{wKey:$i,children:e=>yd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d($d.passive_crit_.tag)]},{type:"conditional",conditional:{label:T$("cond"),metadata:O$.charge,fields:[d($d.basic_ether_dmg_.tag)]}}]},Xt="RoaringFurnace",[bd,P$]=r("wengine",Xt),V$=$.wengine[Xt],F$=g(Xt,"icon"),q$=_[Xt],Ki=m[Xt],L$={title:bd("phase"),img:F$,documents:[{type:"text",text:i(h,{wKey:Xt,children:e=>bd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ki.exSpecial_dazeInc_.tag),d(Ki.chain_dazeInc_.tag),d(Ki.ult_dazeInc_.tag)]},{type:"conditional",conditional:{metadata:q$.chainOrUlt,label:P$("cond"),fields:[d(Ki.team_chainOrUlt_fire_dmg_.tag),{title:b("duration"),fieldValue:V$.duration}]}}]},Qt="RoaringRide",[xd,Mo]=r("wengine",Qt),To=$.wengine[Qt],H$=g(Qt,"icon"),Eo=_[Qt],Oo=m[Qt],j$={title:xd("phase"),img:H$,documents:[{type:"text",text:i(h,{wKey:Qt,children:e=>xd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Mo("cond_atk_"),metadata:Eo.atk_,fields:[d(Oo.atk_.tag),{title:"Duration",fieldValue:To.duration}]}},{type:"conditional",conditional:{label:Mo("cond_anomProf"),metadata:Eo.anomProf,fields:[d(Oo.anomProf.tag),{title:"Duration",fieldValue:To.duration}]}},{type:"conditional",conditional:{label:Mo("cond_anomBuildup_"),metadata:Eo.anomBuildup_,fields:[d(Oo.anomBuildup_.tag),{title:"Duration",fieldValue:To.duration}]}}]},en="SeveredInnocence",[wd,K$]=r("wengine",en),W$=$.wengine[en],N$=g(en,"icon"),U$=_[en],Ao=m[en],G$={title:wd("phase"),img:N$,documents:[{type:"text",text:i(h,{wKey:en,children:e=>wd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ao.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:K$("cond"),metadata:U$.basicSpecialAftershockHit,fields:[d(Ao.crit_dmg_.tag),d(Ao.electric_dmg_.tag),{title:"Duration",fieldValue:W$.duration}]}}]},tn="SharpenedStinger",[kd,J$]=r("wengine",tn),Y$=$.wengine[tn],Z$=g(tn,"icon"),X$=_[tn],vd=m[tn],Q$={title:kd("phase"),img:Z$,documents:[{type:"text",text:i(h,{wKey:tn,children:e=>kd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:J$("cond"),metadata:X$.predatoryInstinct,fields:[d(vd.physical_dmg_.tag),{title:"Duration",fieldValue:Y$.duration}]}},{type:"fields",fields:[d(vd.anomBuildup_.tag)]}]},bi="SixShooter",[Cd,eb]=r("wengine",bi),tb=g(bi,"icon"),nb=_[bi],ib=m[bi],ab={title:Cd("phase"),img:tb,documents:[{type:"text",text:i(h,{wKey:bi,children:e=>Cd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:eb("cond"),metadata:nb.charge,fields:[d(ib.exSpecial_daze_.tag)]}}]},is="SliceOfTime",[Sd,wx]=r("wengine",is),ob=g(is,"icon"),sb={title:Sd("phase"),img:ob,documents:[{type:"text",text:i(h,{wKey:is,children:e=>Sd(`phaseDescs.${e-1}`)})}]},nn="SpectralGaze",[Dd,Rd]=r("wengine",nn),Id=$.wengine[nn],cb=g(nn,"icon"),zd=_[nn],Bd=m[nn],lb={title:Dd("phase"),img:cb,documents:[{type:"text",text:i(h,{wKey:nn,children:e=>Dd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Rd("cond1"),metadata:zd.hit_aftershock_electric,fields:[d(Bd.cond_defRed_.tag),{title:"Duration",fieldValue:Id.duration1}]}},{type:"conditional",conditional:{label:Rd("cond2"),metadata:zd.spiritLock,fields:[d(Bd.cond_impact_.tag),{title:"Duration",fieldValue:Id.duration2}]}}]},an="SpringEmbrace",[Md,db]=r("wengine",an),rb=$.wengine[an],mb=g(an,"icon"),fb=_[an],Td=m[an],_b={title:Md("phase"),img:mb,documents:[{type:"text",text:i(h,{wKey:an,children:e=>Md(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Td.passive_dmg_red_.tag)]},{type:"conditional",conditional:{label:db("cond"),metadata:fb.when_attacked,fields:[d(Td.cond_enerRegen_.tag),{title:"Duration",fieldValue:rb.duration}]}}]},on="StarlightEngine",[Ed,pb]=r("wengine",on),ub=$.wengine[on],hb=g(on,"icon"),gb=_[on],yb=m[on],$b={title:Ed("phase"),img:hb,documents:[{type:"text",text:i(h,{wKey:on,children:e=>Ed(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:pb("cond"),metadata:gb.dodgecounter_quickassist,fields:[d(yb.cond_dmg_.tag),{title:"Duration",fieldValue:ub.duration}]}}]},sn="StarlightEngineReplica",[Od,bb]=r("wengine",sn),xb=$.wengine[sn],wb=g(sn,"icon"),kb=_[sn],vb=m[sn],Cb={title:Od("phase"),img:wb,documents:[{type:"text",text:i(h,{wKey:sn,children:e=>Od(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:bb("cond"),metadata:kb.hit_away,fields:[d(vb.cond_dmg_.tag),{title:"Duration",fieldValue:xb.duration}]}}]},cn="SteamOven",[Ad,Sb]=r("wengine",cn),Db=$.wengine[cn],Rb=g(cn,"icon"),Ib=_[cn],zb=m[cn],Bb={title:Ad("phase"),img:Rb,documents:[{type:"text",text:i(h,{wKey:cn,children:e=>Ad(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Sb("cond"),metadata:Ib.stacks,fields:[d(zb.cond_impact_.tag),{title:"Duration",fieldValue:Db.duration}]}}]},xi="SteelCushion",[Pd,Mb]=r("wengine",xi),Tb=g(xi,"icon"),Eb=_[xi],Vd=m[xi],Ob={title:Pd("phase"),img:Tb,documents:[{type:"text",text:i(h,{wKey:xi,children:e=>Pd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Vd.passive_physical_dmg_.tag)]},{type:"conditional",conditional:{label:Mb("cond"),metadata:Eb.hit_behind,fields:[d(Vd.cond_dmg_.tag)]}}]},wi="StreetSuperstar",[Fd,Ab]=r("wengine",wi),Pb=g(wi,"icon"),Vb=_[wi],Fb=m[wi],qb={title:Fd("phase"),img:Pb,documents:[{type:"text",text:i(h,{wKey:wi,children:e=>Fd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ab("cond"),metadata:Vb.charge,fields:[d(Fb.cond_ult_dmg_.tag)]}}]},ln="TheBrimstone",[qd,Lb]=r("wengine",ln),Hb=$.wengine[ln],jb=g(ln,"icon"),Kb=_[ln],Wb=m[ln],Nb={title:qd("phase"),img:jb,documents:[{type:"text",text:i(h,{wKey:ln,children:e=>qd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Lb("cond"),metadata:Kb.hit_basic_dash_dodge,fields:[d(Wb.cond_atk_.tag),{title:"Duration",fieldValue:Hb.duration}]}}]},dn="TheRestrained",[Ld,Ub]=r("wengine",dn),Gb=$.wengine[dn],Jb=g(dn,"icon"),Yb=_[dn],Hd=m[dn],Zb={title:Ld("phase"),img:Jb,documents:[{type:"text",text:i(h,{wKey:dn,children:e=>Ld(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ub("cond"),metadata:Yb.dmg_daze_,fields:[d(Hd.basic_dmg_.tag),d(Hd.basic_daze_.tag),{title:"Duration",fieldValue:Gb.duration}]}}]},rn="TheVault",[jd,Xb]=r("wengine",rn),Qb=$.wengine[rn],e1=g(rn,"icon"),t1=_[rn],n1=m[rn],i1={title:jd("phase"),img:e1,documents:[{type:"text",text:i(h,{wKey:rn,children:e=>jd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Xb("cond"),metadata:t1.ether_hit,fields:[d(n1.cond_dmg_.tag),{title:"Duration",fieldValue:Qb.duration}]}}]},mn="Timeweaver",[Kd,a1]=r("wengine",mn),o1=$.wengine[mn],s1=g(mn,"icon"),c1=_[mn],Po=m[mn],l1={title:Kd("phase"),img:s1,documents:[{type:"text",text:i(h,{wKey:mn,children:e=>Kd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Po.passive_electric_anomBuildup_.tag),d(Po.passive_disorder_dmg_.tag)]},{type:"conditional",conditional:{label:a1("cond"),metadata:c1.hit_anomaly,fields:[d(Po.cond_anomProf.tag),{title:"Duration",fieldValue:o1.duration}]}}]},Pa="TremorTrigramVessel",[Wd]=r("wengine",Pa),d1=g(Pa,"icon"),Nd=m[Pa],r1={title:Wd("phase"),img:d1,documents:[{type:"text",text:i(h,{wKey:Pa,children:e=>Wd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Nd.exSpecial_dmg_.tag),d(Nd.ult_dmg_.tag)]}]},fn="TusksOfFury",[Ud,m1]=r("wengine",fn),f1=$.wengine[fn],_1=g(fn,"icon"),p1=_[fn],Vo=m[fn],u1={title:Ud("phase"),img:_1,documents:[{type:"text",text:i(h,{wKey:fn,children:e=>Ud(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Vo.passive_shield_.tag)]},{type:"conditional",conditional:{label:m1("cond"),metadata:p1.interrupt_perfdodge,fields:[d(Vo.cond_dmg_.tag),d(Vo.daze_.tag),{title:"Duration",fieldValue:f1.duration}]}}]},_n="UnfetteredGameBall",[Gd,h1]=r("wengine",_n),g1=$.wengine[_n],y1=g(_n,"icon"),$1=_[_n],b1=m[_n],x1={title:Gd("phase"),img:y1,documents:[{type:"text",text:i(h,{wKey:_n,children:e=>Gd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:h1("cond"),metadata:$1.anomaly_counter,fields:[d(b1.cond_crit_.tag),{title:"Duration",fieldValue:g1.duration}]}}]},Va="VortexArrow",[Jd,kx]=r("wengine",Va),w1=g(Va,"icon"),k1=m[Va],v1={title:Jd("phase"),img:w1,documents:[{type:"text",text:i(h,{wKey:Va,children:e=>Jd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(k1.passive_daze_.tag)]}]},pn="VortexHatchet",[Yd,C1]=r("wengine",pn),Zd=$.wengine[pn],S1=g(pn,"icon"),D1=_[pn],R1=m[pn],I1={title:Yd("phase"),img:S1,documents:[{type:"text",text:i(h,{wKey:pn,children:e=>Yd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:C1("cond"),metadata:D1.entering,fields:[d(R1.cond_impact_.tag),{title:"Duration",fieldValue:Zd.duration},{title:"Cooldown",fieldValue:Zd.cooldown}]}}]},Fa="VortexRevolver",[Xd,vx]=r("wengine",Fa),z1=g(Fa,"icon"),B1=m[Fa],M1={title:Xd("phase"),img:z1,documents:[{type:"text",text:i(h,{wKey:Fa,children:e=>Xd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(B1.passive_exSpecial_daze_.tag)]}]},un="WeepingCradle",[Qd,er]=r("wengine",un),T1=$.wengine[un],E1=g(un,"icon"),tr=_[un],O1=m[un],A1={title:Qd("phase"),img:E1,documents:[{type:"text",text:i(h,{wKey:un,children:e=>Qd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:er("cond_atk"),metadata:tr.attack}},{type:"conditional",conditional:{label:er("cond_stacks"),metadata:tr.stacks,fields:[d(O1.cond_dmg_.tag),{title:"Duration",fieldValue:T1.duration}]}}]},ki="WeepingGemini",[nr,P1]=r("wengine",ki),V1=g(ki,"icon"),F1=_[ki],q1=m[ki],L1={title:nr("phase"),img:V1,documents:[{type:"text",text:i(h,{wKey:ki,children:e=>nr(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:P1("cond"),metadata:F1.anomaly_stack,fields:[d(q1.anomProf.tag)]}}]},hn="ZanshinHerbCase",[ir,H1]=r("wengine",hn),j1=$.wengine[hn],K1=g(hn,"icon"),W1=_[hn],Fo=m[hn],N1={title:ir("phase"),img:K1,documents:[{type:"text",text:i(h,{wKey:hn,children:e=>ir(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Fo.passive_crit_.tag),d(Fo.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:H1("cond"),metadata:W1.apply_anom_stun,fields:[d(Fo.cond_crit_.tag),{title:"Duration",fieldValue:j1.duration}]}}]},U1={BashfulDemon:ch,BellicoseBlaze:mh,BigCylinder:hh,BlazingLaurel:yh,BoxCutter:kh,BunnyBand:Dh,CannonRotor:Mh,CinderCobalt:Ah,CordisGermina:Fh,DeepSeaVisitor:Lh,DemaraBatteryMarkII:Nh,DrillRigRedAxis:Yh,ElectroLipGloss:eg,ElegantVanity:sg,FlamemakerShaker:lg,FlightOfFancy:fg,FusionCompiler:gg,GildedBlossom:$g,HailstormShrine:vg,HeartstringNocturne:Ig,HellfireGears:Mg,Housekeeper:Og,IceJadeTeapot:Fg,IdentityBase:Wg,IdentityInflection:Ug,KaboomTheCannon:Qg,LunarDecrescent:oy,LunarNoviluna:cy,LunarPleniluna:dy,MagneticStormAlpha:py,MagneticStormBravo:$y,MagneticStormCharlie:xy,MarcatoDesire:Cy,Metanukimorphosis:Ry,MyriadEclipse:Ty,OriginalTransmorpher:Vy,PeacekeeperSpecialized:Hy,PracticedPerfection:Ny,PreciousFossilizedCore:Jy,PuzzleSphere:Zy,QingmingBirdcage:n$,RadiowaveJourney:c$,RainforestGourmet:_$,ReelProjector:u$,ReverbMarkI:x$,ReverbMarkII:S$,ReverbMarkIII:M$,RiotSuppressorMarkVI:A$,RoaringFurnace:L$,RoaringRide:j$,SeveredInnocence:G$,SharpenedStinger:Q$,SixShooter:ab,SliceOfTime:sb,SpectralGaze:lb,SpringEmbrace:_b,StarlightEngine:$b,StarlightEngineReplica:Cb,SteamOven:Bb,SteelCushion:Ob,StreetSuperstar:qb,TheBrimstone:Nb,TheRestrained:Zb,TheVault:i1,Timeweaver:l1,TremorTrigramVessel:r1,TusksOfFury:u1,UnfetteredGameBall:x1,VortexArrow:v1,VortexHatchet:I1,VortexRevolver:M1,WeepingCradle:A1,WeepingGemini:L1,ZanshinHerbCase:N1};function G1(e){const{attribute:t}=e;if(t)return t}function J1(e){const{q:t}=e;return["standardDmg","anomalyDmg"].includes(t)}function Y1(e){const{damageType1:t,damageType2:n}=e,o=[];return J1(e)?(t&&o.push(t),n&&o.push(n),o):[]}const Zi={basic:"Basic",dash:"Dash",dodgeCounter:"Dodge Counter",special:"Special",exSpecial:"EX Special",chain:"Chain",ult:"Ultimate",quickAssist:"Quick Assist",defensiveAssist:"Defensive Assist",evasiveAssist:"Evasive Assist",assistFollowUp:"Assist Follow Up",anomaly:"Anomaly",disorder:"Disorder",aftershock:"Aftershock",elemental:"Elemental",sheer:"Sheer"},Ur=["crit_","crit_dmg_","impact","pen","pen_","enerRegen","anomProf","anomMas","anom_crit_","anom_crit_dmg_"].map(e=>{if(uf.includes(e)){const t={...L.final.dmg_.tag,attribute:e.slice(0,-5)};return{title:i(qn,{statKey:e}),fieldRef:t}}return e==="crit_"?{fieldRef:L.common.cappedCrit_.tag,title:i(qn,{statKey:e})}:e==="anom_crit_"?{fieldRef:L.common.anom_cappedCrit_.tag,title:i(qn,{statKey:e})}:{fieldRef:L.final[e].tag,title:i(qn,{statKey:e})}});Ur.push(...Fe.map(e=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,name:"standardDmgInst"},title:w(qe,{color:e,children:[Ie[e]," Damage"]})})),...Fe.map(e=>({fieldRef:{et:"own",qt:"formula",q:"sheerDmg",attribute:e,name:"sheerDmgInst"},title:w(qe,{color:e,children:[Ie[e]," Damage"]})})),...Fe.flatMap(e=>hf.map(t=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,damageType1:t,name:"standardDmgInst"},title:w(qe,{color:e,children:[Ie[e]," ",Zi[t]," Damage"]})}))),...Fe.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomalyDmg",attribute:e,damageType1:"anomaly",name:"anomalyDmgInst"},title:w(qe,{color:e,children:[Ie[e]," Anomaly Damage"]})})),...[...Fe,"frost"].map(e=>{const t=e==="frost"?"ice":e;return{fieldRef:{et:"own",qt:"formula",q:"anomalyDmg",attribute:t,damageType1:"disorder",name:`disorderDmgInst_${e}`},title:w(qe,{color:t,children:[e==="frost"?"Frost":Ie[t]," ","Disorder Damage"]})}}),...Fe.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomBuildup",attribute:e,name:"anomalyBuildupInst"},title:w(qe,{color:e,children:[Ie[e]," Anomaly Buildup"]})})),{fieldRef:{et:"own",qt:"formula",q:"dazeBuildup",name:"dazeInst"},title:"Daze Buildup"});const as=[];Object.values(jp).forEach(e=>Object.values(e).forEach(t=>t.documents.forEach(n=>n.type==="fields"&&n.fields.forEach(o=>o_(o)&&as.push({tag:o.fieldRef,value:o})))));Ur.forEach(e=>{as.push({tag:e.fieldRef,value:e})});const Z1=Wf(as),Lo=new Map;function Gr(e,t){if(Lo.get(e))throw new Error(`Duplicate conditional ${e}`);Lo.set(e,t)}Object.values(U1).forEach(({documents:e})=>{e.forEach(t=>{t.type==="conditional"&&Gr(`${t.conditional.metadata.sheet}:${t.conditional.metadata.name}`,t.conditional)})});Object.values(nh).forEach(e=>Object.values(e).forEach(({documents:t})=>{t.forEach(n=>{n.type==="conditional"&&Gr(`${n.conditional.metadata.sheet}:${n.conditional.metadata.name}`,n.conditional)})}));export{Uf as A,sx as C,ys as D,ix as F,na as T,jn as a,Pr as b,Ef as c,Bf as d,nh as e,Zi as f,h_ as g,ta as h,x_ as i,ox as j,ax as k,Gf as l,ea as m,Nf as n,nx as o,Qf as p,g_ as q,Xf as r,Kr as s,Af as u,U1 as w};
