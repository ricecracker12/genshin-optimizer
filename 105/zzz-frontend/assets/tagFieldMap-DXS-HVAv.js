import{c5 as Td,J as Md,H as Ed,d as C,K as Ad,_ as Od,O as He,c6 as Uo,X as Ai,W as ji,V as ct,c7 as X,Y as Vd,c8 as Tr,c9 as Mr,T as P,y as Pd,ca as Jo,cb as Fd,cc as Er,a4 as Ar,cd as Or,a7 as Vr,ce as qd,u as be,aN as Ld,aL as Pr,cf as Fr,cg as qr,ch as Lr,ci as jd,b4 as Hd,b3 as Kd,cj as q,ck as jr,cl as Hr,bB as L,b9 as Kr,ba as Wr,cm as Oi,cn as Nr,co as Gr,cp as Wd,cq as Vi,cr as Ur,j as i,cs as Pi,ct as Re,bt as ye,bC as ko,cu as Jr,e as x,am as ce,aA as Fn,cv as Fi,i as ee,ax as ie,bW as Nd,cw as Yr,cx as Gd,cy as Ud,cz as vo,cA as Ie,ae as So,o as B,cB as Zr,cC as Jd,a as Yd,bJ as Xr,l as Zd,b$ as Qr,f as $e,G as Q,C as st,S as Ke,P as em,bN as tm,bg as wo,c0 as Yo,br as Xd,aX as Le,c1 as nm,c2 as im,I as Do,s as Ro,c3 as am,cD as om,v as Vn,M as Io,aM as Hi,ac as Qd,ad as er,cE as cm,m as sm,k as lm,n as dm,bf as rm,D as mm,c4 as fm,cF as pm,w as tr,r as hm,b as _m,c as um,g as gm,bx as nr,bF as ir,bD as ar,cG as ym,cH as $m,E as bm,cI as xm,z as qn,B as lt,cJ as zo,F as Ln,cK as or,cL as wm,ah as Bo,ag as Cm,aY as je,ap as km,b6 as vm,cM as Sm,cN as Dm,cO as Rm,aH as cr,aF as An,ai as Im,cP as zm,bz as Bm,cQ as Tm,aK as Mm,cR as Em,cS as Am,bZ as Om,cT as Vm,cU as Pm,cV as se,cW as sr,a5 as Zo,b8 as Xo,cX as Fm,cY as qm,be as lr,cZ as Lm,c_ as $,c$ as T,a$ as p,a_ as f,ay as M,aD as g,d0 as jm,bI as Hm}from"./index-Ck0LGixI.js";import{i as Km,d as Wm}from"./discSortUtil-D9lE4YyY.js";function Nm(e){const{badgeContent:t,invisible:n=!1,max:o=99,showZero:c=!1}=e,l=Td({badgeContent:t,max:o});let s=n;n===!1&&t===0&&!c&&(s=!0);const{badgeContent:m,max:h=o}=s?l:e,_=m&&Number(m)>h?`${h}+`:m;return{badgeContent:m,invisible:s,max:h,displayValue:_}}function Gm(e){return Ed("MuiBadge",e)}const xe=Md("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Um=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Ba=10,Ta=4,Jm=e=>{const{color:t,anchorOrigin:n,invisible:o,overlap:c,variant:l,classes:s={}}=e,m={root:["root"],badge:["badge",l,o&&"invisible",`anchorOrigin${X(n.vertical)}${X(n.horizontal)}`,`anchorOrigin${X(n.vertical)}${X(n.horizontal)}${X(c)}`,`overlap${X(c)}`,t!=="default"&&`color${X(t)}`]};return Vd(m,Gm,s)},Ym=ji("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Zm=ji("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${X(n.anchorOrigin.vertical)}${X(n.anchorOrigin.horizontal)}${X(n.overlap)}`],n.color!=="default"&&t[`color${X(n.color)}`],n.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:Ba*2,lineHeight:1,padding:"0 6px",height:Ba*2,borderRadius:Ba,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(n=>{var o,c;return((o=e.vars)!=null?o:e).palette[n].main&&((c=e.vars)!=null?c:e).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ta,height:Ta*2,minWidth:Ta*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${xe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${xe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${xe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${xe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${xe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${xe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${xe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${xe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}}),Qo=C.forwardRef(function(t,n){var o,c,l,s,m,h;const _=Ad({props:t,name:"MuiBadge"}),{anchorOrigin:w={vertical:"top",horizontal:"right"},className:R,component:S,components:y={},componentsProps:b={},children:k,overlap:I="rectangular",color:j="default",invisible:N=!1,max:me=99,badgeContent:fe,slots:W,slotProps:z,showZero:O=!1,variant:F="standard"}=_,pe=Od(_,Um),{badgeContent:Lo,invisible:Cr,max:kr,displayValue:vr}=Nm({max:me,invisible:N,badgeContent:fe,showZero:O}),Sr=Td({anchorOrigin:w,color:j,overlap:I,variant:F,badgeContent:fe}),jo=Cr||Lo==null&&F!=="dot",{color:Dr=j,overlap:Rr=I,anchorOrigin:Ir=w,variant:Ho=F}=jo?Sr:_,Ko=Ho!=="dot"?vr:void 0,Ra=He({},_,{badgeContent:Lo,invisible:jo,max:kr,displayValue:Ko,showZero:O,anchorOrigin:Ir,color:Dr,overlap:Rr,variant:Ho}),Wo=Jm(Ra),No=(o=(c=W==null?void 0:W.root)!=null?c:y.Root)!=null?o:Ym,Go=(l=(s=W==null?void 0:W.badge)!=null?s:y.Badge)!=null?l:Zm,Ia=(m=z==null?void 0:z.root)!=null?m:b.root,za=(h=z==null?void 0:z.badge)!=null?h:b.badge,zr=Uo({elementType:No,externalSlotProps:Ia,externalForwardedProps:pe,additionalProps:{ref:n,as:S},ownerState:Ra,className:Ai(Ia==null?void 0:Ia.className,Wo.root,R)}),Br=Uo({elementType:Go,externalSlotProps:za,ownerState:Ra,className:Ai(Wo.badge,za==null?void 0:za.className)});return ct.jsxs(No,He({},zr,{children:[k,ct.jsx(Go,He({},Br,{children:Ko}))]}))});function Xm(e){return Ed("MuiFormControlLabel",e)}const On=Md("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Qm=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],ef=e=>{const{classes:t,disabled:n,labelPlacement:o,error:c,required:l}=e,s={root:["root",n&&"disabled",`labelPlacement${X(o)}`,c&&"error",l&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",c&&"error"]};return Vd(s,Xm,t)},tf=ji("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${On.label}`]:t.label},t.root,t[`labelPlacement${X(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>He({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${On.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${On.label}`]:{[`&.${On.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),nf=ji("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${On.error}`]:{color:(e.vars||e).palette.error.main}})),af=C.forwardRef(function(t,n){var o,c;const l=Ad({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:m={},control:h,disabled:_,disableTypography:w,label:R,labelPlacement:S="end",required:y,slotProps:b={}}=l,k=Od(l,Qm),I=Tr(),j=(o=_??h.props.disabled)!=null?o:I==null?void 0:I.disabled,N=y??h.props.required,me={disabled:j,required:N};["checked","name","onChange","value","inputRef"].forEach(pe=>{typeof h.props[pe]>"u"&&typeof l[pe]<"u"&&(me[pe]=l[pe])});const fe=Mr({props:l,muiFormControl:I,states:["error"]}),W=He({},l,{disabled:j,labelPlacement:S,required:N,error:fe.error}),z=ef(W),O=(c=b.typography)!=null?c:m.typography;let F=R;return F!=null&&F.type!==P&&!w&&(F=ct.jsx(P,He({component:"span"},O,{className:Ai(z.label,O==null?void 0:O.className),children:F}))),ct.jsxs(tf,He({className:Ai(z.root,s),ownerState:W,ref:n},k,{children:[C.cloneElement(h,me),N?ct.jsxs(Pd,{display:"block",children:[F,ct.jsxs(nf,{ownerState:W,"aria-hidden":!0,className:z.asterisk,children:[" ","*"]})]}):F]}))}),of={};class dr{constructor(t,n){this.root=new cf(t,n)}subset(t){const n=[];return this._subset(t,o=>n.push(...o[Jo].map(c=>c.value))),n}entries(t){const n=[];return this._subset(t,o=>n.push(...o[Jo])),n}_subset(t,n){const o=t.length;function c(l,s){l<o?s.subset(t[l]).forEach(m=>c(l+1,m)):n(s.leaf)}c(0,this.root)}}let cf=class rr{constructor(t,n){if(this.children=[],t>0)for(const[o,c]of Object.entries(n)){const l=new Map;for(const[s,m]of Object.entries(c))l.set(+s,new rr(t-1,m));this.children.push({mask:+o,map:l})}else this.leaf=n}subset(t){return this.children.map(({mask:n,map:o})=>o.get(t&n)).filter(n=>!!n)}};class ec{constructor(t){this.root=new To(void 0),this.keys=t}at(t){const n=this.keys.get(t),o=n.reduce((c,l)=>c.child(l),this.root);return o.leaf||(o.leaf=new Mo(t,n,this.keys,o)),o.leaf}}class To{constructor(t){this.children=new Map,this.parent=t}child(t){let n=this.children.get(t);return n||(n=new To(this),this.children.set(t,n),n)}}class Mo{constructor(t,n,o,c){this.tag=Object.fromEntries(Object.entries(t).filter(([l,s])=>s!=null)),this.id=n,this.keys=o,this.internal=c}with(t){const{keys:n}=this,{id:o,firstReplacedByte:c}=n.combine(this.id,t);let l=this.internal;for(let s=c;s<n.tagLen;s++)l=l.parent;for(let s=c;s<n.tagLen;s++)l=l.child(o[s]);return l.leaf||(l.leaf=new Mo({...this.tag,...t},o,n,l)),l.leaf}}class sf{constructor(t,n){this.keys=new Fd(t),this.values=new dr(t.tagLen,n)}subset(t){return this.values.subset(this.keys.get(t))}}const Pn={sum:e=>e.reduce((t,n)=>t+n,0),prod:e=>e.reduce((t,n)=>t*n,1),min:e=>Math.min(...e),max:e=>Math.max(...e),sumfrac:([e,t])=>e/(e+t),unique:([e])=>e},mr={match:([e,t])=>e===t?0:1,thres:([e,t])=>e>=t?0:1,lookup:([e],t)=>t[e]??0},_i=e=>Or(e,"val");let fr=class{constructor(t,...n){const o=new Fd(t);this.nodes=new dr(o.tagLen,Er(n)),this.cache=new ec(o).at({}),this.calc=new ec(o).at({}),this.calc.val=this}withTag(t){const n=this.calc.with(t);return n.val??(n.val=Object.assign(new this.constructor(this.cache.keys),this,{cache:this.cache.with(t),calc:n}))}gather(t){return this._gather(this.cache.with(t)).pre}compute(t){return this._compute(t,this.cache)}_gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:o,value:c})=>c.op==="reread"?this._gather(t.with(c.tag)).pre:[this.markGathered(t.tag,o,c,this._compute(c,t))]);return t.val={pre:n}}_compute(t,n){const o=(l,s,m,h)=>Object.freeze({val:l,meta:this.computeMeta(t,l,s,m,h)}),{op:c}=t;switch(c){case"const":return o(t.ex,[],[]);case"sum":case"prod":case"min":case"max":case"sumfrac":{const l=t.x.map(s=>this._compute(s,n));return o(Pn[c](_i(l)),l,[])}case"thres":case"match":case"lookup":{const l=t.br.map(_=>this._compute(_,n)),s=mr[c](_i(l),t.ex),m=[...Array(t.x.length)],h=m[s]=this._compute(t.x[s],n);return o(h.val,m,l)}case"subscript":{const l=this._compute(t.br[0],n);return o(t.ex[l.val],[],[l])}case"vtag":return o(n.tag[t.ex]??"",[],[]);case"tag":{const l=n.with(t.tag),s=this._compute(t.x[0],l);return o(s.val,[s],[],l.tag)}case"dtag":{const l=t.br.map(h=>this._compute(h,n)),s=n.with(Object.fromEntries(l.map((h,_)=>[t.ex[_],h.val]))),m=this._compute(t.x[0],s);return o(m.val,[m],l,s.tag)}case"read":{const l=n.with(t.tag),s=this._gather(l),{pre:m}=s,h=t.ex??this.defaultAccu(l.tag)??"unique";if(h!==t.ex&&(t={...t,ex:h}),s[h])return s[h];if(Vr()&&h==="unique"&&m.length!==1)throw new Error(`Ill-form read for ${qd(l.tag)}`);const _=Pn[h](_i(m));return s[h]=o(_,m,[],l.tag)}case"custom":{const l=t.x.map(s=>this._compute(s,n));return o(of[t.ex].calc(_i(l)),l,[])}default:Ar(c)}}defaultAccu(t){}markGathered(t,n,o,c){return c}computeMeta(t,n,o,c,l){}toDebug(){throw new Error("not implemented")}};const lf={arithmetic:Pn,branching:mr};class df extends fr{constructor(t,n=qd,o=()=>!0){super(t.cache.keys),this.gathering=new Set,this.nodes=t.nodes,this.tagStr=n,this.filter=o,this.defaultAccu=c=>t.defaultAccu(c),this.cache=this.cache.with(t.cache.tag)}withTag(t){throw new Error("Unimplemented")}_gather(t){if(this.gathering.has(t))throw new Error(`Loop detected for ${this.tagStr(t.tag)}`);this.gathering.add(t);const n=this.__gather(t);return this.gathering.delete(t),n}__gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:o,value:c})=>c.op==="reread"?this._gather(t.with(c.tag)).pre.map(l=>{const s=`${this.tagStr(o)} <= ${this.tagStr(c.tag)} : ${l.meta.readSeq}`;return Object.freeze({...l,meta:{...l.meta,readSeq:s}})}):[this.markGathered(t.tag,o,c,this._compute(c,t))]);return t.val={pre:n}}_compute(t,n){try{return super._compute(t,n)}catch(o){return Object.freeze({val:NaN,meta:{formula:`${o}`,deps:[],omitted:[],val:NaN,x:[],br:[],comp:"ERR",pivot:!0,toJSON:nc}})}}markGathered(t,n,o,c){const l=`${this.tagStr(n)} <- ${this.tagStr(t)}`;return{...c,meta:{...c.meta,readSeq:l,pivot:!0}}}computeMeta(t,n,o,c,l){let s,m;const h=o.filter(y=>y).map(y=>y.meta),_=c.map(y=>y.meta),w=[],R=t.op==="read"?t.ex:t.op,S=[];if(R in Pn){const y=Pn[R]([]);for(const b of[..._,...h])b.val!==y||this.filter(b)?w.push(b):S.push(b)}else w.push(..._,...h);switch(t.op){case"const":s=tc(t.ex);break;case"read":m=`gather ${h.length} node(s)`,m+=` matching ${this.tagStr(l,t.ex)}`,m+=` (for ${this.tagStr(t.tag)})`,S.length&&(m+=` <${S.length} omitted>`),s=`${this.tagStr(t.tag)}`;break;default:{const y=[];t.ex&&t.op!=="subscript"&&y.push(JSON.stringify(t.ex)),t.tag&&y.push(this.tagStr(t.tag)),y.push(...w.map(b=>b.comp)),S.length&&y.push(`<${S.length} omitted>`),s=`${t.op}(`+y.join(", ")+")"}}return S.push(...w.flatMap(y=>y.pivot?[]:y.omitted)),Object.freeze({formula:`[${tc(n)}] ${m??s}`,deps:[...new Set(w.flatMap(y=>y.pivot?[y]:y.deps))],omitted:[...new Set(S)],val:n,x:h,br:_,comp:s,pivot:t.op==="read",toJSON:nc})}}const tc=e=>typeof e=="string"?`"${e}"`:e.toString();function nc(){const{formula:e,readSeq:t,deps:n}=this,o={readSeq:t,formula:e,deps:n};return o.readSeq||delete o.readSeq,o.deps.length||delete o.deps,Object.keys(o).length===1?o.formula:o}function Ki(e){const{database:t}=be();return Ld(t.chars,e)}function rf(e){const{database:t}=be();return Ld(t.charOpts,e)}const{arithmetic:mf}=lf;let ff=class extends fr{computeMeta({op:t,ex:n,tag:o},c,l,s,m){let h=l.filter(y=>!!y);const _=pf(h,s);function w(y){return Object.freeze(m&&!y.tag?{tag:m,...y}:y)}function R(y,b){return w({op:y,ops:b,..._})}function S(y,b){let{meta:k}=y;return b!=null&&b.some(I=>!k.usedCats.has(I))&&(k={...k,usedCats:new Set([...k.usedCats,...b])}),w(k.conds===_.conds?k:{...k,..._})}if(t==="read"&&(m==null?void 0:m.qt)==="cond"){const{src:y,dst:b,sheet:k,q:I}=m;y&&k&&I&&(_.conds=qi(_.conds,{[b??"All"]:{[y]:{[k]:{[I]:c}}}}))}switch(t==="read"&&n!=="unique"&&([t,n]=[n,void 0]),t){case"sum":case"prod":case"min":case"max":case"sumfrac":if(h.length>1){const y=mf[t]([]);h=h.filter(b=>b.val!==y)}return h.length===1?S(h[0]):R(h.length?t:"const",h);case"const":case"subscript":return R("const",[]);case"vtag":return _.usedCats=new Set([n]),R("const",[]);case"match":case"thres":case"lookup":case"read":return S(h[0]);case"tag":return S(h[0],Object.keys(o));case"dtag":return S(h[0],n);case"custom":return R(n,h);default:Pr(t)}}markGathered(t,n,o,c){const{val:l}=c,s={...c.meta};let m=!1;const h=new Set([...s.usedCats,...Object.keys(n)]);return s.usedCats.size!==h.size&&(s.usedCats=h,m=!0),m?{val:l,meta:Object.freeze(s)}:c}listFormulas(t){return this.gather(t.tag).filter(n=>n.val).map(({val:n,meta:o})=>Fr.withTag(o.tag)[n])}listCondFormulas(t){return this.listFormulas(t).map(n=>this.compute(n).meta.conds).reduce(qi,{})}};function pf(e,t){var s;const n=[...e.map(m=>m.meta),...t.map(m=>m.meta)];let o={},c=new Set;for(const m of n)o=qi(o,m.conds),m.usedCats.forEach(h=>c.add(h));const l=c.size;return c=((s=n.find(m=>m.usedCats.size===l))==null?void 0:s.usedCats)??c,{usedCats:c,conds:o}}function qi(e,t){if(e===t)return e;if(typeof e!="object")throw new Error(`cannot merge ${e} and ${t}`);if(Object.keys(t).length>Object.keys(e).length&&([e,t]=[t,e]),!Object.keys(t).length)return e;let n=!1;const o={...e};for(const[c,l]of Object.entries(t)){const s=o[c],m=c in o?qi(s,l):l;s!==m&&(o[c]=m,n=!0)}return Object.freeze(n?o:e)}function hf(e){const t=new Set(e);return n=>!_f(n,t)}function _f(e,t){const n=e.formula.match(/(\S+) (\S+) common.count/);if(!n)return!1;const[,o,c]=n;return c==="own"&&t.has(o)}class uf extends ff{toDebug(){return new df(this,qr,hf([...Hd,...Kd]))}defaultAccu(t){var c,l,s,m;const{qt:n,q:o}=t;if(!(!n||!o))switch(t.et){case"own":case"target":return(l=(c=jd[n])==null?void 0:c[o])==null?void 0:l.accu;case"enemy":return(m=(s=Lr[n])==null?void 0:s[o])==null?void 0:m.accu;case"team":if(n==="common"&&o==="count")return"sum";throw new Error("non-explicit team value accumulator")}}listFormulas(t){return super.listFormulas(t).filter(n=>n.tag.qt!=="formula"||["standardDmgInst","sheerDmgInst","anomalyDmgInst","anomalyBuildupInst","dazeInst"].includes(n.tag.name??""))}}function Ei(e,...t){return t.map(({tag:n,value:o})=>({tag:{...n,preset:e},value:o}))}function pr(e,...t){return t.map(({tag:n,value:o})=>({tag:{...n,src:e},value:o}))}function hr(e){const{lvl:t,promotion:n,basic:o,dodge:c,special:l,chain:s,assist:m,core:h,mindscape:_}=L.char,{char:w,iso:R,[e.key]:S}=q.withAll("sheet",[]);return[w.reread(S),R.reread(S),t.add(e.level),o.add(e.basic),c.add(e.dodge),l.add(e.special),s.add(e.chain),m.add(e.assist),h.add(e.core),n.add(e.promotion),_.add(e.mindscape),Oi.base.crit_.add(.05),Oi.base.crit_dmg_.add(.5)]}function gf(e){return[q.sheet("agg").reread(q.sheet("wengine")),...e?[L.common.count.sheet(e.key).add(1),L.wengine.lvl.add(e.level),L.wengine.modification.add(e.modification),L.wengine.phase.add(e.phase)]:[]]}function _r(e,t){const{common:{count:n},initial:o}=Nr(jd,{sheet:"disc",et:"own"});return[q.sheet("agg").reread(q.sheet("disc")),q.withTag({sheet:"disc",qt:"initial"}).reread(q.sheet("dyn")),...Object.entries(e).map(([c,l])=>Gr(o,c).sheet("dyn").add(l)),...Object.entries(t).map(([c,l])=>n.sheet(c).add(l))]}function yf(e){const t={},n={};return e.forEach(({setKey:o,mainStatKey:c,substats:l,level:s,rarity:m})=>{t[o]=(t[o]??0)+1,n[c]=(n[c]??0)+Kr(m,c,s),l.forEach(({key:h,upgrades:_})=>{!h||!_||(n[h]=(n[h]??0)+Wr(h,m)*_)})}),_r(n,t)}function ur(e){const t=q.with("et","team"),{own:n,enemy:o,teamBuff:c,notOwnBuff:l}=q.sheet("agg").withAll("et",[]);return[e.map(s=>q.withTag({et:"target",dst:s}).reread(q.withTag({et:"own",dst:null,src:s}))),e.flatMap(s=>{const m=n.with("src",s);return e.map(h=>m.reread(c.withTag({dst:s,src:h,name:null})))}),e.flatMap(s=>{const m=n.with("src",s);return e.filter(h=>h!==s).map(h=>m.reread(l.withTag({dst:s,src:h,name:null})))}),e.map(s=>o.reread(q.withTag({et:"enemyDeBuff",dst:null,src:s,name:null}))),e.flatMap((s,m)=>{const{stackIn:h,stackTmp:_}=q.withAll("qt",[]),w=q.withTag({src:s,et:"own"});return[w.with("qt","stackTmp").add(jr(h,0,m+1)),w.with("qt","stackOut").add(Hr(_.max.with("et","team"),m+1,h))]}),e.map(s=>t.add(q.withTag({src:s,et:"own"})))].flat()}function gr(e){const t=Wd(Vi,e);return new uf(Vi,Ur,t)}function $f(e){return new sf(Vi,Wd(Vi,e))}function bf({characterKey:e}){return i(Pi,{ns:"charNames_gen",key18:e})}function xf({attribute:e}){return Re[e]}function wf({characterKey:e,onClick:t,charCardConfig:n}){const{level:o=0,promotion:c=0}=Ki(e)??{},l=ye(e),s=n||{cardWidth:"100%",charImgWidth:"100%",iconsSize:1.7,isEditing:!1,charNameWidth:"191px",charNameVariant:"h6",scrollingBgSize:"200px"},m=C.useCallback(()=>e&&(t==null?void 0:t(e)),[e,t]),h=C.useCallback(_=>i(ko,{onClick:m,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:_}),[m]);return i(Fn,{children:i(Jr,{condition:!!t,wrapper:h,children:x(ce,{sx:{display:"flex",flexDirection:"column",width:s.cardWidth},children:[i(Cf,{characterKey:e,characterStat:l,charCardConfig:s}),i(kf,{characterKey:e,characterStat:l,promotion:c,level:o,charCardConfig:s})]})})})}function Cf({characterKey:e,characterStat:t,charCardConfig:n}){const{attribute:o,id:c}=t;return x(ce,{sx:s=>({width:"100%",height:"100%",position:"relative",display:"flex",background:`${s.palette[o].main}`,zIndex:1,overflow:"hidden"}),children:[x(ce,{sx:{position:"absolute",left:"0",right:"0",display:"flex",transform:"rotate(5deg) translateX(-50%)",zIndex:2},children:[i(ic,{characterKey:e,charCardConfig:n}),i(ic,{characterKey:e,charCardConfig:n})]}),i(ce,{src:`https://act-webstatic.hoyoverse.com/game_record/zzzv2/role_vertical_painting/role_vertical_painting_${c}.png`,component:Fi?Fi:"img",width:n.charImgWidth,height:"auto",position:"relative",zIndex:"2"})]})}function kf({characterKey:e,characterStat:t,promotion:n,level:o,charCardConfig:c}){const{t:l}=ee("page_characters"),{attribute:s,rarity:m,specialty:h}=t,_=Ki(e);return i(ce,{sx:{width:"100%",height:"100%",padding:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:x(ce,{sx:{display:"flex",flexDirection:"column"},children:[x(ce,{gap:1,sx:{display:"flex",alignItems:"center"},children:[i(ie,{size:c.iconsSize,src:Nd(m)}),i(P,{variant:c.charNameVariant,sx:{fontWeight:"900",maxWidth:c.charNameWidth,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:i(bf,{characterKey:e})}),i(Yr,{ele:s,iconProps:{sx:{fontSize:`${c.iconsSize}em`}}}),i(ie,{size:c.iconsSize,src:Gd(h)}),c.isEditing?"":i(P,{variant:"h5",color:"primary",sx:{fontWeight:"900"},children:l("mindscape",{level:_?_.mindscape:0})})]}),c.isEditing?"":x(ce,{sx:{mt:"12px",display:"flex",gap:"14px",flexWrap:"wrap"},children:[x(ce,{sx:w=>({border:`2px solid ${w.palette.contentZzz.main}`,borderRadius:"20px",display:"flex"}),children:[i(P,{sx:{fontWeight:"900",paddingLeft:"12px",fontSize:"16px"},children:l("charLevel",{level:o})}),x(P,{color:"primary",sx:{fontWeight:"900",paddingLeft:"4px",pr:"10px"},children:["/ ",Ud[n]]})]}),x(ce,{gap:1.5,sx:{display:"flex",alignItems:"center"},children:[vo.map((w,R)=>i(Qo,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${_?_[w]:0}`,color:"primary",children:i(ie,{size:1.9,src:Ie(w)})},R)),i(Qo,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${_?_.core:0}`,color:"primary",children:i(ie,{size:1.9,src:Ie("core")})},6)]})]})]})})}function ic({characterKey:e,charCardConfig:t}){const{t:n}=ee("charNames_gen"),o={animation:"scroll 16s infinite linear","@keyframes scroll":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(0)"}}};return i(ce,{component:"span",sx:{color:"#000",marginTop:"20px",fontStyle:"italic",fontSize:t.scrollingBgSize,lineHeight:"150px",whiteSpace:"nowrap",textTransform:"uppercase",display:"flex",justifyContent:"center",fontFamily:"Impact",opacity:.1,...o},children:n(`${e}`)})}function vf({mindscape:e,setMindscape:t}){const{t:n}=ee("page_characters");return i(B,{sx:{display:"flex",flexWrap:"wrap",gap:2,mt:"12px"},children:So(1,6).map(o=>i(B,{children:i(Fn,{sx:{position:"relative",borderRadius:"40px"},children:i(af,{control:i(Zr,{checked:e>=o,onChange:()=>t(o===e?o-1:o)}),label:x(B,{sx:{position:"absolute",top:9,left:e>=o?75:16,transition:"left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",textAlign:"center"},children:[i(P,{variant:"subtitle1",sx:c=>({fontWeight:900,color:e>=o?c.palette.mindscapeActive.main:c.palette.mindscapeInactive.main}),children:n("mindscape",{level:o})}),i(P,{variant:"subtitle2",sx:c=>({lineHeight:.2,fontWeight:900,color:e>=o?c.palette.mindscapeActive.main:c.palette.mindscapeInactive.main}),children:n("mindscapeTitle")})]}),sx:{margin:0}})})},o))})}function Sf(e){return{new:t=>e.chars.get(t)?0:1,name:t=>Jd.t(t).toString(),level:t=>{const n=e.chars.get(t);return n?n.level*(n.promotion+1):0},rarity:t=>ye(t).rarity??0}}function Df(e){return{attribute:(t,n)=>n.includes(ye(t).attribute),specialtyType:(t,n)=>n.includes(ye(t).specialty),rarity:(t,n)=>n.includes(ye(t).rarity),name:(t,n)=>n===void 0||Jd.t(t).toLowerCase().includes(n.toLowerCase()),new:(t,n)=>n===void 0||n===(e.chars.get(t)?"no":"yes")}}const yr={name:["name"],level:["level","rarity","name"],rarity:["rarity","level","name"]};function p1({show:e,onHide:t,onSelect:n,newFirst:o=!1}){const{database:c}=be(),l=Yd(c.displayCharacter),[s,m]=C.useState(""),h=C.useDeferredValue(s),_=C.useDeferredValue(l),w=C.useMemo(()=>{const{attribute:y,specialtyType:b,sortType:k,ascending:I}=_,j=[...o?["new"]:[],...yr[k]??[]];return Xr.filter(Zd({attribute:y,specialtyType:b,name:h},Df(c))).sort(Qr(j,I,Sf(c),["new"]))},[_,o,h,c]);return i(If,{show:e,charactersToShow:w,filterSearchSortProps:{searchTerm:s,onChangeSpecialtyFilter:y=>{c.displayCharacter.set({specialtyType:y})},onChangeAttributeFilter:y=>{c.displayCharacter.set({attribute:y})},onChangeSearch:y=>{m(y.target.value)},onChangeSort:y=>{c.displayCharacter.set({sortType:y})},onChangeAsc:y=>{c.displayCharacter.set({ascending:y})}},onClose:()=>{m(""),t()},children:i($e,{sx:{flex:"1",overflow:"auto"},children:i(C.Suspense,{fallback:i(Ke,{variant:"rectangular",width:"100%",height:1e3}),children:i(Q,{container:!0,spacing:.5,columns:{xs:2,sm:3,md:4,lg:5},children:w.map(y=>i(Q,{item:!0,xs:1,children:i(st,{bgt:"light",sx:b=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",borderRadius:"40px 16px 16px 40px",border:`3px solid ${b.palette.contentZzz.main}`}),children:i(zf,{characterKey:y,onClick:()=>{t(),n(y)}})})},y))})})})})}const Rf=Object.keys(yr);function If({show:e,charactersToShow:t,filterSearchSortProps:n,onClose:o,children:c}){const{t:l}=ee("page_characters"),{database:s}=be(),m=Yd(s.displayCharacter),h=C.useMemo(()=>Yo(Xd,b=>s.chars.entries.forEach(([k,I])=>{const j=ye(I.key).specialty;b[j].total++,t.includes(k)&&b[j].current++})),[t,s.chars.entries]),_=C.useMemo(()=>Yo(Le,b=>Object.entries(s.chars.data).forEach(([k])=>{const I=ye(k).attribute;b[I].total++,t.includes(k)&&b[I].current++})),[t,s.chars.data]),{specialtyType:w,attribute:R,sortType:S,ascending:y}=m;return i(Io,{open:e,onClose:o,containerProps:{sx:{height:"100vh",p:{xs:1}}},children:x(st,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[x($e,{sx:{display:"flex",flexDirection:"column",gap:1},children:[x(B,{sx:{display:"flex",justifyContent:"space-between"},children:[x(B,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[i(nm,{onChange:b=>s.displayCharacter.set({specialtyType:b}),value:w,totals:h,size:"small"}),i(im,{onChange:b=>s.displayCharacter.set({attribute:b}),value:R,totals:_,size:"small"})]}),i(Do,{sx:{ml:"auto"},onClick:()=>o(),children:i(Ro,{})})]}),x(B,{display:"flex",gap:1,children:[i(am,{autoFocus:!0,value:n.searchTerm,onChange:b=>n.onChangeSearch(b),label:l("characterName"),size:"small",sx:{height:"100%",mr:"auto"},InputProps:{sx:{height:"100%"}}}),i(om,{sortKeys:Rf,value:S,onChange:b=>n.onChangeSort(b),ascending:y,onChangeAsc:b=>n.onChangeAsc(b)})]})]}),i(Vn,{}),c]})})}function zf({characterKey:e,onClick:t}){const{t:n}=ee(["page_characters","charNames_gen"]),o=em(),c=Ki(e),{rarity:l,attribute:s}=ye(e),{level:m=1,promotion:h=0,mindscape:_=0}=c??{},w=s==="electric"?o.palette[s].light:o.palette[s].main;return i(ko,{onClick:t,children:x(B,{sx:{position:"relative",width:"100%",display:"flex",padding:"3px",gap:.5,"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,background:w}},children:[i(B,{sx:{maxWidth:{xs:"33%",lg:"30%"},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,flexShrink:1},children:i(B,{component:Fi?Fi:"img",src:tm(e,"interknot")})}),x(B,{sx:{display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly"},children:[x(B,{sx:{display:"flex",alignItems:"center",gap:.5},children:[i(ie,{size:1.5,src:Nd(l)}),i(P,{variant:"subtitle2",sx:R=>({flexGrow:1,color:R.palette.contentNormal.main,fontWeight:"900"}),children:n(`charNames_gen:${e}`)})]}),c?x(B,{sx:R=>({display:"flex",gap:1,alignItems:"center",background:R.palette.contentNormal.main,padding:"4px 12px",borderRadius:"20px"}),children:[x(B,{sx:{textShadow:"0 0 5px gray"},children:[i(P,{variant:"body2",component:"span",whiteSpace:"nowrap",children:n("charLevel",{level:m})}),x(P,{variant:"body2",component:"span",color:"text.secondary",children:["/",Ud[h]]})]}),x(P,{variant:"body2",children:["M",_]})]}):i(P,{component:"span",variant:"body2",children:i(wo,{color:"electric",children:n("characterEditor.new")})})]})]})})}function Bf(){const{t:e}=ee("page_characters"),{database:t}=be(),n=Hi(),{core:o=0,promotion:c=0,key:l}=n??{},s=C.useCallback(m=>l&&t.chars.set(l,{core:m}),[t,l]);return i(er,{fullWidth:!0,title:e("core",{level:o}),color:"primary",startIcon:i(ie,{src:Ie("core"),size:1.75,sideMargin:!0}),children:So(0,cm[c]).map(m=>i(Qd,{selected:o===m,disabled:o===m,onClick:()=>s(m),children:e("core",{level:m})},m))})}const Tf={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3};function $r({disc:e,onChangeId:t,slotKey:n,show:o,onClose:c}){const{t:l}=ee(["page_characters","disc"]),{database:s}=be(),m=e==null?void 0:e.id,h=C.useCallback((z,O)=>({...z,...O,slotKeys:[n]}),[n]),[_,w]=C.useReducer(h,{...Km(),slotKeys:[n]}),R=sm(),S=C.useMemo(()=>Wm(),[]),y=lm(s.discs),b=y.filter(z=>z.slotKey===_.slotKeys[0]).length,k=C.useMemo(()=>{const z=Zd(_,S);let O=y.filter(z).map(F=>F.id);return m&&s.discs.get(m)&&(O=O.filter(F=>F!==m),O.unshift(m)),O},[_,S,y,m,s.discs]),{numShow:I,setTriggerElement:j}=dm(Tf[R],k.length),N=C.useMemo(()=>k.slice(0,I),[k,I]),me=k.length!==b?`${k.length}/${b}`:`${b}`,fe={numShowing:N.length,total:me,t:l,namespace:"disc"},W=C.useCallback(z=>{rm.includes(z)?t(null):z&&t(z),c()},[t,c]);return i(Io,{open:o,onClose:c,containerProps:{maxWidth:"xl"},children:x(st,{children:[x($e,{sx:{py:1,display:"flex",alignItems:"center"},children:[i(P,{variant:"h6",children:l("tabEquip.swapDisc")}),i(Do,{onClick:c,sx:{ml:"auto"},children:i(Ro,{})})]}),i(Vn,{}),i($e,{children:i(C.Suspense,{fallback:i(Ke,{variant:"rectangular",width:"100%",height:200}),children:i(mm,{filterOption:_,filterOptionDispatch:w,filteredIds:k,disableSlotFilter:!0})})}),i(Vn,{}),x($e,{children:[i(B,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:i(fm,{showingTextProps:fe})}),i(B,{mt:1,children:i(C.Suspense,{fallback:i(Ke,{variant:"rectangular",width:"100%",height:1e3}),children:x(Q,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:[m&&i(Q,{item:!0,xs:1,children:i(st,{bgt:"light",sx:{width:"100%",height:"100%"},children:i(ko,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>W(n),children:x(B,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[i(pm,{sx:{fontSize:"10em"}}),i(P,{children:l("disc:button.unequipDisc")})]})})})}),N.map(z=>i(Q,{item:!0,xs:1,sx:O=>({...m===z&&{"> .MuiCard-root":{outline:`${O.spacing(.5)} solid ${O.palette.warning.main}`}}}),children:i(tr,{disc:s.discs.get(z),onClick:m===z?void 0:()=>W(z)})},z))]})})}),k.length!==N.length&&i(Ke,{ref:z=>{z&&j(z)},sx:{borderRadius:1,mt:1},variant:"rectangular",width:"100%",height:100})]})]})})}function Mf(e){return"fieldRef"in e}var _n={},ac;function Ef(){if(ac)return _n;ac=1;var e=hm();Object.defineProperty(_n,"__esModule",{value:!0}),_n.default=void 0;var t=e(_m()),n=um(),o=(0,t.default)((0,n.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");return _n.default=o,_n}var Af=Ef();const jn=gm(Af),Of={xs:1,sm:2,md:3,lg:3,xl:3};function Vf({setWengine:e,setDisc:t}){const{database:n}=be(),o=C.useContext(nr),[c,l]=C.useState(),[s,m]=C.useState(""),h=C.useCallback(b=>{m(b)},[]),_=C.useCallback(b=>{l(b)},[]),w=ir(o==null?void 0:o.equippedWengine),R=o?ye(o.key).specialty:Xd[0],S=ar(o==null?void 0:o.equippedDiscs),y=ym(c);return i(B,{children:x(Pd,{spacing:2,children:[i(C.Suspense,{fallback:!1,children:s&&i($m,{wengineId:s,footer:!0,onClose:()=>m(""),extraButtons:i(jf,{wengineId:(w==null?void 0:w.id)||"",wengineTypeKey:R,onChangeId:e})})}),i(C.Suspense,{fallback:!1,children:y&&i(bm,{disc:y,show:!!c,onShow:()=>l(c),onClose:()=>l(void 0),cancelEdit:()=>l(void 0)})}),i(B,{children:w!=null&&w.id?i(xm,{wengine:w,onEdit:()=>h(w.id),extraButtons:i(Lf,{wengineId:w.id,wengineTypeKey:R,onChangeId:e})}):i(Pf,{wengineId:"",wengineTypeKey:R,onChangeId:e})}),i(B,{children:i(Q,{item:!0,columns:Of,container:!0,spacing:1,children:!!S&&Object.entries(S).map(([b,k])=>i(Q,{item:!0,xs:1,children:k!=null&&k.id?i(tr,{disc:k,extraButtons:i(qf,{disc:k,slotKey:b,onChangeId:I=>t(b,I)}),onEdit:()=>_(k.id),onLockToggle:()=>n.discs.set(k.id,({lock:I})=>({lock:!I}))}):i(Ff,{slotKey:b,onChangeId:I=>t(b,I)})},(k==null?void 0:k.id)||b))})})]})})}function Pf({wengineId:e,wengineTypeKey:t,onChangeId:n}){const[o,c,l]=qn();return x(Fn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i($e,{children:x(P,{children:[i(ie,{src:Gd(t)})," "]})}),i(Vn,{}),x(B,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i(zo,{wengineId:e,wengineTypeKey:t,show:o,onClose:l,onChangeId:n}),i(lt,{onClick:c,color:"info",sx:{borderRadius:"1em"},children:i(jn,{sx:{height:100,width:100}})})]})]})}function Ff({slotKey:e,onChangeId:t}){const[n,o,c]=qn(),{t:l}=ee("disc");return x(Fn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i($e,{children:i(P,{children:l("slotName",{slotKey:e})})}),i(Vn,{}),x(B,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i($r,{disc:void 0,slotKey:e,show:n,onClose:c,onChangeId:t}),i(lt,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:i(jn,{sx:{height:100,width:100}})})]})]})}function qf({disc:e,slotKey:t,onChangeId:n}){const{t:o}=ee("page_characters"),[c,l,s]=qn();return x(Ln,{children:[i(or,{title:i(P,{children:o("tabEquip.swapDisc")}),placement:"top",arrow:!0,children:i(lt,{color:"info",size:"small",onClick:l,"aria-label":o("tabEquip.swapDisc"),children:i(jn,{})})}),i($r,{disc:e,slotKey:t,show:c,onClose:s,onChangeId:n})]})}function Lf({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:o}=ee("page_characters"),[c,l,s]=qn();return x(Ln,{children:[i(or,{title:i(P,{children:o("tabEquip.swapWengine")}),placement:"top",arrow:!0,children:i(lt,{color:"info",size:"small",onClick:l,children:i(jn,{})})}),i(zo,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:c,onClose:s})]})}function jf({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:o}=ee("page_characters"),[c,l,s]=qn();return x(Ln,{children:[i(lt,{color:"info",onClick:l,startIcon:i(jn,{}),children:o("tabEquip.swapWengine")}),i(zo,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:c,onClose:s})]})}function Hf({skillKey:e}){const{database:t}=be(),{t:n}=ee("page_characters"),o=Hi(),{[e]:c=0,promotion:l=0,key:s}=o??{},m=C.useCallback(h=>s&&t.chars.set(s,{[e]:h}),[t,s,e]);return i(er,{fullWidth:!0,title:n(e,{level:c}),color:"primary",startIcon:i(ie,{src:Ie(e),size:1.75,sideMargin:!0}),children:So(1,wm[l]).map(h=>i(Qd,{selected:c===h,disabled:c===h,onClick:()=>m(h),children:n(e,{level:h})},h))})}function Wi(){const e=C.useContext(Bo),t=C.useContext(Cm);return C.useMemo(()=>e==null?void 0:e.withTag(t),[e,t])}const D=(e,t)=>i(Pi,{ns:"sheet",key18:e,values:t});function r(e,t){return[(n,o)=>i(Pi,{ns:`${e}_${t}_gen`,key18:n,values:o}),(n,o)=>i(Pi,{ns:`${e}_${t}`,key18:n,values:o})]}function d(e){return{title:i(Ni,{tag:e}),fieldRef:e}}function Kf(e){if(!e)return"";const{et:t,q:n,qt:o,name:c}=e;return t==="own"&&o==="formula"&&n!=="base"?c??n??"":n??""}const Wf={initial:"Initial",combat:"Combat",final:"Final",base:"Base"};function Ni({tag:e,showPercent:t,preventRecursion:n}){return i(je,{color:o1(e),children:i(Uf,{tag:e,showPercent:t,preventRecursion:n})})}function h1({tag:e,showPercent:t}){return x(Ln,{children:[i(Ni,{tag:e,showPercent:t}),s1(e).map(n=>i(wo,{children:Li[n]},n)),e.attribute&&i(wo,{color:e.attribute,children:i(xf,{attribute:e.attribute})})]})}const Nf=["hp","hp_","atk","atk_","def","def_"],Gf=e=>Nf.includes(e),oc={dmg_:"DMG",common_dmg_:"DMG",defIgn_:"DEF Ignore",resIgn_:"Res Ignore",dazeInc_:"Daze Increase",buff_:"Buff Bonus"};function Uf({tag:e,showPercent:t,preventRecursion:n}){var s;const o=Wi(),c=(s=l1.subset(e)[0])==null?void 0:s.title;if(c&&!n)return c;if(e.qt==="cond"&&e.q&&e.sheet&&o){const m=Co.get(`${e.sheet}:${e.q}`);if(m)return km(m.label,o,o==null?void 0:o.compute(new vm(e,"max")).val)}const l=Kf(e);if(Gf(l))return x("span",{children:[i(Dm,{statKey:l,iconProps:Sm})," ",x("span",{children:[(e.qt&&Wf[e.qt])??e.qt," ",Rm[l],t&&cr(l)]})]});if(oc[l]){const m=[...e.attribute?[Re[e.attribute]]:[],...e.damageType1?[Li[e.damageType1]]:[],...e.damageType2?[Li[e.damageType2]]:[],oc[l]];return i("span",{children:m.join(" ")})}return i(An,{statKey:l,showPercent:t})}function Jf(){const e=Wi();return i(Fn,{children:i($e,{children:e==null?void 0:e.listFormulas(L.listing.formulas).map((t,n)=>i(Yf,{read:t},n))})})}function Yf({read:e}){var k,I,j,N,me,fe,W;const t=Wi(),{setRead:n}=C.useContext(Im),o=Hi(),c=rf(o==null?void 0:o.key),l=e.tag.sheet===((k=c==null?void 0:c.target)==null?void 0:k.sheet)&&e.tag.name===((I=c==null?void 0:c.target)==null?void 0:I.name)||((j=c==null?void 0:c.target)==null?void 0:j.q)===e.tag.q,s=C.useMemo(()=>{var z,O,F,pe;return e.tag.sheet===((z=c==null?void 0:c.target)==null?void 0:z.sheet)&&e.tag.name===((O=c==null?void 0:c.target)==null?void 0:O.name)?zm(e.tag,(F=c==null?void 0:c.target)==null?void 0:F.damageType1,(pe=c==null?void 0:c.target)==null?void 0:pe.damageType2):e.tag},[e.tag,(N=c==null?void 0:c.target)==null?void 0:N.sheet,(me=c==null?void 0:c.target)==null?void 0:me.name,(fe=c==null?void 0:c.target)==null?void 0:fe.damageType1,(W=c==null?void 0:c.target)==null?void 0:W.damageType2]),m=C.useMemo(()=>({...e,tag:s}),[s,e]),h=t==null?void 0:t.compute(m),_=s.name||s.q,{statHighlight:w,setStatHighlight:R}=C.useContext(Bm),S=s.name?"":s.attribute?`${s.attribute}_${s.q}`:s.q==="cappedCrit_"?"crit_":s.q==="anom_cappedCrit_"?"anom_crit_":s.q,y=S?Tm(w,S):!1;if(!h)return null;const b=Mm(h.val,cr(_??""));return x(B,{onMouseEnter:()=>S&&R(S),onMouseLeave:()=>R(""),sx:{display:"flex",gap:1,alignItems:"center",p:.5,borderRadius:.5,backgroundColor:l?"rgba(0,200,0,0.2)":void 0,position:"relative","::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:.5,backgroundColor:Em(y),transition:"background-color 0.3s ease-in-out",pointerEvents:"none"}},children:[i(B,{sx:{flexGrow:1},children:i(Ni,{tag:s})}),b,i(Am,{tag:s,onClick:()=>{}})]})}function _1({characterKey:e,onClose:t}){return i(Io,{open:!!e,onClose:t,children:i(C.Suspense,{fallback:i(Ke,{variant:"rectangular",width:"100%",height:1e3}),children:e&&i(Zf,{characterKey:e,onClose:t},e)})})}function Zf({characterKey:e,onClose:t}){const n=Ki(e);return i(st,{children:i($e,{sx:{display:"flex",flexDirection:"column",gap:1},children:i(C.Suspense,{fallback:i(Ke,{variant:"rectangular",width:"100%",height:1e3}),children:n?i(nr.Provider,{value:n,children:i(Qf,{onClose:t})}):i(Ke,{variant:"rectangular",width:"100%",height:1e3})})})})}const Xf={cardWidth:"500px",charImgWidth:"75%",iconsSize:1.5,isEditing:!0,charNameWidth:"166px",charNameVariant:"h6",scrollingBgSize:"220px"};function Qf({onClose:e}){const{t}=ee(["page_characters"]),n=Om(),{database:o}=be(),c=Hi(),{key:l,equippedDiscs:s,equippedWengine:m}=c,h=C.useCallback(async()=>{const _=t(`${l}`);window.confirm(t("removeCharacter",{value:_}))&&(o.chars.remove(l),n("/characters"))},[o,n,l,t]);return x(B,{display:"flex",flexDirection:"column",gap:1,children:[x(B,{display:"flex",gap:1,children:[i(lt,{color:"error",onClick:()=>h(),startIcon:i(Vm,{}),sx:{marginLeft:"auto"},children:t("characterEditor.delete")}),!!e&&i(Do,{onClick:e,children:i(Ro,{})})]}),i(B,{children:x(Q,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[i(Q,{item:!0,xs:6,sm:4,md:4,lg:4,xl:4,children:x(st,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[i(wf,{characterKey:l,charCardConfig:Xf}),i(B,{sx:{px:1},children:i(Pm,{level:c.level,milestone:c.promotion,setBoth:({level:_,milestone:w})=>o.chars.set(l,{level:_,promotion:w})})}),i(Jf,{}),i(vf,{mindscape:c.mindscape,setMindscape:_=>o.chars.set(l,{mindscape:_})})]})}),x(Q,{item:!0,xs:6,sm:8,md:8,lg:8,xl:8,sx:{display:"flex",flexDirection:"column",gap:1},children:[i(B,{children:x(Q,{container:!0,columns:3,spacing:1,children:[vo.map(_=>i(Q,{item:!0,xs:1,children:i(Hf,{skillKey:_},_)},_)),i(Q,{item:!0,xs:1,children:i(Bf,{})},"core")]})}),i(B,{children:i(Vf,{setWengine:_=>{_?o.wengines.set(_,{location:l}):m&&o.wengines.set(m,{location:""})},setDisc:(_,w)=>{w?o.discs.set(w,{location:l}):s[_]&&o.discs.set(s[_],{location:""})}})})]})]})})]})}function u1({character:e,charOpt:t,wengineId:n,discIds:o,children:c}){const l=ep(e,n,o),s=C.useMemo(()=>gr([...ur([e.key]),...l,Oi.common.critMode.add(t.critMode),se.common.lvl.add(t.enemyLvl),se.common.def.add(t.enemyDef),se.common.isStunned.add(t.enemyisStunned?1:0),se.common.stun_.add(t.enemyStunMultiplier/100),se.common.unstun_.add(1),se.common.anomTimePassed.add(0),...t.conditionals.flatMap(({sheet:h,src:_,dst:w,condKey:R,condValue:S})=>Ei("preset0",sr(h,_,w)(R,S))),...t.bonusStats.filter(({disabled:h})=>!h).flatMap(({tag:h,value:_})=>Ei("preset0",{tag:{...h,src:e.key,sheet:"agg",et:"own"},value:Zo(Xo(_,h.q??""))})),...t.enemyStats.flatMap(({tag:h,value:_})=>Ei("preset0",{tag:{...h,qt:"common",et:"enemy",sheet:"agg"},value:Zo(Xo(_,h.q??""))}))]),[l,t,e.key]),m=C.useMemo(()=>s&&new Map,[s]);return i(Fm.Provider,{value:m,children:i(Bo.Provider,{value:s,children:c})})}function ep(e,t,n){const o=ir(t),c=ar(n),l=C.useMemo(()=>gf(o),[o]),s=C.useMemo(()=>yf(Object.values(c).filter(qm)),[c]);return C.useMemo(()=>pr(e.key,...hr(e),...l,...s),[e,l,s])}function g1({character:e,conditionals:t,children:n}){const o=C.useMemo(()=>gr([...ur([e.key]),...pr(e.key,...hr(e),..._r({},lr(Kd,()=>4)),q.sheet("agg").reread(q.sheet("wengine")),L.wengine.lvl.add(60),L.wengine.modification.add(5),L.wengine.phase.add(1),...Hd.map(c=>L.common.count.sheet(c).add(1))),Oi.common.critMode.add("avg"),se.common.lvl.add(100),se.common.def.add(900),se.common.isStunned.add(0),se.common.stun_.add(1.5),se.common.unstun_.add(1),...t.flatMap(({sheet:c,src:l,dst:s,condKey:m,condValue:h})=>Ei("preset0",sr(c,l,s)(m,h)))]),[e,t]);return i(Bo.Provider,{value:o,children:n})}function v(e,t={}){return{...tp(e,t==null?void 0:t.perSkillAbility),core:ip(e,t==null?void 0:t.core,t==null?void 0:t.ability),m1:Ne(e,1,t==null?void 0:t.m1),m2:Ne(e,2,t==null?void 0:t.m2),m3:Ne(e,3,t==null?void 0:t.m3),m4:Ne(e,4,t==null?void 0:t.m4),m5:Ne(e,5,t==null?void 0:t.m5),m6:Ne(e,6,t==null?void 0:t.m6)}}function a(e){return{title:i(Ni,{tag:e.tag,preventRecursion:!0}),fieldRef:e.tag}}function tp(e,t){const n=$.char[e],o=T[e],[c,l]=r("char",e);return lr(vo,s=>({title:s,img:Ie(`${s}Flat`),documents:Object.keys(n[s]).flatMap(m=>{var h;return[{type:"text",header:{icon:i(ie,{src:Ie(`${s}Flat`),size:1.5}),text:c(`${s}.${m}.name`)},text:c(`${s}.${m}.desc`)},{type:"fields",fields:Object.values(o).filter(_=>_.name.split("_")[0]===m).map(_=>({title:np(e,s,_.name),fieldRef:_.tag}))},...((h=t==null?void 0:t[s])==null?void 0:h[m])??[]]})}))}function np(e,t,n){const[o,c,l]=n.split("_");return D(l,{val:`$t(char_${e}_gen:${t}.${o}.params.${c})`})}function ip(e,t=[],n=[]){const[o,c]=r("char",e);return{title:"core",documents:[{type:"text",header:{icon:i(ie,{src:Ie("coreFlat"),size:1.5}),text:o("core.name")},text:l=>o(`core.desc.${l.compute(L.char.core).val}`)},...t,{type:"text",header:{icon:i(ie,{src:Ie("coreFlat"),size:1.5}),text:o("ability.name")},text:o("ability.desc")},...n]}}function Ne(e,t,n=[]){const[o,c]=r("char",e);return{title:`mindscape${t}`,documents:[{type:"text",header:{icon:i(ie,{src:Lm(t),size:1.5}),text:o(`mindscapes.${t}.name`)},text:x(Ln,{children:[o(`mindscapes.${t}.desc`),i("br",{}),i("br",{}),i("i",{children:o(`mindscapes.${t}.flavor`)})]})},...n]}}const ap="Alice",op=v(ap),Gi="Anby",[,ui]=r("char",Gi),Ma=p[Gi],Ge=f[Gi],cp=v(Gi,{core:[{type:"conditional",conditional:{label:ui("coreCond"),metadata:Ma.core_after3rdBasic,fields:[{title:ui("core_dazeInc_"),fieldRef:Ge.core_after3rdBasic_dazeInc_.tag}]}}],m1:[{type:"conditional",conditional:{label:ui("m1Cond"),metadata:Ma.m1After4thBasicHit,fields:[a(Ge.m1_after4thHit_energyRegen_)]}}],m2:[{type:"fields",fields:[a(Ge.m2_stunned_basic_dmg_),a(Ge.m2_unstunned_ex_dazeInc_)]}],m6:[{type:"conditional",conditional:{label:ui("m6Cond"),metadata:Ma.m6ChargeConsumed,fields:[a(Ge.m6_charge_basic_dmg_),a(Ge.m6_charge_exSpecial_dmg_)]}}]}),Hn="Anton",[,ze]=r("char",Hn),Ea=p[Hn],un=f[Hn],sp=T[Hn],lp=v(Hn,{core:[{type:"fields",fields:[{title:ze("core_piledriver_dmg_"),fieldRef:un.core_piledriver_dmg_.tag},{title:ze("core_drill_dmg_"),fieldRef:un.core_drill_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:ze("abilityCond"),metadata:Ea.burst_mode,fields:[a(un.ability_electric_anom_mv_mult_)]}}],m2:[{type:"fields",fields:[{title:ze("m2_shield"),fieldRef:sp.m2_shield.tag}]}],m4:[{type:"conditional",conditional:{label:ze("m4Cond"),metadata:Ea.chain_ult_used,fields:[a(un.m4_crit_)]}}],m6:[{type:"conditional",conditional:{label:ze("m6Cond"),metadata:Ea.piledriver_crits,fields:[{title:ze("m6_dmg_"),fieldRef:un.m6_dmg_.tag}]}}]}),dt="AstraYao",[,he]=r("char",dt),Aa=p[dt],le=f[dt],dp=T[dt],cc=$.char[dt],rp=v(dt,{perSkillAbility:{special:{IdyllicCadenza:[{type:"conditional",conditional:{label:he("idyllic_cadenzaCond"),metadata:Aa.idyllic_cadenza,fields:[a(le.common_dmg_),a(le.crit_dmg_)]}}]},chain:{UltimateFantasianSonata:[{type:"fields",fields:[{title:he("ult_heal"),fieldRef:dp.ultimate_heal.tag}]}]}},core:[{type:"fields",fields:[a(le.core_atk)]}],m1:[{type:"conditional",conditional:{label:he("m1Cond"),metadata:Aa.attack_hits,fields:[a(le.m1_resRed_)]}}],m2:[{type:"fields",fields:[{title:he("m2_atkBuffInc_"),fieldValue:cc.m2.atk_*100,unit:"%"},{title:he("m2_maxIncrease"),fieldValue:cc.m2.max_increase}]}],m4:[{type:"fields",fields:[a(le.m4_attack_quickAssist_extraDmg),a(le.m4_anomaly_quickAssist_anomBuildup_),a(le.m4_stun_quickAssist_dazeInc_)]}],m6:[{type:"fields",fields:[{title:he("m6_mv_mult_"),fieldRef:le.m6_mv_mult_.tag},{title:he("m6_crit_"),fieldRef:le.m6_crit_.tag}]},{type:"conditional",conditional:{label:he("m6Cond"),metadata:Aa.precise_assist_triggered,fields:[{title:he("m6_capriccio_crit_"),fieldRef:le.m6_capriccio_crit_.tag}]}}]}),Kn="Ben",[,gn]=r("char",Kn),gi=p[Kn],Be=f[Kn],yi=T[Kn],mp=v(Kn,{perSkillAbility:{special:{SpecialAttackFiscalFist:[{type:"fields",fields:[{title:D("shield"),fieldRef:yi.special_shield.tag}]}],EXSpecialAttackCashflowCounter:[{type:"fields",fields:[{title:D("shield"),fieldRef:yi.special_shield.tag}]}]}},core:[{type:"fields",fields:[a(Be.core_atk),{title:D("shield"),fieldRef:yi.core_shield.tag}]}],ability:[{type:"conditional",conditional:{label:gn("abilityCond"),metadata:gi.shieldOn,fields:[a(Be.ability_crit_)]}}],m1:[{type:"conditional",conditional:{label:gn("m1Cond"),metadata:gi.enemyBlocked,fields:[a(Be.m1_dmg_red_)]}}],m2:[{type:"fields",fields:[{title:D("dmg"),fieldRef:yi.m2_dmg.tag}]}],m4:[{type:"conditional",conditional:{label:gn("m1Cond"),metadata:gi.enemyBlocked,fields:[{title:gn("m4_dmg_"),fieldRef:Be.m4_dmg_.tag}]}}],m6:[{type:"conditional",conditional:{label:gn("m6Cond"),metadata:gi.attackLaunched,fields:[a(Be.m6_basic_dazeInc_),a(Be.m6_dash_dazeInc_),a(Be.m6_dodgeCounter_dazeInc_)]}}]}),Ui="Billy",[,$i]=r("char",Ui),Oa=p[Ui],yn=f[Ui],fp=v(Ui,{core:[{type:"fields",fields:[{title:$i("core_common_dmg_"),fieldRef:yn.core_common_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:$i("abilityCond"),metadata:Oa.ult_dmg_stacks,fields:[a(yn.ability_ult_dmg_)]}}],m2:[{type:"fields",fields:[a(yn.m2_dodgeCounter_dmg_)]}],m4:[{type:"conditional",conditional:{label:$i("m4Cond"),metadata:Oa.distance,fields:[a(yn.m4_exSpecial_crit_)]}}],m6:[{type:"conditional",conditional:{label:$i("m6Cond"),metadata:Oa.m6_stacks,fields:[a(yn.m6_common_dmg_)]}}]}),rt="Burnice",[,te]=r("char",rt),Va=p[rt],_e=f[rt],Pa=T[rt],pp=$.char[rt],hp=v(rt,{core:[{type:"fields",fields:[{title:te("core_afterburn_dmg"),fieldRef:Pa.core_afterburn_dmg.tag},{title:te("core_afterburn_anomBuildup"),fieldRef:Pa.core_afterburn_anomBuildup.tag},{title:te("core_afterburn_dmg_"),fieldRef:_e.core_afterburn_dmg_.tag}]}],ability:[{type:"fields",fields:[a(_e.ability_fire_anomBuildup_)]}],m1:[{type:"fields",fields:[{title:te("m1_afterburn_mv_mult"),fieldValue:pp.m1.afterburn_dmg*100,unit:"%"},{title:te("m1_afterburn_anomBuildup"),fieldRef:_e.m1_afterburn_fire_anomBuildup_.tag}]}],m2:[{type:"conditional",conditional:{label:te("m2Cond"),metadata:Va.thermal_penetration,fields:[a(_e.m2_pen_)]}}],m4:[{type:"fields",fields:[{title:te("m4_exSpecial_crit_"),fieldRef:_e.m4_exSpecial_crit_.tag},{title:te("m4_assistSkill_crit_"),fieldRef:_e.m4_assistSkill_crit_.tag}]}],m6:[{type:"fields",fields:[{title:te("m6_additional_afterburn_dmg"),fieldRef:Pa.m6_additional_afterburn_dmg.tag}]},{type:"conditional",conditional:{label:te("m6Cond"),metadata:Va.exSpecial_active,fields:[a(_e.m6_burn_fire_resIgn_),{title:te("m6_fire_resIgn"),fieldRef:_e.m6_fire_resIgn_.tag}]}},{type:"conditional",conditional:{label:te("m6CondBurn"),metadata:Va.additional_burn,fields:[a(_e.m6_fire_anom_mv_mult_)]}}]}),mt="Caesar",[,ne]=r("char",mt),we=p[mt],de=f[mt],_p=T[mt],up=$.char[mt],gp=v(mt,{perSkillAbility:{special:{StanceSwitch:[{type:"conditional",conditional:{label:ne("stanceSwitchCond"),metadata:we.stance_switch,fields:[a(de.stance_switch_impact_)]}}]},chain:{UltimateSavageSmash:[{type:"conditional",conditional:{label:ne("ultCond"),metadata:we.enemy_shielded,fields:[a(de.ult_dazeInc_)]}}]}},core:[{type:"fields",fields:[{title:ne("core_shield"),fieldRef:_p.core_shield.tag}]},{type:"conditional",conditional:{label:ne("coreCond"),metadata:we.radiant_aegis,fields:[a(de.core_atk)]}}],ability:[{type:"conditional",conditional:{label:ne("abilityTeamCond"),metadata:we.can_defensive_assist}},{type:"conditional",conditional:{label:ne("abilityCond"),metadata:we.ability_debuff,fields:[a(de.ability_dmgInc_)]}}],m1:[{type:"conditional",conditional:{label:ne("coreCond"),metadata:we.radiant_aegis,fields:[a(de.m1_resRed_)]}}],m2:[{type:"conditional",conditional:{label:ne("coreCond"),metadata:we.radiant_aegis,fields:[a(de.m2_enerRegen_),{title:ne("m2_atkInc_"),fieldValue:up.m2.atk_increase_*100,unit:"%"}]}}],m6:[{type:"fields",fields:[{title:ne("m6_exSpecial_assistFollowup_crit_"),fieldRef:de.m6_exSpecial_assistFollowup_crit_.tag},{title:ne("m6_dmg_"),fieldRef:de.m6_dmg_.tag}]},{type:"conditional",conditional:{label:ne("m6Cond"),metadata:we.exSpecial_assistFollowup_used,fields:[a(de.m6_crit_),a(de.m6_crit_dmg_)]}}]}),Wn="Corin",[,$n]=r("char",Wn),Fa=p[Wn],bi=f[Wn],yp=T[Wn],$p=v(Wn,{core:[{type:"fields",fields:[{title:$n("core_common_dmg_"),fieldRef:bi.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[a(bi.ability_common_dmg_)]}],m1:[{type:"conditional",conditional:{label:$n("m1Cond"),metadata:Fa.chain_ult_hit,fields:[a(bi.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:$n("m2Cond"),metadata:Fa.exSpecial_chain_ult_hits,fields:[a(bi.m2_physical_resRed_)]}}],m6:[{type:"conditional",conditional:{label:$n("m6Cond"),metadata:Fa.charge,fields:[{title:$n("m6_dmg"),fieldRef:yp.m6_dmg.tag}]}}]}),Ji="Ellen",[,xi]=r("char",Ji),bn=p[Ji],ue=f[Ji],bp=v(Ji,{core:[{type:"fields",fields:[a(ue.core_basic_crit_dmg_),a(ue.core_dash_crit_dmg_),a(ue.core_chain_crit_dmg_),a(ue.core_ult_crit_dmg_)]}],ability:[{type:"conditional",conditional:{label:D("dealsDamage",{val1:"$t(attributes.ice)"}),metadata:bn.ice_attacks,fields:[a(ue.ability_ice_dmg_)]}}],m1:[{type:"conditional",conditional:{label:xi("m1Cond"),metadata:bn.flash_freeze_consumed,fields:[a(ue.m1_crit_)]}}],m2:[{type:"conditional",conditional:{label:xi("m2Cond"),metadata:bn.flash_freeze,fields:[a(ue.m2_exSpecial_crit_dmg_)]}}],m6:[{type:"conditional",conditional:{label:xi("m6Cond"),metadata:bn.exSpecial_chain_quickCharge,fields:[a(ue.m6_pen_)]}},{type:"conditional",conditional:{label:xi("m6Cond2"),metadata:bn.feast_begins,fields:[a(ue.m6_dash_mv_mult_)]}}]}),Nn="Evelyn",[,Te]=r("char",Nn),qa=p[Nn],Ue=f[Nn],sc=T[Nn],xp=v(Nn,{core:[{type:"conditional",conditional:{label:Te("coreCond"),metadata:qa.binding_seal,fields:[a(Ue.core_crit_)]}}],ability:[{type:"fields",fields:[{title:Te("ability_dmg_"),fieldRef:Ue.ability_chain_ult_dmg_.tag},{title:Te("ability_mv_mult"),fieldRef:Ue.ability_chainSkill_mv_mult.tag}]}],m1:[{type:"conditional",conditional:{label:Te("m1Cond"),metadata:qa.enemy_bound,fields:[a(Ue.m1_defIgn_)]}}],m2:[{type:"fields",fields:[a(Ue.m2_atk_)]}],m4:[{type:"fields",fields:[{title:Te("m4_shield"),fieldRef:sc.m4_shield.tag}]},{type:"conditional",conditional:{label:Te("m4Cond"),metadata:qa.m4_shield_exists,fields:[a(Ue.m4_crit_dmg_)]}}],m6:[{type:"fields",fields:[{title:Te("m6_follow_up_dmg"),fieldRef:sc.m6_follow_up_dmg_.tag}]}]}),Yi="Grace",[,La]=r("char",Yi),xn=p[Yi],Ce=f[Yi],wp=v(Yi,{core:[{type:"conditional",conditional:{label:La("coreCond"),metadata:xn.fullZap,fields:[a(Ce.core_special_electric_anomBuildup_),a(Ce.core_exSpecial_electric_anomBuildup_)]}}],ability:[{type:"conditional",conditional:{label:D("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:xn.exSpecialHit,fields:[a(Ce.ability_shock_dmg_)]}}],m2:[{type:"conditional",conditional:{label:La("m2Cond"),metadata:xn.grenadeHit,fields:[a(Ce.m2_electric_resRed_),a(Ce.m2_electric_anomBuildupResRed_)]}}],m4:[{type:"conditional",conditional:{label:D("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:xn.chargeConsumed,fields:[a(Ce.m4_enerRegen_)]}}],m6:[{type:"conditional",conditional:{label:La("coreCond"),metadata:xn.fullZap,fields:[a(Ce.m6_special_mv_mult_),a(Ce.m6_exSpecial_mv_mult_)]}}]}),Gn="Harumasa",[,wi]=r("char",Gn),Ci=p[Gn],wn=f[Gn],Cp=T[Gn],kp=v(Gn,{core:[{type:"fields",fields:[a(wn.core_dash_crit_)]},{type:"conditional",conditional:{label:wi("coreCond"),metadata:Ci.gleaming_edge,fields:[a(wn.core_dash_crit_dmg_)]}}],ability:[{type:"conditional",conditional:{label:wi("abilityCond"),metadata:Ci.enemy_anomaly,fields:[a(wn.ability_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:wi("m2Cond"),metadata:Ci.electro_blitz,fields:[a(wn.m2_dash_dmg_)]}}],m6:[{type:"conditional",conditional:{label:wi("m6Cond"),metadata:Ci.haOtoNoYa,fields:[a(wn.m6_electric_resIgn_),{title:D("dmg"),fieldRef:Cp.m6_dmg.tag}]}}]}),Zi="Hugo",[,Cn]=r("char",Zi),kn=p[Zi],V=f[Zi],vp=v(Zi,{core:[{type:"conditional",conditional:{label:Cn("coreDarkAbyssReverb"),metadata:kn.dark_abyss_reverb,fields:[a(V.core_crit_),a(V.core_crit_dmg_)]}},{type:"fields",fields:[a(V.core_atk)]},{type:"conditional",conditional:{label:Cn("coreStunLeft"),metadata:kn.stun_left,fields:[a(V.core_exSpecial_mv_mult_),a(V.core_ult_mv_mult_)]}},{type:"fields",fields:[a(V.core_exSpecial_dazeInc_)]}],ability:[{type:"conditional",conditional:{label:Cn("abilityCond"),metadata:kn.normal_enemy,fields:[a(V.ability_chain_dmg_)]}},{type:"fields",fields:[a(V.ability_exSpecial_dmg_),a(V.ability_ult_dmg_)]}],m1:[{type:"conditional",conditional:{label:Cn("coreDarkAbyssReverb"),metadata:kn.dark_abyss_reverb,fields:[a(V.m1_exSpecial_crit_),a(V.m1_exSpecial_crit_dmg_),a(V.m1_ult_crit_),a(V.m1_ult_crit_dmg_)]}}],m2:[{type:"fields",fields:[a(V.m2_exSpecial_defIgn_),a(V.m2_ult_defIgn_)]}],m4:[{type:"conditional",conditional:{label:Cn("m4Cond"),metadata:kn.charged_shot_hit,fields:[a(V.m4_ice_resIgn_)]}}],m6:[{type:"fields",fields:[a(V.m6_exSpecial_dmg_),a(V.m6_ult_dmg_),a(V.m6_exSpecial_mv_mult_)]}]}),Un="Jane",[,ke]=r("char",Un),Me=p[Un],G=f[Un],Sp=T[Un],Dp=v(Un,{perSkillAbility:{basic:{Passion:[{type:"conditional",conditional:{label:ke("passionCond"),metadata:Me.passion,fields:[a(G.passion_physical_anomBuildup_),a(G.passion_atk)]}}]}},core:[{type:"conditional",conditional:{label:ke("gnawedCond"),metadata:Me.gnawed,fields:[a(G.core_assault_crit_),a(G.core_assault_crit_dmg_)]}}],ability:[{type:"conditional",conditional:{label:ke("abilityCond"),metadata:Me.enemy_suffering_anomaly,fields:[a(G.ability_physical_anomBuildup_)]}}],m1:[{type:"conditional",conditional:{label:ke("passionCond"),metadata:Me.passion,fields:[a(G.m1_physical_anomBuildup_),a(G.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:ke("gnawedCond"),metadata:Me.gnawed,fields:[a(G.m2_defIgn_),a(G.m2_assault_defIgn_),a(G.m2_assault_crit_dmg_)]}}],m4:[{type:"conditional",conditional:{label:ke("m4Cond"),metadata:Me.assault_or_disorder_triggered,fields:[a(G.m4_anomaly_dmg_)]}}],m6:[{type:"conditional",conditional:{label:ke("passionCond"),metadata:Me.passion,fields:[a(G.m6_crit_),a(G.m6_crit_dmg_)]}},{type:"fields",fields:[{title:ke("m6_additional_dmg"),fieldRef:Sp.m6_additional_dmg.tag}]}]}),Jn="JuFufu",[,ja]=r("char",Jn),ki=p[Jn],ge=f[Jn],Rp=T[Jn],Ip=v(Jn,{core:[{type:"conditional",conditional:{label:ja("coreCond"),metadata:ki.tigers_roar,fields:[a(ge.core_crit_dmg_),a(ge.core_chain_dmg_),a(ge.core_ult_dmg_),a(ge.core_impact)]}}],m1:[{type:"fields",fields:[a(ge.m1_crit_)]},{type:"conditional",conditional:{label:D("uponLaunch.1",{val1:"$t(skills.chain)"}),metadata:ki.chain_hit,fields:[a(ge.m1_stun_)]}}],m2:[{type:"conditional",conditional:{label:ja("coreCond"),metadata:ki.tigers_roar,fields:[a(ge.m2_crit_dmg_)]}}],m4:[{type:"conditional",conditional:{label:ja("coreCond"),metadata:ki.tigers_roar,fields:[a(ge.m4_crit_dmg_)]}}],m6:[{type:"fields",fields:[a(ge.m6_chain_dmg_),{title:D("dmg"),fieldRef:Rp.m6_dmg.tag}]}]}),Yn="Koleda",[,Ha]=r("char",Yn),Ka=p[Yn],Ee=f[Yn],zp=T[Yn],Bp=v(Yn,{core:[{type:"fields",fields:[a(Ee.core_exSpecial_dazeInc_),{title:Ha("core_dazeInc_"),fieldRef:Ee.core_dazeInc_.tag}]}],ability:[{type:"conditional",conditional:{label:D("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:Ka.exSpecial_debuff,fields:[a(Ee.ability_chain_dmg_)]}}],m1:[{type:"conditional",conditional:{label:Ha("m1Cond"),metadata:Ka.quick_use,fields:[a(Ee.m1_special_dazeInc_),a(Ee.m1_exSpecial_dazeInc_)]}}],m4:[{type:"conditional",conditional:{label:Ha("m4Cond"),metadata:Ka.charge,fields:[a(Ee.m4_chain_dmg_),a(Ee.m4_ult_dmg_)]}}],m6:[{type:"fields",fields:[{title:D("dmg"),fieldRef:zp.m6_dmg.tag}]}]}),ft="Lighter",[,ve]=r("char",ft),vn=p[ft],re=f[ft],Tp=T[ft],Mp=$.char[ft],Ep=v(ft,{core:[{type:"conditional",conditional:{label:ve("coreCond.morale_consumed"),metadata:vn.morale_consumed,fields:[a(re.core_impact_)]}},{type:"conditional",conditional:{label:ve("coreCond.morale_burst_hit"),metadata:vn.morale_burst_hit,fields:[a(re.core_ice_resRed_),a(re.core_fire_resRed_)]}}],ability:[{type:"conditional",conditional:{label:ve("abilityCond"),metadata:vn.elation,fields:[a(re.ability_ice_dmg_),a(re.ability_fire_dmg_)]}}],m1:[{type:"conditional",conditional:{label:ve("collapseCond"),metadata:vn.collapse,fields:[a(re.m1_ice_resRed_),a(re.m1_fire_resRed_)]}},{type:"fields",fields:[{title:ve("m1_finishing_move_dmg_"),fieldRef:re.m1_finishing_move_dmg_.tag}]}],m2:[{type:"conditional",conditional:{label:ve("collapseCond"),metadata:vn.collapse,fields:[a(re.m2_stun_)]}},{type:"fields",fields:[{title:ve("m2_elation_inc_"),fieldValue:Mp.m2.ability_buff_inc_*100,unit:"%"}]}],m4:[{type:"fields",fields:[a(re.m4_enerRegen_)]}],m6:[{type:"fields",fields:[{title:ve("m6_blazing_impact_dmg"),fieldRef:Tp.m6_blazing_impact_dmg.tag}]}]}),Zn="Lucy",[,Wa]=r("char",Zn),Na=p[Zn],Sn=f[Zn],Ap=T[Zn],Op=v(Zn,{perSkillAbility:{special:{CheerOn:[{type:"conditional",conditional:{label:Wa("cheerOnCond"),metadata:Na.cheerOn,fields:[a(Sn.exSpecial_atk)]}}]}},core:[{type:"conditional",conditional:{label:Wa("cheerOnCond"),metadata:Na.cheerOn,fields:[a(Sn.core_atk)]}}],ability:[{type:"fields",fields:[a(Sn.ability_crit_),a(Sn.ability_crit_dmg_)]}],m4:[{type:"conditional",conditional:{label:Wa("cheerOnCond"),metadata:Na.cheerOn,fields:[a(Sn.m4_crit_dmg_)]}}],m6:[{type:"fields",fields:[{title:D("dmg"),fieldRef:Ap.m6_dmg.tag}]}]}),Xn="Lycaon",[,Ae]=r("char",Xn),Ga=p[Xn],Je=f[Xn],Vp=T[Xn],Pp=v(Xn,{core:[{type:"fields",fields:[{title:Ae("core_dazeInc_"),fieldRef:Je.core_dazeInc_.tag}]},{type:"conditional",conditional:{label:Ae("coreCond"),metadata:Ga.exSpecial_assistFollowUp_hit,fields:[a(Je.core_ice_resRed_)]}}],ability:[{type:"conditional",conditional:{label:Ae("abilityCond"),metadata:Ga.stunned_enemy_hit,fields:[a(Je.ability_stun_)]}}],m1:[{type:"fields",fields:[{title:Ae("m1_dazeInc_"),fieldRef:Je.m1_dazeInc_.tag},{title:Ae("m1_fullCharge_dazeInc_"),fieldRef:Je.m1_fullCharge_dazeInc_.tag}]}],m4:[{type:"fields",fields:[{title:Ae("m4_shield"),fieldRef:Vp.m4_shield.tag}]}],m6:[{type:"conditional",conditional:{label:Ae("m6Cond"),metadata:Ga.charged_hits,fields:[a(Je.m6_common_dmg_)]}}]}),Qn="Miyabi",[,H]=r("char",Qn),Se=p[Qn],U=f[Qn],Fp=T[Qn],qp=v(Qn,{perSkillAbility:{chain:{UltimateLingeringSnow:[{type:"conditional",conditional:{label:H("ultCond"),metadata:Se.ult_used,fields:[a(U.ult_ice_dmg_)]}}]}},core:[{type:"conditional",conditional:{label:H("frostbiteCond"),metadata:Se.frostbite,fields:[a(U.frostbite_crit_dmg_)]}},{type:"conditional",conditional:{label:H("coreIcefireCond"),metadata:Se.icefire,fields:[a(U.core_frost_anomBuildup_)]}},{type:"fields",fields:[{title:H("core_frostburnBreak_dmg"),fieldRef:Fp.core_frostburnBreak_dmg.tag}]},{type:"conditional",conditional:{label:H("coreFrostburnCond"),metadata:Se.frostburn,fields:[a(U.core_anomBuildup_)]}}],ability:[{type:"fields",fields:[{title:H("ability_dmg_"),fieldRef:U.ability_dmg_.tag}]},{type:"conditional",conditional:{label:H("abilityCond"),metadata:Se.disorder_triggered,fields:[{title:H("ability_ice_resIgn_"),fieldRef:U.ability_ice_resIgn_.tag}]}}],m1:[{type:"conditional",conditional:{label:H("m1Cond"),metadata:Se.fallen_frost,fields:[{title:H("m1_defIgn_"),fieldRef:U.m1_defIgn_.tag}]}},{type:"conditional",conditional:{label:H("m1Cond2"),metadata:Se.level_3_charge_hit,fields:[a(U.m1_anomBuildup_)]}}],m2:[{type:"fields",fields:[{title:H("m2_dmg_"),fieldRef:U.m2_dmg_.tag},a(U.m2_dodgeCounter_dmg_),a(U.m2_crit_)]}],m4:[{type:"fields",fields:[{title:H("m4_frostburnBreak_dmg_"),fieldRef:U.m4_frostburnBreak_dmg_.tag}]}],m6:[{type:"conditional",conditional:{label:H("m6Cond"),metadata:Se.polar,fields:[{title:H("m6_dmg_"),fieldRef:U.m6_dmg_.tag}]}}]}),Xi="Nekomata",[,Ye]=r("char",Xi),Ze=p[Xi],Xe=f[Xi],Lp=v(Xi,{core:[{type:"conditional",conditional:{label:Ye("coreCond"),metadata:Ze.dodgeCounter_quickAssist_hit,fields:[a(Xe.core_common_dmg_)]}}],ability:[{type:"conditional",conditional:{label:Ye("abilityCond"),metadata:Ze.assaults_inflicted,fields:[a(Xe.ability_exSpecial_dmg_)]}}],m1:[{type:"conditional",conditional:{label:Ye("m1Cond"),metadata:Ze.from_behind,fields:[a(Xe.m1_physical_resIgn_)]}}],m2:[{type:"conditional",conditional:{label:Ye("m2Cond"),metadata:Ze.one_enemy_onField,fields:[a(Xe.m2_enerRegen_)]}}],m4:[{type:"conditional",conditional:{label:Ye("m4Cond"),metadata:Ze.exSpecials_used,fields:[a(Xe.m4_crit_)]}}],m6:[{type:"conditional",conditional:{label:Ye("m6Cond"),metadata:Ze.chain_ult_used,fields:[a(Xe.m6_crit_dmg_)]}}]}),Qi="Nicole",[,Ua]=r("char",Qi),lc=p[Qi],Dn=f[Qi],jp=v(Qi,{core:[{type:"conditional",conditional:{label:Ua("coreCond"),metadata:lc.bulletsOrFieldHit,fields:[a(Dn.core_defRed_)]}}],ability:[{type:"fields",fields:[a(Dn.ability_ether_dmg_)]}],m1:[{type:"fields",fields:[a(Dn.m1_exSpecial_dmg_),{title:Ua("m1_exSpecial_anomBuildup"),fieldRef:Dn.m1_exSpecial_anomBuildup_.tag}]}],m6:[{type:"conditional",conditional:{label:Ua("m6Cond"),metadata:lc.fieldHitsEnemy,fields:[a(Dn.m6_crit_)]}}]}),pt="PanYinhu",[,Oe]=r("char",pt),dc=p[pt],Ja=f[pt],Ya=T[pt],rc=$.char[pt],Hp=v(pt,{perSkillAbility:{chain:{UltimateAFeastFitForAnEmperor:[{type:"fields",fields:[{title:Oe("ultimate_heal"),fieldRef:Ya.ultimate_heal.tag},{title:Oe("ultimate_healOverTime"),fieldRef:Ya.ultimate_healOverTime.tag}]}]}},core:[{type:"conditional",conditional:{label:Oe("coreCond"),metadata:dc.meridian_flow,fields:[a(Ja.core_sheerForce)]}}],ability:[{type:"conditional",conditional:{label:Oe("abilityCond"),metadata:dc.depleted_qi,fields:[a(Ja.ability_dmgInc_)]}}],m1:[{type:"fields",fields:[a(Ja.m1_dmgInc_)]}],m4:[{type:"fields",fields:[{title:Oe("m4_heal"),fieldRef:Ya.m4_heal.tag}]}],m6:[{type:"fields",fields:[{title:Oe("m6_sheerForce"),fieldValue:rc.m6.sheerForce*100,unit:"%"},{title:Oe("m6_maxSheerForce"),fieldValue:rc.m6.max_sheerForce}]}]}),ea="Piper",[,vi]=r("char",ea),Za=p[ea],Xa=f[ea],Kp=v(ea,{core:[{type:"conditional",conditional:{label:vi("coreCond"),metadata:Za.power,fields:[a(Xa.core_physical_anomBuildup_)]}}],ability:[{type:"conditional",conditional:{label:vi("coreCond"),metadata:Za.power,fields:[a(Xa.ability_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:vi("coreCond"),metadata:Za.power,fields:[{title:vi("m2_physical_dmg_"),fieldRef:Xa.m2_physical_dmg_.tag}]}}]}),ta="Pulchra",[,Rn]=r("char",ta),In=p[ta],Qe=f[ta],Wp=v(ta,{core:[{type:"conditional",conditional:{label:Rn("coreCond"),metadata:In.hunters_gait,fields:[a(Qe.core_dazeInc_)]}}],ability:[{type:"conditional",conditional:{label:Rn("abilityCond"),metadata:In.binding_trap,fields:[a(Qe.ability_aftershock_dmg_)]}}],m1:[{type:"conditional",conditional:{label:Rn("abilityCond"),metadata:In.binding_trap,fields:[a(Qe.m1_crit_)]}}],m2:[{type:"conditional",conditional:{label:Rn("coreCond"),metadata:In.hunters_gait,fields:[a(Qe.m2_atk_)]}}],m6:[{type:"fields",fields:[a(Qe.m6_special_dmg_)]},{type:"conditional",conditional:{label:Rn("abilityCond"),metadata:In.binding_trap,fields:[a(Qe.m6_common_dmg_)]}}]}),ht="Qingyi",[,zn]=r("char",ht),Qa=p[ht],ae=f[ht],Np=T[ht],Gp=$.char[ht],Up=v(ht,{perSkillAbility:{basic:{BasicAttackEnchantedMoonlitBlossoms:[{type:"conditional",conditional:{label:zn("flashConnectCond"),metadata:Qa.flash_connect_consumed,fields:[a(ae.flash_connect_dmg_),a(ae.flash_connect_dazeInc_)]}}]},chain:{ChainAttackTranquilSerenade:[{type:"fields",fields:[a(ae.chain_dmg_)]}]}},core:[{type:"conditional",conditional:{label:zn("subjugationCond"),metadata:Qa.subjugation,fields:[a(ae.core_stun_)]}}],ability:[{type:"fields",fields:[a(ae.ability_basic_dazeInc_),a(ae.ability_atk)]}],m1:[{type:"fields",fields:[a(ae.m1_defRed_),a(ae.m1_crit_)]}],m2:[{type:"fields",fields:[{title:zn("m2_stun_"),fieldValue:Gp.m2.stun_mult_*100,unit:"%"},a(ae.m2_dazeInc_)]}],m4:[{type:"fields",fields:[{title:zn("m4_shield"),fieldRef:Np.m4_shield.tag}]}],m6:[{type:"fields",fields:[a(ae.m6_crit_dmg_)]},{type:"conditional",conditional:{label:zn("m6Cond"),metadata:Qa.moonlit_blossoms_hit,fields:[a(ae.m6_resRed_)]}}]}),ei="Rina",[,et]=r("char",ei),tt=p[ei],Bn=f[ei],Jp=$.char[ei],Yp=v(ei,{core:[{type:"conditional",conditional:{label:et("coreCond"),metadata:tt.minions_onField,fields:[a(Bn.core_pen_)]}}],ability:[{type:"conditional",conditional:{label:et("abilityCond"),metadata:tt.shocked_enemy,fields:[a(Bn.ability_electric_dmg_)]}}],m1:[{type:"conditional",conditional:{label:et("m1Cond"),metadata:tt.within_10m,fields:[{title:et("m1_buff_"),fieldValue:Jp.m1.core_buff_*100,unit:"%"}]}}],m2:[{type:"conditional",conditional:{label:et("m2Cond"),metadata:tt.active_char,fields:[a(Bn.m2_common_dmg_)]}}],m4:[{type:"conditional",conditional:{label:et("coreCond"),metadata:tt.minions_onField,fields:[a(Bn.m4_enerRegen)]}}],m6:[{type:"conditional",conditional:{label:D("uponLaunch.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),metadata:tt.exSpecial_chain_ult_hit,fields:[a(Bn.m6_electric_dmg_)]}}]}),_t="Seth",[,Si]=r("char",_t),mc=p[_t],Di=f[_t],fc=T[_t],Zp=$.char[_t],Xp=v(_t,{core:[{type:"fields",fields:[{title:Si("core_shield"),fieldRef:fc.core_shield.tag}]},{type:"conditional",conditional:{label:Si("coreCond"),metadata:mc.shield_active,fields:[a(Di.core_anomProf)]}}],ability:[{type:"conditional",conditional:{label:Si("abilityCond"),metadata:mc.chain_finish_hit,fields:[a(Di.ability_anomBuildupRes_)]}}],m1:[{type:"fields",fields:[{title:Si("m1_shield_"),fieldValue:Zp.m1.shield_*100,unit:"%"}]}],m2:[{type:"fields",fields:[a(Di.m2_basic_electric_anomBuildup_)]}],m4:[{type:"fields",fields:[a(Di.m4_defensiveAssist_dazeInc_)]}],m6:[{type:"fields",fields:[{title:D("dmg"),fieldRef:fc.m6_dmg.tag}]}]}),ti="Soldier0Anby",[,Ri]=r("char",ti),eo=p[ti],nt=f[ti],Qp=T[ti],eh=v(ti,{core:[{type:"conditional",conditional:{label:Ri("coreCond"),metadata:eo.markedWithSilverStar,fields:[a(nt.core_common_dmg_),a(nt.core_markedWithSilverStar_crit_dmg_)]}}],ability:[{type:"fields",fields:[a(nt.ability_crit_),a(nt.ability_aftershock_dmg_)]}],m2:[{type:"conditional",conditional:{label:Ri("coreCond"),metadata:eo.markedWithSilverStar,fields:[a(nt.m2_crit_)]}}],m4:[{type:"conditional",conditional:{label:Ri("coreCond"),metadata:eo.markedWithSilverStar,fields:[a(nt.m4_electric_resIgn_)]}}],m6:[{type:"fields",fields:[{title:Ri("m6_additional_dmg"),fieldRef:Qp.m6_additional_dmg.tag}]}]}),na="Soldier11",[,Ve]=r("char",na),Ii=p[na],it=f[na],th=v(na,{core:[{type:"fields",fields:[{title:Ve("core_common_dmg_"),fieldRef:it.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[a(it.ability_fire_dmg_)]}],m2:[{type:"conditional",conditional:{label:Ve("m2Cond"),metadata:Ii.m2_stacks,fields:[{title:Ve("m2_common_dmg_"),fieldRef:it.m2_common_dmg_.tag},a(it.m2_dodgeCounter_dmg_)]}}],m4:[{type:"conditional",conditional:{label:Ve("m4Cond"),metadata:Ii.fireSuppression_triggered,fields:[a(it.m4_dmg_red_)]}},{type:"conditional",conditional:{label:Ve("m4Cond2"),metadata:Ii.fireSuppression_4th_hit}}],m6:[{type:"conditional",conditional:{label:Ve("m6Cond"),metadata:Ii.charge_consumed,fields:[{title:Ve("m6_fire_resIgn_"),fieldRef:it.m6_fire_resIgn_.tag}]}}]}),ia="Soukaku",[,Pe]=r("char",ia),at=p[ia],Tn=f[ia],nh=v(ia,{perSkillAbility:{chain:{UltimateJumboPuddingSlash:[{type:"conditional",conditional:{label:Pe("ultCond"),metadata:at.masked,fields:[a(Tn.ult_crit_)]}}]}},core:[{type:"conditional",conditional:{label:Pe("coreCond"),metadata:at.flyTheFlag,fields:[a(Tn.core_atk)]}},{type:"conditional",conditional:{label:Pe("coreCond2"),metadata:at.vortexConsumed}}],ability:[{type:"conditional",conditional:{label:Pe("coreCond2"),metadata:at.vortexConsumed,fields:[a(Tn.ability_ice_dmg_)]}}],m4:[{type:"conditional",conditional:{label:Pe("m4Cond"),metadata:at.flyTheFlagHit,fields:[a(Tn.m4_ice_resRed_)]}}],m6:[{type:"conditional",conditional:{label:Pe("m6Cond"),metadata:at.frostedBanner,fields:[{title:Pe("m6_dmg_"),fieldRef:Tn.m6_common_dmg_.tag}]}}]}),ni="Trigger",[,Fe]=r("char",ni),pc=p[ni],Mn=f[ni],to=T[ni],ih=v(ni,{core:[{type:"conditional",conditional:{label:Fe("coreCond"),metadata:pc.aftershock_hit,fields:[a(Mn.core_stun_)]}}],ability:[{type:"fields",fields:[{title:Fe("ability_dazeInc_"),fieldRef:Mn.ability_aftershock_dazeInc_.tag}]}],m1:[{type:"fields",fields:[a(Mn.m1_stun_)]}],m2:[{type:"conditional",conditional:{label:Fe("m2Cond"),metadata:pc.hunters_gaze,fields:[a(Mn.m2_crit_dmg_)]}}],m4:[{type:"fields",fields:[{title:Fe("m4_disconnect_dmg"),fieldRef:to.m4_disconnect_dmg.tag},{title:Fe("m4_disconnect_daze"),fieldRef:to.m4_disconnect_daze.tag}]}],m6:[{type:"fields",fields:[{title:Fe("m6_armor_break_rounds_dmg"),fieldRef:to.m6_armor_break_rounds_dmg.tag},{title:Fe("m6_armor_break_rounds_dmg_"),fieldRef:Mn.m6_armor_break_rounds_dmg_.tag}]}]}),ii="Vivian",[,ot]=r("char",ii),zi=p[ii],K=f[ii],ah=T[ii],oh=v(ii,{core:[{type:"conditional",conditional:{label:ot("coreAbloom"),metadata:zi.abloom,fields:[a(K.core_ether_abloom),a(K.core_electric_abloom),a(K.core_fire_abloom),a(K.core_physical_abloom),a(K.core_ice_abloom)]}},{type:"fields",fields:[{title:ot("core_prophecy_dmg"),fieldRef:ah.core_prophecy_dmg.tag}]}],ability:[{type:"fields",fields:[a(K.ability_corruption_dmg_),a(K.ability_corruption_disorder_dmg_)]}],m1:[{type:"conditional",conditional:{label:ot("prophecyCond"),metadata:zi.prophecy,fields:[a(K.m1_anomaly_dmg_),a(K.m1_disorder_dmg_)]}}],m2:[{type:"fields",fields:[a(K.m2_ether_anomBuildup_)]},{type:"conditional",conditional:{label:ot("coreAbloom"),metadata:zi.abloom,fields:[a(K.m2_anom_mv_mult_),a(K.m2_resIgn_)]}}],m4:[{type:"fields",fields:[{title:ot("m4_crit_"),fieldRef:K.m4_crit_.tag}]},{type:"conditional",conditional:{label:ot("m4Cond"),metadata:zi.fluttering_featherbloom_used,fields:[a(K.m4_atk_)]}}],m6:[{type:"fields",fields:[a(K.m6_ether_dmg_)]}]}),aa="Yanagi",[,oe]=r("char",aa),J=p[aa],Y=f[aa],ch=v(aa,{perSkillAbility:{basic:{BasicAttackTsukuyomiKagura:[{type:"conditional",conditional:{label:oe("jougenCond"),metadata:J.jougen,fields:[a(Y.basic_electric_dmg_)]}},{type:"conditional",conditional:{label:oe("kagenCond"),metadata:J.kagen,fields:[a(Y.basic_pen_)]}}]},special:{EXSpecialAttackGekkaRuten:[{type:"conditional",conditional:{label:oe("polarityDisorderCond"),metadata:J.exSpecial_polarity_disorder,fields:[a(Y.exSpecial_anom_base_),a(Y.exSpecial_anom_flat_dmg)]}},{type:"conditional",conditional:{label:oe("m2Cond"),metadata:J.thrusts}}]},chain:{ChainAttackCelestialHarmony:[{type:"conditional",conditional:{label:oe("polarityDisorderCond"),metadata:J.chain_polarity_disorder,fields:[a(Y.chain_anom_base_),a(Y.chain_anom_flat_dmg)]}},{type:"conditional",conditional:{label:oe("m2Cond"),metadata:J.thrusts}}]}},core:[{type:"conditional",conditional:{label:D("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:J.exSpecial_used,fields:[a(Y.core_addl_disorder_),a(Y.core_electric_dmg_)]}}],ability:[{type:"conditional",conditional:{label:D("uponLaunch.1",{val1:"$t(skills.basic)"}),metadata:J.basic_hit,fields:[a(Y.ability_electric_anomBuildup_)]}}],m1:[{type:"conditional",conditional:{label:oe("m1Cond"),metadata:J.clarity,fields:[a(Y.m1_anomProf)]}}],m2:[{type:"fields",fields:[a(Y.m2_electric_anomBuildup_)]},{type:"conditional",conditional:{label:oe("m2Cond"),metadata:J.thrusts}}],m4:[{type:"conditional",conditional:{label:oe("m4Cond"),metadata:J.exposed,fields:[a(Y.m4_pen_)]}}],m6:[{type:"conditional",conditional:{label:oe("m6Cond"),metadata:J.shinrabanshou,fields:[a(Y.m6_exSpecial_dmg_)]}},{type:"conditional",conditional:{label:oe("m2Cond"),metadata:J.thrusts}}]}),ai="Yixuan",[,De]=r("char",ai),hc=p[ai],Z=f[ai],no=T[ai],sh=v(ai,{core:[{type:"fields",fields:[a(Z.core_hpSheerForce),{title:De("core_dmg_"),fieldRef:Z.core_dmg_.tag},a(Z.core_exSpecial_dmg_),a(Z.core_assistFollowUp_dmg_),a(Z.core_chain_dmg_),a(Z.core_ult_dmg_)]}],ability:[{type:"fields",fields:[{title:De("ability_dmg"),fieldRef:no.ability_dmg.tag},{title:De("ability_dmg_"),fieldRef:Z.ability_dmg_.tag}]},{type:"conditional",conditional:{label:De("meditationCond"),metadata:hc.meditation,fields:[a(Z.ability_crit_dmg_)]}}],m1:[{type:"fields",fields:[a(Z.m1_crit_),{title:De("m1_dmg"),fieldRef:no.m1_dmg.tag}]}],m2:[{type:"fields",fields:[a(Z.m2_ult_ether_resIgn_),a(Z.m2_exSpecial_ether_resIgn_),{title:De("m2_dmg"),fieldRef:no.m2_dmg.tag}]}],m4:[{type:"conditional",conditional:{label:De("m4Cond"),metadata:hc.tranquility,fields:[{title:De("m4_dmg_"),fieldRef:Z.m4_dmg_.tag}]}}],m6:[{type:"fields",fields:[a(Z.m6_sheer_dmg_)]}]}),lh="Yuzuha",dh=v(lh),oi="ZhuYuan",[,qe]=r("char",oi),io=p[oi],En=f[oi],rh=T[oi],mh=v(oi,{core:[{type:"fields",fields:[{title:qe("core_dmg_"),fieldRef:En.core_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:qe("abilityCond"),metadata:io.ex_chain_ult_used,fields:[a(En.ability_crit_)]}}],m2:[{type:"conditional",conditional:{label:qe("m2SuppresiveModeCond"),metadata:io.suppresive_mode,fields:[a(En.m2_dmg_red_)]}},{type:"conditional",conditional:{label:qe("m2BasicDashEtherCond"),metadata:io.shotshells_hit,fields:[{title:qe("m2_basic_dash_ether_dmg_"),fieldRef:En.m2_basic_dash_ether_dmg_.tag}]}}],m4:[{type:"fields",fields:[{title:qe("m4_ether_resIgn_"),fieldRef:En.m4_basic_dash_ether_res_ign_.tag}]}],m6:[{type:"fields",fields:[{title:qe("m6_ether_afterglow"),fieldRef:rh.m6_ether_afterglow.tag}]}]}),fh={Alice:op,Anby:cp,Anton:lp,AstraYao:rp,Ben:mp,Billy:fp,Burnice:hp,Caesar:gp,Corin:$p,Ellen:bp,Evelyn:xp,Grace:wp,Harumasa:kp,Hugo:vp,Jane:Dp,JuFufu:Ip,Koleda:Bp,Lighter:Ep,Lucy:Op,Lycaon:Pp,Miyabi:qp,Nekomata:Lp,Nicole:jp,PanYinhu:Hp,Piper:Kp,Pulchra:Wp,Qingyi:Up,Rina:Yp,Seth:Xp,Soldier0Anby:eh,Soldier11:th,Soukaku:nh,Trigger:ih,Vivian:oh,Yanagi:ch,Yixuan:sh,Yuzuha:dh,ZhuYuan:mh},oa="AstralVoice",[_c,ph]=r("disc",oa),uc=M(oa),hh=p[oa],_h=f[oa],uh={2:{title:i(E,{}),img:uc,documents:[{type:"text",text:_c("desc2")}]},4:{title:i(A,{}),img:uc,documents:[{type:"text",text:_c("desc4")},{type:"conditional",conditional:{label:ph("set4_cond"),metadata:hh.astral,fields:[d(_h.set4_team_dmg_.tag)]}}]}},ca="BranchBladeSong",[gc,gh]=r("disc",ca),yc=M(ca),yh=p[ca],$c=f[ca],$h={2:{title:i(E,{}),img:yc,documents:[{type:"text",text:gc("desc2")}]},4:{title:i(A,{}),img:yc,documents:[{type:"text",text:gc("desc4")},{type:"fields",fields:[d($c.set4_passive.tag)]},{type:"conditional",conditional:{label:gh("set4_cond"),metadata:yh.apply_or_trigger,fields:[d($c.set4_cond.tag)]}}]}},sa="ChaosJazz",[bc,bh]=r("disc",sa),xc=M(sa),xh=p[sa],Bi=f[sa],wh={2:{title:i(E,{}),img:xc,documents:[{type:"text",text:bc("desc2")}]},4:{title:i(A,{}),img:xc,documents:[{type:"text",text:bc("desc4")},{type:"fields",fields:[d(Bi.set4_passive_fire_dmg_.tag),d(Bi.set4_passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:bh("set4_cond"),metadata:xh.while_off_field,fields:[{title:"EX Special Attack DMG",fieldRef:Bi.set4_off_field_special_dmg_.tag},{title:"Assist Attack Attack DMG",fieldRef:Bi.set4_off_field_assist_dmg_.tag}]}}]}},la="ChaoticMetal",[wc,Ch]=r("disc",la),Cc=M(la),kh=p[la],kc=f[la],vh={2:{title:i(E,{}),img:Cc,documents:[{type:"text",text:wc("desc2")}]},4:{title:i(A,{}),img:Cc,documents:[{type:"text",text:wc("desc4")},{type:"fields",fields:[d(kc.set4_passive.tag)]},{type:"conditional",conditional:{label:Ch("set4_cond"),metadata:kh.trigger_corruption,fields:[d(kc.set4_cond_trigger_corruption.tag)]}}]}},da="FangedMetal",[vc,Sh]=r("disc",da),Sc=M(da),Dh=p[da],Rh=f[da],Ih={2:{title:i(E,{}),img:Sc,documents:[{type:"text",text:vc("desc2")}]},4:{title:i(A,{}),img:Sc,documents:[{type:"text",text:vc("desc4")},{type:"conditional",conditional:{label:Sh("set4_cond"),metadata:Dh.inflict_assault,fields:[d(Rh.set4_cond_inflict_assault.tag)]}}]}},ra="FreedomBlues",[Dc,zh]=r("disc",ra),Rc=M(ra),Bh=p[ra],Th=f[ra],Mh={2:{title:i(E,{}),img:Rc,documents:[{type:"text",text:Dc("desc2")}]},4:{title:i(A,{}),img:Rc,documents:[{type:"text",text:Dc("desc4")},{type:"conditional",conditional:{label:zh("set4_cond"),metadata:Bh.exSpecialHit,fields:[d(Th.anomBuildupRes_.tag)]}}]}},ma="HormonePunk",[Ic,Eh]=r("disc",ma),zc=M(ma),Ah=p[ma],Oh=f[ma],Vh={2:{title:i(E,{}),img:zc,documents:[{type:"text",text:Ic("desc2")}]},4:{title:i(A,{}),img:zc,documents:[{type:"text",text:Ic("desc4")},{type:"conditional",conditional:{label:Eh("set4_cond"),metadata:Ah.entering_combat,fields:[d(Oh.set4_cond_entering_combat.tag)]}}]}},fa="InfernoMetal",[Bc,Ph]=r("disc",fa),Tc=M(fa),Fh=p[fa],qh=f[fa],Lh={2:{title:i(E,{}),img:Tc,documents:[{type:"text",text:Bc("desc2")}]},4:{title:i(A,{}),img:Tc,documents:[{type:"text",text:Bc("desc4")},{type:"conditional",conditional:{label:Ph("set4_cond"),metadata:Fh.hitting_burning_enemy,fields:[d(qh.set4_cond_hitting_burning_enemy.tag)]}}]}},pa="KingOfTheSummit",[Mc,y1]=r("disc",pa),Ec=M(pa),jh=p[pa],Ac=f[pa],Hh={2:{title:i(E,{}),img:Ec,documents:[{type:"text",text:Mc("desc2")},{type:"fields",fields:[d(Ac.set2.tag)]}]},4:{title:i(A,{}),img:Ec,documents:[{type:"text",text:Mc("desc4")},{type:"conditional",conditional:{metadata:jh.launchExSpecialOrChain,label:D("uponLaunch.2",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)"}),fields:[d(Ac.set4_team_launchExSpecialOrChain_crit_dmg_.tag)]}}]}},ha="PhaethonsMelody",[Oc,Vc]=r("disc",ha),Pc=M(ha),Fc=p[ha],qc=f[ha],Kh={2:{title:i(E,{}),img:Pc,documents:[{type:"text",text:Oc("desc2")}]},4:{title:i(A,{}),img:Pc,documents:[{type:"text",text:Oc("desc4")},{type:"conditional",conditional:{label:Vc("set4_cond_squad_use_ex"),metadata:Fc.squad_use_ex,fields:[d(qc.set4_squad_anomProf.tag)]}},{type:"conditional",conditional:{label:Vc("set4_cond_not_char_use_ex"),metadata:Fc.not_char_use_ex,fields:[d(qc.set4_not_self_ether_.tag)]}}]}},_a="PolarMetal",[Lc,Wh]=r("disc",_a),jc=M(_a),Nh=p[_a],Hc=f[_a],Gh={2:{title:i(E,{}),img:jc,documents:[{type:"text",text:Lc("desc2")}]},4:{title:i(A,{}),img:jc,documents:[{type:"text",text:Lc("desc4")},{type:"conditional",conditional:{label:Wh("set4_cond"),metadata:Nh.freeze_shatter}},{type:"fields",fields:[{title:"Basic Attack DMG",fieldRef:Hc.set4_basic_dmg_.tag},{title:"Dash Attack DMG",fieldRef:Hc.set4_dash_dmg_.tag}]}]}},ua="ProtoPunk",[Kc,Uh]=r("disc",ua),Wc=M(ua),Jh=p[ua],Yh=f[ua],Zh={2:{title:i(E,{}),img:Wc,documents:[{type:"text",text:Kc("desc2")}]},4:{title:i(A,{}),img:Wc,documents:[{type:"text",text:Kc("desc4")},{type:"conditional",conditional:{label:Uh("set4_cond"),metadata:Jh.def_assist_or_evasive_assist,fields:[d(Yh.set4_cond_def_assist_or_evasive_assist_dmg_.tag)]}}]}},ga="PufferElectro",[Nc,Xh]=r("disc",ga),Gc=M(ga),Qh=p[ga],Uc=f[ga],e_={2:{title:i(E,{}),img:Gc,documents:[{type:"text",text:Nc("desc2")}]},4:{title:i(A,{}),img:Gc,documents:[{type:"text",text:Nc("desc4")},{type:"fields",fields:[{title:"Ultimate DMG",fieldRef:Uc.set4_dmg_.tag}]},{type:"conditional",conditional:{label:Xh("set4_cond"),metadata:Qh.launching_ult,fields:[d(Uc.set4_cond_launching_ult_atk_.tag)]}}]}},ya="ShadowHarmony",[Jc,t_]=r("disc",ya),Yc=M(ya),n_=p[ya],Zc=f[ya],i_={2:{title:i(E,{}),img:Yc,documents:[{type:"text",text:Jc("desc2")}]},4:{title:i(A,{}),img:Yc,documents:[{type:"text",text:Jc("desc4")},{type:"conditional",conditional:{label:t_("set4_cond_stacks"),metadata:n_.stacks,fields:[d(Zc.set4_stack_atk_.tag),d(Zc.set4_stack_crit_.tag)]}}]}},Eo="ShockstarDisco",[Xc,$1]=r("disc",Eo),Qc=M(Eo),ao=f[Eo],a_={2:{title:i(E,{}),img:Qc,documents:[{type:"text",text:Xc("desc2")}]},4:{title:i(A,{}),img:Qc,documents:[{type:"text",text:Xc("desc4")},{type:"fields",fields:[{title:"Basic Attack Daze",fieldRef:ao.set4_basic_daze_.tag},{title:"Dash Attack Daze",fieldRef:ao.set4_dash_daze_.tag},{title:"Dodge Counter Daze",fieldRef:ao.set4_dodgeCounter_daze_.tag}]}]}},br="SoulRock",[es,b1]=r("disc",br),ts=M(br),o_={2:{title:i(E,{}),img:ts,documents:[{type:"text",text:es("desc2")}]},4:{title:i(A,{}),img:ts,documents:[{type:"text",text:es("desc4")}]}},$a="SwingJazz",[ns,c_]=r("disc",$a),is=M($a),s_=p[$a],l_=f[$a],d_={2:{title:i(E,{}),img:is,documents:[{type:"text",text:ns("desc2")}]},4:{title:i(A,{}),img:is,documents:[{type:"text",text:ns("desc4")},{type:"conditional",conditional:{label:c_("set4_cond"),metadata:s_.chain_or_ult,fields:[d(l_.set4_cond_chain_or_ult.tag)]}}]}},ba="ThunderMetal",[as,r_]=r("disc",ba),os=M(ba),m_=p[ba],f_=f[ba],p_={2:{title:i(E,{}),img:os,documents:[{type:"text",text:as("desc2")}]},4:{title:i(A,{}),img:os,documents:[{type:"text",text:as("desc4")},{type:"conditional",conditional:{label:r_("set4_cond"),metadata:m_.enemy_shocked,fields:[d(f_.set4_cond_enemy_shocked_atk_.tag)]}}]}},xa="WoodpeckerElectro",[cs,h_]=r("disc",xa),ss=M(xa),__=p[xa],u_=f[xa],g_={2:{title:i(E,{}),img:ss,documents:[{type:"text",text:cs("desc2")}]},4:{title:i(A,{}),img:ss,documents:[{type:"text",text:cs("desc4")},{type:"conditional",conditional:{label:h_("set4_cond"),metadata:__.crit_basic_dodge_ex,fields:[d(u_.set4_cond_crit_basic_dodge_ex_atk_.tag)]}}]}},wa="YunkuiTales",[ls,x1]=r("disc",wa),ds=M(wa),y_=p[wa],oo=f[wa],$_={2:{title:i(E,{}),img:ds,documents:[{type:"text",text:ls("desc2")},{type:"fields",fields:[d(oo.set2.tag)]}]},4:{title:i(A,{}),img:ds,documents:[{type:"text",text:ls("desc4")},{type:"conditional",conditional:{metadata:y_.uponLaunchExSpecialChainOrUlt,label:D("uponLaunch.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),fields:[d(oo.set4_crit_.tag),d(oo.set4_sheer_dmg_.tag)]}}]}},b_={AstralVoice:uh,BranchBladeSong:$h,ChaosJazz:wh,ChaoticMetal:vh,FangedMetal:Ih,FreedomBlues:Mh,HormonePunk:Vh,InfernoMetal:Lh,KingOfTheSummit:Hh,PhaethonsMelody:Kh,PolarMetal:Gh,ProtoPunk:Zh,PufferElectro:e_,ShadowHarmony:i_,ShockstarDisco:a_,SoulRock:o_,SwingJazz:d_,ThunderMetal:p_,WoodpeckerElectro:g_,YunkuiTales:$_};function E(){return"2-Set"}function A(){return"4-Set"}function u({wKey:e,children:t}){const n=Wi();let o=1;return n&&n.compute(L.common.count.sheet(e)).val&&(o=n.compute(L.wengine.phase).val??1),t(o)}const ut="BashfulDemon",[rs,x_]=r("wengine",ut),w_=$.wengine[ut],C_=g(ut,"icon"),k_=p[ut],ms=f[ut],v_={title:rs("phase"),img:C_,documents:[{type:"text",text:i(u,{wKey:ut,children:e=>rs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ms.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:x_("cond"),metadata:k_.launch_ex_attack,fields:[d(ms.team_atk_.tag),{title:"Duration",fieldValue:w_.duration}]}}]},gt="BigCylinder",[fs,w1]=r("wengine",gt),S_=$.wengine[gt],D_=g(gt,"icon"),R_=f[gt],I_=T[gt],z_={title:fs("phase"),img:D_,documents:[{type:"text",text:i(u,{wKey:gt,children:e=>fs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(R_.passive_dmg_red_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:I_.damage.tag},{title:"Cooldown",fieldValue:S_.cooldown}]}]},yt="BlazingLaurel",[ps,hs]=r("wengine",yt),_s=$.wengine[yt],B_=g(yt,"icon"),us=p[yt],co=f[yt],T_={title:ps("phase"),img:B_,documents:[{type:"text",text:i(u,{wKey:yt,children:e=>ps(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:hs("cond1"),metadata:us.quickOrPerfectAssistUsed,fields:[d(co.impact_.tag),{title:"Duration",fieldValue:_s.duration}]}},{type:"conditional",conditional:{label:hs("cond2"),metadata:us.wilt,fields:[d(co.crit_dmg_ice_.tag),d(co.crit_dmg_fire_.tag),{title:"Duration",fieldValue:_s.wilt_duration}]}}]},$t="BoxCutter",[gs,M_]=r("wengine",$t),E_=$.wengine[$t],A_=g($t,"icon"),O_=p[$t],ys=f[$t],V_={title:gs("phase"),img:A_,documents:[{type:"text",text:i(u,{wKey:$t,children:e=>gs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:M_("cond"),metadata:O_.launchedAftershock,fields:[d(ys.physical_dmg_.tag),d(ys.daze_.tag),{title:"Duration",fieldValue:E_.duration}]}}]},ci="BunnyBand",[$s,P_]=r("wengine",ci),F_=g(ci,"icon"),q_=p[ci],bs=f[ci],L_={title:$s("phase"),img:F_,documents:[{type:"text",text:i(u,{wKey:ci,children:e=>$s(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(bs.passive_hp_.tag)]},{type:"conditional",conditional:{label:P_("cond"),metadata:q_.wearerShielded,fields:[d(bs.atk_.tag)]}}]},We="CannonRotor",[xs,C1]=r("wengine",We),j_=$.wengine[We],H_=g(We,"icon"),K_=T[We],W_=f[We],N_={title:xs("phase"),img:H_,documents:[{type:"text",text:i(u,{wKey:We,children:e=>xs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(W_.passive_atk_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:K_.damage.tag},{title:"Cooldown",fieldValue:i(u,{wKey:We,children:e=>j_.cooldown[e]})}]}]},bt="CinderCobalt",[ws]=r("wengine",bt),Cs=$.wengine[bt],G_=g(bt,"icon"),U_=p[bt],J_=f[bt],Y_={title:ws("phase"),img:G_,documents:[{type:"text",text:i(u,{wKey:bt,children:e=>ws(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:D("enterCombatOrSwitchIn"),metadata:U_.enteringCombatOrSwitchingIn,fields:[d(J_.enteringCombatOrSwitchingIn_atk_.tag),{title:D("duration"),fieldValue:Cs.duration},{title:D("cd"),fieldValue:Cs.cd}]}}]},xt="DeepSeaVisitor",[ks,vs]=r("wengine",xt),Ss=$.wengine[xt],Z_=g(xt,"icon"),Ds=p[xt],so=f[xt],X_={title:ks("phase"),img:Z_,documents:[{type:"text",text:i(u,{wKey:xt,children:e=>ks(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(so.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:vs("cond1"),metadata:Ds.basicHit,fields:[d(so.crit_.tag),{title:"Duration",fieldValue:Ss.duration}]}},{type:"conditional",conditional:{label:vs("cond2"),metadata:Ds.iceDashAtkHit,fields:[d(so.extra_crit_.tag),{title:"Duration",fieldValue:Ss.extra_duration}]}}]},wt="DemaraBatteryMarkII",[Rs,Q_]=r("wengine",wt),eu=$.wengine[wt],tu=g(wt,"icon"),nu=p[wt],Is=f[wt],iu={title:Rs("phase"),img:tu,documents:[{type:"text",text:i(u,{wKey:wt,children:e=>Rs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Is.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:Q_("cond"),metadata:nu.dodgeCounterOrAssistHit,fields:[d(Is.enerRegen_.tag),{title:"Duration",fieldValue:eu.duration}]}}]},Ct="DrillRigRedAxis",[zs,au]=r("wengine",Ct),Bs=$.wengine[Ct],ou=g(Ct,"icon"),cu=p[Ct],Ts=f[Ct],su={title:zs("phase"),img:ou,documents:[{type:"text",text:i(u,{wKey:Ct,children:e=>zs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:au("cond"),metadata:cu.exSpecialOrChainUsed,fields:[d(Ts.basic_eletric_dmg_.tag),d(Ts.dash_eletric_dmg_.tag),{title:"Duration",fieldValue:Bs.duration},{title:"Cooldown",fieldValue:Bs.cooldown}]}}]},si="ElectroLipGloss",[Ms,lu]=r("wengine",si),du=g(si,"icon"),ru=p[si],Es=f[si],mu={title:Ms("phase"),img:du,documents:[{type:"text",text:i(u,{wKey:si,children:e=>Ms(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:lu("cond"),metadata:ru.anomalyOnEnemy,fields:[d(Es.atk_.tag),d(Es.common_dmg_.tag)]}}]},kt="ElegantVanity",[As,fu]=r("wengine",kt),pu=$.wengine[kt],hu=g(kt,"icon"),_u=p[kt],uu=f[kt],gu={title:As("phase"),img:hu,documents:[{type:"text",text:i(u,{wKey:kt,children:e=>As(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:fu("cond"),metadata:_u.consumed25Energy,fields:[d(uu.common_dmg_.tag),{title:"Duration",fieldValue:pu.buffDuration}]}}]},vt="FlamemakerShaker",[Os,Vs]=r("wengine",vt),lo=$.wengine[vt],yu=g(vt,"icon"),Ps=p[vt],ro=f[vt],$u={title:Os("phase"),img:yu,documents:[{type:"text",text:i(u,{wKey:vt,children:e=>Os(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Vs("cond1"),metadata:Ps.offField,fields:[d(ro.enerRegen.tag)]}},{type:"conditional",conditional:{label:Vs("cond2"),metadata:Ps.exSpecialAssistHits,fields:[d(ro.common_dmg_.tag),{title:"Duration",fieldValue:lo.duration},{title:"Cooldown",fieldValue:lo.cooldown},d(ro.anomProf.tag),{title:"Duration",fieldValue:lo.anomProfDuration}]}}]},St="FlightOfFancy",[Fs,bu]=r("wengine",St),qs=$.wengine[St],xu=g(St,"icon"),wu=p[St],Ls=f[St],Cu={title:Fs("phase"),img:xu,documents:[{type:"text",text:i(u,{wKey:St,children:e=>Fs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ls.anomBuildup_.tag)]},{type:"conditional",conditional:{label:bu("cond"),metadata:wu.etherDmg,fields:[d(Ls.etherDmg_anomProf.tag),{title:"Duration",fieldValue:qs.duration},{title:"Cooldown",fieldValue:qs.cd}]}}]},Dt="FusionCompiler",[js,ku]=r("wengine",Dt),vu=$.wengine[Dt],Su=g(Dt,"icon"),Du=p[Dt],Hs=f[Dt],Ru={title:js("phase"),img:Su,documents:[{type:"text",text:i(u,{wKey:Dt,children:e=>js(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Hs.passive_atk_.tag)]},{type:"conditional",conditional:{label:ku("cond"),metadata:Du.specialUsed,fields:[d(Hs.anomProf.tag),{title:"Duration",fieldValue:vu.duration}]}}]},Ca="GildedBlossom",[Ks,k1]=r("wengine",Ca),Iu=g(Ca,"icon"),Ws=f[Ca],zu={title:Ks("phase"),img:Iu,documents:[{type:"text",text:i(u,{wKey:Ca,children:e=>Ks(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ws.passive_atk_.tag),d(Ws.passive_exSpecial_dmg_.tag)]}]},Rt="HailstormShrine",[Ns,Bu]=r("wengine",Rt),Tu=$.wengine[Rt],Mu=g(Rt,"icon"),Eu=p[Rt],Gs=f[Rt],Au={title:Ns("phase"),img:Mu,documents:[{type:"text",text:i(u,{wKey:Rt,children:e=>Ns(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Gs.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:Bu("cond"),metadata:Eu.exSpecialOrAnomaly,fields:[d(Gs.ice_dmg_.tag),{title:"Duration",fieldValue:Tu.duration}]}}]},It="HeartstringNocturne",[Us,Ou]=r("wengine",It),Vu=$.wengine[It],Pu=g(It,"icon"),Fu=p[It],mo=f[It],qu={title:Us("phase"),img:Pu,documents:[{type:"text",text:i(u,{wKey:It,children:e=>Us(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(mo.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:Ou("cond"),metadata:Fu.heartstring,fields:[d(mo.chain_resIgn_fire_.tag),d(mo.ult_resIgn_fire_.tag),{title:"Duration",fieldValue:Vu.duration}]}}]},zt="HellfireGears",[Js,Ys]=r("wengine",zt),Lu=$.wengine[zt],ju=g(zt,"icon"),Zs=p[zt],Xs=f[zt],Hu={title:Js("phase"),img:ju,documents:[{type:"text",text:i(u,{wKey:zt,children:e=>Js(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ys("cond1"),metadata:Zs.offField,fields:[d(Xs.enerRegen.tag)]}},{type:"conditional",conditional:{label:Ys("cond1"),metadata:Zs.exSpecialUsed,fields:[d(Xs.impact_.tag),{title:"Duration",fieldValue:Lu.duration}]}}]},Bt="Housekeeper",[Qs,el]=r("wengine",Bt),Ku=$.wengine[Bt],Wu=g(Bt,"icon"),tl=p[Bt],nl=f[Bt],Nu={title:Qs("phase"),img:Wu,documents:[{type:"text",text:i(u,{wKey:Bt,children:e=>Qs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:el("cond1"),metadata:tl.offField,fields:[d(nl.enerRegen.tag)]}},{type:"conditional",conditional:{label:el("cond2"),metadata:tl.exSpecialHits,fields:[d(nl.physical_dmg_.tag),{title:"Duration",fieldValue:Ku.duration}]}}]},Tt="IceJadeTeapot",[il,Gu]=r("wengine",Tt),al=$.wengine[Tt],Uu=g(Tt,"icon"),Ju=p[Tt],ol=f[Tt],Yu={title:il("phase"),img:Uu,documents:[{type:"text",text:i(u,{wKey:Tt,children:e=>il(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Gu("cond"),metadata:Ju.teariffic,fields:[d(ol.impact_.tag),{title:"Duration",fieldValue:al.duration},d(ol.common_dmg_.tag),{title:"Duration",fieldValue:al.teamBuffDuration}]}}]},Mt="IdentityBase",[cl,Zu]=r("wengine",Mt),Xu=$.wengine[Mt],Qu=g(Mt,"icon"),eg=p[Mt],tg=f[Mt],ng={title:cl("phase"),img:Qu,documents:[{type:"text",text:i(u,{wKey:Mt,children:e=>cl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Zu("cond"),metadata:eg.equipperAttacked,fields:[d(tg.def_.tag),{title:"Duration",fieldValue:Xu.duration}]}}]},Ao="IdentityInflection",[sl,v1]=r("wengine",Ao),ig=g(Ao,"icon"),ag={title:sl("phase"),img:ig,documents:[{type:"text",text:i(u,{wKey:Ao,children:e=>sl(`phaseDescs.${e-1}`)})}]},Et="KaboomTheCannon",[ll,og]=r("wengine",Et),cg=$.wengine[Et],sg=g(Et,"icon"),lg=p[Et],dg=f[Et],rg={title:ll("phase"),img:sg,documents:[{type:"text",text:i(u,{wKey:Et,children:e=>ll(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:og("cond"),metadata:lg.allyHitsEnemy,fields:[d(dg.atk_.tag),{title:"Duration",fieldValue:cg.duration}]}}]},At="LunarDecrescent",[dl,mg]=r("wengine",At),fg=$.wengine[At],pg=g(At,"icon"),hg=p[At],_g=f[At],ug={title:dl("phase"),img:pg,documents:[{type:"text",text:i(u,{wKey:At,children:e=>dl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:mg("cond"),metadata:hg.chainOrUltUsed,fields:[d(_g.common_dmg_.tag),{title:"Duration",fieldValue:fg.duration}]}}]},Oo="LunarNoviluna",[rl,S1]=r("wengine",Oo),gg=g(Oo,"icon"),yg={title:rl("phase"),img:gg,documents:[{type:"text",text:i(u,{wKey:Oo,children:e=>rl(`phaseDescs.${e-1}`)})}]},ka="LunarPleniluna",[ml,D1]=r("wengine",ka),$g=g(ka,"icon"),fo=f[ka],bg={title:ml("phase"),img:$g,documents:[{type:"text",text:i(u,{wKey:ka,children:e=>ml(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(fo.basic_dmg_.tag),d(fo.dash_dmg_.tag),d(fo.dodgeCounter_dmg_.tag)]}]},Ot="MagneticStormAlpha",[fl,xg]=r("wengine",Ot),pl=$.wengine[Ot],wg=g(Ot,"icon"),Cg=p[Ot],kg=f[Ot],vg={title:fl("phase"),img:wg,documents:[{type:"text",text:i(u,{wKey:Ot,children:e=>fl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:xg("cond"),metadata:Cg.anomalyBuildupIncreased,fields:[d(kg.anomMas.tag),{title:"Duration",fieldValue:pl.duration},{title:"Cooldown",fieldValue:pl.cooldown}]}}]},Vt="MagneticStormBravo",[hl,Sg]=r("wengine",Vt),_l=$.wengine[Vt],Dg=g(Vt,"icon"),Rg=p[Vt],Ig=f[Vt],zg={title:hl("phase"),img:Dg,documents:[{type:"text",text:i(u,{wKey:Vt,children:e=>hl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Sg("cond"),metadata:Rg.anomalyBuildupIncreased,fields:[d(Ig.anomProf.tag),{title:"Duration",fieldValue:_l.duration},{title:"Cooldown",fieldValue:_l.cooldown}]}}]},Vo="MagneticStormCharlie",[ul,R1]=r("wengine",Vo),Bg=g(Vo,"icon"),Tg={title:ul("phase"),img:Bg,documents:[{type:"text",text:i(u,{wKey:Vo,children:e=>ul(`phaseDescs.${e-1}`)})}]},Pt="MarcatoDesire",[gl,yl]=r("wengine",Pt),Mg=$.wengine[Pt],Eg=g(Pt,"icon"),$l=p[Pt],Ag=f[Pt],Og={title:gl("phase"),img:Eg,documents:[{type:"text",text:i(u,{wKey:Pt,children:e=>gl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:yl("cond1"),metadata:$l.exSpecialOrChainHitsEnemy,fields:[d(Ag.atk_.tag),{title:"Duration",fieldValue:Mg.duration}]}},{type:"conditional",conditional:{label:yl("cond2"),metadata:$l.attributeAnomalyInflicted}}]},Ft="Metanukimorphosis",[bl,Vg]=r("wengine",Ft),xl=$.wengine[Ft],Pg=g(Ft,"icon"),wl=p[Ft],Cl=f[Ft],Fg={title:bl("phase"),img:Pg,documents:[{type:"text",text:i(u,{wKey:Ft,children:e=>bl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{metadata:wl.physical_exSpecial_ult,label:Vg("physical_exSpecial_ult_cond"),fields:[d(Cl.physical_exSpecial_ult_anomMas.tag),{title:D("duration"),fieldValue:xl.amDuration}]}},{type:"conditional",conditional:{metadata:wl.aftershock,label:D("uponHit.1",{val1:"$t(skills.aftershock)"}),fields:[d(Cl.aftershock_team_anomProf.tag),{title:D("duration"),fieldValue:xl.apDuration}]}}]},qt="MyriadEclipse",[kl,qg]=r("wengine",qt),Lg=$.wengine[qt],jg=g(qt,"icon"),Hg=p[qt],vl=f[qt],Kg={title:kl("phase"),img:jg,documents:[{type:"text",text:i(u,{wKey:qt,children:e=>kl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(vl.crit_dmg_.tag)]},{type:"conditional",conditional:{label:qg("cond"),metadata:Hg.deathSentence,fields:[d(vl.deathSentence_defIgn_.tag),{title:"Duration",fieldValue:Lg.duration}]}}]},Lt="OriginalTransmorpher",[Sl,Wg]=r("wengine",Lt),Ng=$.wengine[Lt],Gg=g(Lt,"icon"),Ug=p[Lt],Dl=f[Lt],Jg={title:Sl("phase"),img:Gg,documents:[{type:"text",text:i(u,{wKey:Lt,children:e=>Sl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Dl.passive_hp_.tag)]},{type:"conditional",conditional:{label:Wg("cond"),metadata:Ug.equipperHit,fields:[d(Dl.impact_.tag),{title:"Duration",fieldValue:Ng.duration}]}}]},li="PeacekeeperSpecialized",[Rl,Yg]=r("wengine",li),Zg=g(li,"icon"),Xg=p[li],po=f[li],Qg={title:Rl("phase"),img:Zg,documents:[{type:"text",text:i(u,{wKey:li,children:e=>Rl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Yg("cond"),metadata:Xg.shielded,fields:[d(po.enerRegen.tag)]}},{type:"fields",fields:[d(po.passive_exSpecial_anomBuildup_.tag),d(po.passive_assist_anomBuildup_.tag)]}]},jt="PracticedPerfection",[Il,I1]=r("wengine",jt),ey=$.wengine[jt],ty=g(jt,"icon"),ny=p[jt],zl=f[jt],iy={title:Il("phase"),img:ty,documents:[{type:"text",text:i(u,{wKey:jt,children:e=>Il(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(zl.anomMas.tag)]},{type:"conditional",conditional:{metadata:ny.stacks,label:D("stacks"),fields:[d(zl.stacks_phys_dmg_.tag),{title:D("duration"),fieldValue:ey.duration}]}}]},di="PreciousFossilizedCore",[Bl,Tl]=r("wengine",di),ay=g(di,"icon"),Ml=p[di],oy=f[di],cy={title:Bl("phase"),img:ay,documents:[{type:"text",text:i(u,{wKey:di,children:e=>Bl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Tl("cond1"),metadata:Ml.enemyHpGE50,fields:[d(oy.daze_.tag)]}},{type:"conditional",conditional:{label:Tl("cond2"),metadata:Ml.enemyHpGE75}}]},Ht="PuzzleSphere",[El]=r("wengine",Ht),Al=$.wengine[Ht],sy=g(Ht,"icon"),Ol=p[Ht],Vl=f[Ht],ly={title:El("phase"),img:sy,documents:[{type:"text",text:i(u,{wKey:Ht,children:e=>El(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:D("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:Ol.launchingExSpecial,fields:[d(Vl.launchingExSpecial_crit_dmg_.tag),{title:D("duration"),fieldValue:Al.duration}]}},{type:"conditional",conditional:{label:D("targetHpLe",{val:Al.hpThresh*100}),metadata:Ol.targetHpBelow50,fields:[d(Vl.targetHpBelow50_exSpecial_dmg_.tag)]}}]},Kt="QingmingBirdcage",[Pl,dy]=r("wengine",Kt),ry=$.wengine[Kt],my=g(Kt,"icon"),fy=p[Kt],Ti=f[Kt],py={title:Pl("phase"),img:my,documents:[{type:"text",text:i(u,{wKey:Kt,children:e=>Pl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ti.crit_.tag)]},{type:"conditional",conditional:{metadata:fy.qingmingCompanionStacks,label:dy("cond"),fields:[d(Ti.qingmingCompanionStacks_ether_dmg_.tag),d(Ti.qingmingCompanionStacks_ult_ether_sheer_dmg_.tag),d(Ti.qingmingCompanionStacks_exSpecial_ether_sheer_dmg_.tag),{title:D("cd"),fieldValue:ry.duration}]}}]},Wt="RadiowaveJourney",[Fl]=r("wengine",Wt),hy=$.wengine[Wt],_y=g(Wt,"icon"),uy=p[Wt],gy=f[Wt],yy={title:Fl("phase"),img:_y,documents:[{type:"text",text:i(u,{wKey:Wt,children:e=>Fl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{metadata:uy.launchingChainOrUlt,label:D("uponLaunch.2",{val1:"$t(skills.chain)",val2:"$t(skills.ult)"}),fields:[d(gy.launchingChainOrUlt_sheerForce.tag),{title:D("duration"),fieldValue:hy.duration}]}}]},Nt="RainforestGourmet",[ql,$y]=r("wengine",Nt),by=$.wengine[Nt],xy=g(Nt,"icon"),wy=p[Nt],Cy=f[Nt],ky={title:ql("phase"),img:xy,documents:[{type:"text",text:i(u,{wKey:Nt,children:e=>ql(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:$y("cond"),metadata:wy.energyConsumed,fields:[d(Cy.atk_.tag),{title:"Duration",fieldValue:by.duration}]}}]},Po="ReelProjector",[Ll]=r("wengine",Po),vy=g(Po,"icon"),Sy={title:Ll("phase"),img:vy,documents:[{type:"text",text:i(u,{wKey:Po,children:e=>Ll(`phaseDescs.${e-1}`)})}]},Gt="ReverbMarkI",[jl,Dy]=r("wengine",Gt),Ry=$.wengine[Gt],Iy=g(Gt,"icon"),zy=p[Gt],By=f[Gt],Ty={title:jl("phase"),img:Iy,documents:[{type:"text",text:i(u,{wKey:Gt,children:e=>jl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Dy("cond"),metadata:zy.exSpecialUsed,fields:[d(By.impact_.tag),{title:"Duration",fieldValue:Ry.duration}]}}]},Ut="ReverbMarkII",[Hl,My]=r("wengine",Ut),Ey=$.wengine[Ut],Ay=g(Ut,"icon"),Oy=p[Ut],Kl=f[Ut],Vy={title:Hl("phase"),img:Ay,documents:[{type:"text",text:i(u,{wKey:Ut,children:e=>Hl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:My("cond"),metadata:Oy.exSpecialOrChainUsed,fields:[d(Kl.anomMas.tag),d(Kl.anomProf.tag),{title:"Duration",fieldValue:Ey.duration}]}}]},Jt="ReverbMarkIII",[Wl,Py]=r("wengine",Jt),Fy=$.wengine[Jt],qy=g(Jt,"icon"),Ly=p[Jt],jy=f[Jt],Hy={title:Wl("phase"),img:qy,documents:[{type:"text",text:i(u,{wKey:Jt,children:e=>Wl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Py("cond"),metadata:Ly.chainOrUltUsed,fields:[d(jy.atk_.tag),{title:"Duration",fieldValue:Fy.duration}]}}]},ri="RiotSuppressorMarkVI",[Nl,Ky]=r("wengine",ri),Wy=g(ri,"icon"),Ny=p[ri],Gl=f[ri],Gy={title:Nl("phase"),img:Wy,documents:[{type:"text",text:i(u,{wKey:ri,children:e=>Nl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Gl.passive_crit_.tag)]},{type:"conditional",conditional:{label:Ky("cond"),metadata:Ny.charge,fields:[d(Gl.basic_ether_dmg_.tag)]}}]},Yt="RoaringFurnace",[Ul,Uy]=r("wengine",Yt),Jy=$.wengine[Yt],Yy=g(Yt,"icon"),Zy=p[Yt],Mi=f[Yt],Xy={title:Ul("phase"),img:Yy,documents:[{type:"text",text:i(u,{wKey:Yt,children:e=>Ul(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Mi.exSpecial_dazeInc_.tag),d(Mi.chain_dazeInc_.tag),d(Mi.ult_dazeInc_.tag)]},{type:"conditional",conditional:{metadata:Zy.chainOrUlt,label:Uy("cond"),fields:[d(Mi.team_chainOrUlt_fire_dmg_.tag),{title:D("duration"),fieldValue:Jy.duration}]}}]},Zt="RoaringRide",[Jl,ho]=r("wengine",Zt),_o=$.wengine[Zt],Qy=g(Zt,"icon"),uo=p[Zt],go=f[Zt],e$={title:Jl("phase"),img:Qy,documents:[{type:"text",text:i(u,{wKey:Zt,children:e=>Jl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ho("cond_atk_"),metadata:uo.atk_,fields:[d(go.atk_.tag),{title:"Duration",fieldValue:_o.duration}]}},{type:"conditional",conditional:{label:ho("cond_anomProf"),metadata:uo.anomProf,fields:[d(go.anomProf.tag),{title:"Duration",fieldValue:_o.duration}]}},{type:"conditional",conditional:{label:ho("cond_anomBuildup_"),metadata:uo.anomBuildup_,fields:[d(go.anomBuildup_.tag),{title:"Duration",fieldValue:_o.duration}]}}]},Xt="SeveredInnocence",[Yl,t$]=r("wengine",Xt),n$=$.wengine[Xt],i$=g(Xt,"icon"),a$=p[Xt],yo=f[Xt],o$={title:Yl("phase"),img:i$,documents:[{type:"text",text:i(u,{wKey:Xt,children:e=>Yl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(yo.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:t$("cond"),metadata:a$.basicSpecialAftershockHit,fields:[d(yo.crit_dmg_.tag),d(yo.electric_dmg_.tag),{title:"Duration",fieldValue:n$.duration}]}}]},Qt="SharpenedStinger",[Zl,c$]=r("wengine",Qt),s$=$.wengine[Qt],l$=g(Qt,"icon"),d$=p[Qt],Xl=f[Qt],r$={title:Zl("phase"),img:l$,documents:[{type:"text",text:i(u,{wKey:Qt,children:e=>Zl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:c$("cond"),metadata:d$.predatoryInstinct,fields:[d(Xl.physical_dmg_.tag),{title:"Duration",fieldValue:s$.duration}]}},{type:"fields",fields:[d(Xl.anomBuildup_.tag)]}]},mi="SixShooter",[Ql,m$]=r("wengine",mi),f$=g(mi,"icon"),p$=p[mi],h$=f[mi],_$={title:Ql("phase"),img:f$,documents:[{type:"text",text:i(u,{wKey:mi,children:e=>Ql(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:m$("cond"),metadata:p$.charge,fields:[d(h$.exSpecial_daze_.tag)]}}]},Fo="SliceOfTime",[ed,z1]=r("wengine",Fo),u$=g(Fo,"icon"),g$={title:ed("phase"),img:u$,documents:[{type:"text",text:i(u,{wKey:Fo,children:e=>ed(`phaseDescs.${e-1}`)})}]},en="SpectralGaze",[td,nd]=r("wengine",en),id=$.wengine[en],y$=g(en,"icon"),ad=p[en],od=f[en],$$={title:td("phase"),img:y$,documents:[{type:"text",text:i(u,{wKey:en,children:e=>td(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:nd("cond1"),metadata:ad.hit_aftershock_electric,fields:[d(od.cond_defRed_.tag),{title:"Duration",fieldValue:id.duration1}]}},{type:"conditional",conditional:{label:nd("cond2"),metadata:ad.spiritLock,fields:[d(od.cond_impact_.tag),{title:"Duration",fieldValue:id.duration2}]}}]},tn="SpringEmbrace",[cd,b$]=r("wengine",tn),x$=$.wengine[tn],w$=g(tn,"icon"),C$=p[tn],sd=f[tn],k$={title:cd("phase"),img:w$,documents:[{type:"text",text:i(u,{wKey:tn,children:e=>cd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(sd.passive_dmg_red_.tag)]},{type:"conditional",conditional:{label:b$("cond"),metadata:C$.when_attacked,fields:[d(sd.cond_enerRegen_.tag),{title:"Duration",fieldValue:x$.duration}]}}]},nn="StarlightEngine",[ld,v$]=r("wengine",nn),S$=$.wengine[nn],D$=g(nn,"icon"),R$=p[nn],I$=f[nn],z$={title:ld("phase"),img:D$,documents:[{type:"text",text:i(u,{wKey:nn,children:e=>ld(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:v$("cond"),metadata:R$.dodgecounter_quickassist,fields:[d(I$.cond_dmg_.tag),{title:"Duration",fieldValue:S$.duration}]}}]},an="StarlightEngineReplica",[dd,B$]=r("wengine",an),T$=$.wengine[an],M$=g(an,"icon"),E$=p[an],A$=f[an],O$={title:dd("phase"),img:M$,documents:[{type:"text",text:i(u,{wKey:an,children:e=>dd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:B$("cond"),metadata:E$.hit_away,fields:[d(A$.cond_dmg_.tag),{title:"Duration",fieldValue:T$.duration}]}}]},on="SteamOven",[rd,V$]=r("wengine",on),P$=$.wengine[on],F$=g(on,"icon"),q$=p[on],L$=f[on],j$={title:rd("phase"),img:F$,documents:[{type:"text",text:i(u,{wKey:on,children:e=>rd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:V$("cond"),metadata:q$.stacks,fields:[d(L$.cond_impact_.tag),{title:"Duration",fieldValue:P$.duration}]}}]},fi="SteelCushion",[md,H$]=r("wengine",fi),K$=g(fi,"icon"),W$=p[fi],fd=f[fi],N$={title:md("phase"),img:K$,documents:[{type:"text",text:i(u,{wKey:fi,children:e=>md(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(fd.passive_physical_dmg_.tag)]},{type:"conditional",conditional:{label:H$("cond"),metadata:W$.hit_behind,fields:[d(fd.cond_dmg_.tag)]}}]},pi="StreetSuperstar",[pd,G$]=r("wengine",pi),U$=g(pi,"icon"),J$=p[pi],Y$=f[pi],Z$={title:pd("phase"),img:U$,documents:[{type:"text",text:i(u,{wKey:pi,children:e=>pd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:G$("cond"),metadata:J$.charge,fields:[d(Y$.cond_ult_dmg_.tag)]}}]},cn="TheBrimstone",[hd,X$]=r("wengine",cn),Q$=$.wengine[cn],eb=g(cn,"icon"),tb=p[cn],nb=f[cn],ib={title:hd("phase"),img:eb,documents:[{type:"text",text:i(u,{wKey:cn,children:e=>hd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:X$("cond"),metadata:tb.hit_basic_dash_dodge,fields:[d(nb.cond_atk_.tag),{title:"Duration",fieldValue:Q$.duration}]}}]},sn="TheRestrained",[_d,ab]=r("wengine",sn),ob=$.wengine[sn],cb=g(sn,"icon"),sb=p[sn],ud=f[sn],lb={title:_d("phase"),img:cb,documents:[{type:"text",text:i(u,{wKey:sn,children:e=>_d(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ab("cond"),metadata:sb.dmg_daze_,fields:[d(ud.basic_dmg_.tag),d(ud.basic_daze_.tag),{title:"Duration",fieldValue:ob.duration}]}}]},ln="TheVault",[gd,db]=r("wengine",ln),rb=$.wengine[ln],mb=g(ln,"icon"),fb=p[ln],pb=f[ln],hb={title:gd("phase"),img:mb,documents:[{type:"text",text:i(u,{wKey:ln,children:e=>gd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:db("cond"),metadata:fb.ether_hit,fields:[d(pb.cond_dmg_.tag),{title:"Duration",fieldValue:rb.duration}]}}]},dn="Timeweaver",[yd,_b]=r("wengine",dn),ub=$.wengine[dn],gb=g(dn,"icon"),yb=p[dn],$o=f[dn],$b={title:yd("phase"),img:gb,documents:[{type:"text",text:i(u,{wKey:dn,children:e=>yd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d($o.passive_electric_anomBuildup_.tag),d($o.passive_disorder_dmg_.tag)]},{type:"conditional",conditional:{label:_b("cond"),metadata:yb.hit_anomaly,fields:[d($o.cond_anomProf.tag),{title:"Duration",fieldValue:ub.duration}]}}]},va="TremorTrigramVessel",[$d]=r("wengine",va),bb=g(va,"icon"),bd=f[va],xb={title:$d("phase"),img:bb,documents:[{type:"text",text:i(u,{wKey:va,children:e=>$d(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(bd.exSpecial_dmg_.tag),d(bd.ult_dmg_.tag)]}]},rn="TusksOfFury",[xd,wb]=r("wengine",rn),Cb=$.wengine[rn],kb=g(rn,"icon"),vb=p[rn],bo=f[rn],Sb={title:xd("phase"),img:kb,documents:[{type:"text",text:i(u,{wKey:rn,children:e=>xd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(bo.passive_shield_.tag)]},{type:"conditional",conditional:{label:wb("cond"),metadata:vb.interrupt_perfdodge,fields:[d(bo.cond_dmg_.tag),d(bo.daze_.tag),{title:"Duration",fieldValue:Cb.duration}]}}]},mn="UnfetteredGameBall",[wd,Db]=r("wengine",mn),Rb=$.wengine[mn],Ib=g(mn,"icon"),zb=p[mn],Bb=f[mn],Tb={title:wd("phase"),img:Ib,documents:[{type:"text",text:i(u,{wKey:mn,children:e=>wd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Db("cond"),metadata:zb.anomaly_counter,fields:[d(Bb.cond_crit_.tag),{title:"Duration",fieldValue:Rb.duration}]}}]},Sa="VortexArrow",[Cd,B1]=r("wengine",Sa),Mb=g(Sa,"icon"),Eb=f[Sa],Ab={title:Cd("phase"),img:Mb,documents:[{type:"text",text:i(u,{wKey:Sa,children:e=>Cd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Eb.passive_daze_.tag)]}]},fn="VortexHatchet",[kd,Ob]=r("wengine",fn),vd=$.wengine[fn],Vb=g(fn,"icon"),Pb=p[fn],Fb=f[fn],qb={title:kd("phase"),img:Vb,documents:[{type:"text",text:i(u,{wKey:fn,children:e=>kd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ob("cond"),metadata:Pb.entering,fields:[d(Fb.cond_impact_.tag),{title:"Duration",fieldValue:vd.duration},{title:"Cooldown",fieldValue:vd.cooldown}]}}]},Da="VortexRevolver",[Sd,T1]=r("wengine",Da),Lb=g(Da,"icon"),jb=f[Da],Hb={title:Sd("phase"),img:Lb,documents:[{type:"text",text:i(u,{wKey:Da,children:e=>Sd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(jb.passive_exSpecial_daze_.tag)]}]},pn="WeepingCradle",[Dd,Rd]=r("wengine",pn),Kb=$.wengine[pn],Wb=g(pn,"icon"),Id=p[pn],Nb=f[pn],Gb={title:Dd("phase"),img:Wb,documents:[{type:"text",text:i(u,{wKey:pn,children:e=>Dd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Rd("cond_atk"),metadata:Id.attack}},{type:"conditional",conditional:{label:Rd("cond_stacks"),metadata:Id.stacks,fields:[d(Nb.cond_dmg_.tag),{title:"Duration",fieldValue:Kb.duration}]}}]},hi="WeepingGemini",[zd,Ub]=r("wengine",hi),Jb=g(hi,"icon"),Yb=p[hi],Zb=f[hi],Xb={title:zd("phase"),img:Jb,documents:[{type:"text",text:i(u,{wKey:hi,children:e=>zd(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ub("cond"),metadata:Yb.anomaly_stack,fields:[d(Zb.anomProf.tag)]}}]},hn="ZanshinHerbCase",[Bd,Qb]=r("wengine",hn),e1=$.wengine[hn],t1=g(hn,"icon"),n1=p[hn],xo=f[hn],i1={title:Bd("phase"),img:t1,documents:[{type:"text",text:i(u,{wKey:hn,children:e=>Bd(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(xo.passive_crit_.tag),d(xo.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:Qb("cond"),metadata:n1.apply_anom_stun,fields:[d(xo.cond_crit_.tag),{title:"Duration",fieldValue:e1.duration}]}}]},a1={BashfulDemon:v_,BigCylinder:z_,BlazingLaurel:T_,BoxCutter:V_,BunnyBand:L_,CannonRotor:N_,CinderCobalt:Y_,DeepSeaVisitor:X_,DemaraBatteryMarkII:iu,DrillRigRedAxis:su,ElectroLipGloss:mu,ElegantVanity:gu,FlamemakerShaker:$u,FlightOfFancy:Cu,FusionCompiler:Ru,GildedBlossom:zu,HailstormShrine:Au,HeartstringNocturne:qu,HellfireGears:Hu,Housekeeper:Nu,IceJadeTeapot:Yu,IdentityBase:ng,IdentityInflection:ag,KaboomTheCannon:rg,LunarDecrescent:ug,LunarNoviluna:yg,LunarPleniluna:bg,MagneticStormAlpha:vg,MagneticStormBravo:zg,MagneticStormCharlie:Tg,MarcatoDesire:Og,Metanukimorphosis:Fg,MyriadEclipse:Kg,OriginalTransmorpher:Jg,PeacekeeperSpecialized:Qg,PracticedPerfection:iy,PreciousFossilizedCore:cy,PuzzleSphere:ly,QingmingBirdcage:py,RadiowaveJourney:yy,RainforestGourmet:ky,ReelProjector:Sy,ReverbMarkI:Ty,ReverbMarkII:Vy,ReverbMarkIII:Hy,RiotSuppressorMarkVI:Gy,RoaringFurnace:Xy,RoaringRide:e$,SeveredInnocence:o$,SharpenedStinger:r$,SixShooter:_$,SliceOfTime:g$,SpectralGaze:$$,SpringEmbrace:k$,StarlightEngine:z$,StarlightEngineReplica:O$,SteamOven:j$,SteelCushion:N$,StreetSuperstar:Z$,TheBrimstone:ib,TheRestrained:lb,TheVault:hb,Timeweaver:$b,TremorTrigramVessel:xb,TusksOfFury:Sb,UnfetteredGameBall:Tb,VortexArrow:Ab,VortexHatchet:qb,VortexRevolver:Hb,WeepingCradle:Gb,WeepingGemini:Xb,ZanshinHerbCase:i1};function o1(e){const{attribute:t}=e;if(t)return t}function c1(e){const{q:t}=e;return["standardDmg","anomalyDmg"].includes(t)}function s1(e){const{damageType1:t,damageType2:n}=e,o=[];return c1(e)?(t&&o.push(t),n&&o.push(n),o):[]}const Li={basic:"Basic",dash:"Dash",dodgeCounter:"Dodge Counter",special:"Special",exSpecial:"EX Special",chain:"Chain",ult:"Ultimate",quickAssist:"Quick Assist",defensiveAssist:"Defensive Assist",evasiveAssist:"Evasive Assist",assistFollowUp:"Assist Follow Up",anomaly:"Anomaly",disorder:"Disorder",aftershock:"Aftershock",elemental:"Elemental",sheer:"Sheer"},xr=["crit_","crit_dmg_","impact","pen","pen_","enerRegen","anomProf","anomMas","anom_crit_","anom_crit_dmg_"].map(e=>{if(jm.includes(e)){const t={...L.final.dmg_.tag,attribute:e.slice(0,-5)};return{title:i(An,{statKey:e}),fieldRef:t}}return e==="crit_"?{fieldRef:L.common.cappedCrit_.tag,title:i(An,{statKey:e})}:e==="anom_crit_"?{fieldRef:L.common.anom_cappedCrit_.tag,title:i(An,{statKey:e})}:{fieldRef:L.final[e].tag,title:i(An,{statKey:e})}});xr.push(...Le.map(e=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,name:"standardDmgInst"},title:x(je,{color:e,children:[Re[e]," Damage"]})})),...Le.map(e=>({fieldRef:{et:"own",qt:"formula",q:"sheerDmg",attribute:e,name:"sheerDmgInst"},title:x(je,{color:e,children:[Re[e]," Damage"]})})),...Le.flatMap(e=>Hm.map(t=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,damageType1:t,name:"standardDmgInst"},title:x(je,{color:e,children:[Re[e]," ",Li[t]," Damage"]})}))),...Le.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomalyDmg",attribute:e,damageType1:"anomaly",name:"anomalyDmgInst"},title:x(je,{color:e,children:[Re[e]," Anomaly Damage"]})})),...[...Le,"frost"].map(e=>{const t=e==="frost"?"ice":e;return{fieldRef:{et:"own",qt:"formula",q:"anomalyDmg",attribute:t,damageType1:"disorder",name:`disorderDmgInst_${e}`},title:x(je,{color:t,children:[e==="frost"?"Frost":Re[t]," ","Disorder Damage"]})}}),...Le.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomBuildup",attribute:e,name:"anomalyBuildupInst"},title:x(je,{color:e,children:[Re[e]," Anomaly Buildup"]})})),{fieldRef:{et:"own",qt:"formula",q:"dazeBuildup",name:"dazeInst"},title:"Daze Buildup"});const qo=[];Object.values(fh).forEach(e=>Object.values(e).forEach(t=>t.documents.forEach(n=>n.type==="fields"&&n.fields.forEach(o=>Mf(o)&&qo.push({tag:o.fieldRef,value:o})))));xr.forEach(e=>{qo.push({tag:e.fieldRef,value:e})});const l1=$f(qo),Co=new Map;function wr(e,t){if(Co.get(e))throw new Error(`Duplicate conditional ${e}`);Co.set(e,t)}Object.values(a1).forEach(({documents:e})=>{e.forEach(t=>{t.type==="conditional"&&wr(`${t.conditional.metadata.sheet}:${t.conditional.metadata.name}`,t.conditional)})});Object.values(b_).forEach(e=>Object.values(e).forEach(({documents:t})=>{t.forEach(n=>{n.type==="conditional"&&wr(`${n.conditional.metadata.sheet}:${n.conditional.metadata.name}`,n.conditional)})}));export{xf as A,g1 as C,ec as D,h1 as F,Ni as T,Pn as a,mr as b,lf as c,of as d,b_ as e,Li as f,Kf as g,Wi as h,Jf as i,u1 as j,_1 as k,wf as l,Ki as m,bf as n,p1 as o,Df as p,Wf as q,Sf as r,yr as s,rf as u,a1 as w};
