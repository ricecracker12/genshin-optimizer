import{c5 as Rl,J as Il,H as zl,d as v,K as Ml,_ as Bl,O as Me,c6 as Wa,X as Gn,W as ti,V as Ne,c7 as Y,Y as Tl,c8 as Rd,c9 as Id,T as P,y as El,ca as Na,cb as Vl,cc as zd,a4 as Md,cd as Bd,a7 as Td,ce as Pl,u as ge,aN as Ol,aL as Ed,cf as Vd,cg as Pd,ch as Od,ci as Al,b4 as ql,b3 as Fl,cj as F,ck as Ad,cl as qd,bB as j,b9 as Fd,ba as jd,cm as Jn,cn as Ld,co as Hd,cp as jl,cq as Yn,cr as Kd,j as i,cs as Zn,ct as ze,bt as he,bC as xa,cu as Wd,e as x,am as ie,aA as fn,cv as Qn,i as Q,ax as te,bW as Ll,cw as Nd,cx as Hl,cy as Kl,cz as wa,cA as we,ae as va,o as z,cB as Ud,cC as Wl,a as Nl,bJ as Gd,l as Ul,b$ as Jd,f as fe,G as Z,C as Ue,S as Be,P as Yd,bN as Zd,bg as $a,c0 as Ua,br as Gl,aX as Ke,c1 as Qd,c2 as Xd,I as ka,s as Ca,c3 as er,cD as tr,v as un,M as Sa,aM as ni,ac as Jl,ad as Yl,cE as nr,m as ir,k as ar,n as or,bf as sr,D as cr,c4 as lr,cF as dr,w as Zl,r as rr,b as mr,c as ur,g as hr,bx as Ql,bF as Xl,bD as ed,cG as fr,cH as gr,E as pr,cI as _r,z as gn,B as Ge,cJ as Da,F as pn,cK as td,cL as yr,ah as Ra,ag as $r,aY as We,ap as br,b6 as xr,cM as wr,cN as vr,cO as kr,aH as nd,aF as rn,ai as Cr,cP as Sr,bz as Dr,cQ as Rr,aK as Ir,cR as zr,cS as Mr,bZ as Br,cT as Tr,cU as Er,cV as ce,cW as id,a5 as Ga,b8 as Ja,cX as Vr,cY as Pr,be as ad,cZ as Or,c_ as $,c$ as O,a$ as f,a_ as h,ay as M,aD as _,d0 as Ar,bI as qr}from"./index-DLeUoNI3.js";import{i as Fr,d as jr}from"./discSortUtil-0zsE7CjG.js";function Lr(e){const{badgeContent:t,invisible:n=!1,max:a=99,showZero:o=!1}=e,c=Rl({badgeContent:t,max:a});let s=n;n===!1&&t===0&&!o&&(s=!0);const{badgeContent:r,max:u=a}=s?c:e,g=r&&Number(r)>u?`${u}+`:r;return{badgeContent:r,invisible:s,max:u,displayValue:g}}function Hr(e){return zl("MuiBadge",e)}const pe=Il("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Kr=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Ai=10,qi=4,Wr=e=>{const{color:t,anchorOrigin:n,invisible:a,overlap:o,variant:c,classes:s={}}=e,r={root:["root"],badge:["badge",c,a&&"invisible",`anchorOrigin${Y(n.vertical)}${Y(n.horizontal)}`,`anchorOrigin${Y(n.vertical)}${Y(n.horizontal)}${Y(o)}`,`overlap${Y(o)}`,t!=="default"&&`color${Y(t)}`]};return Tl(r,Hr,s)},Nr=ti("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ur=ti("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${Y(n.anchorOrigin.vertical)}${Y(n.anchorOrigin.horizontal)}${Y(n.overlap)}`],n.color!=="default"&&t[`color${Y(n.color)}`],n.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:Ai*2,lineHeight:1,padding:"0 6px",height:Ai*2,borderRadius:Ai,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(n=>{var a,o;return((a=e.vars)!=null?a:e).palette[n].main&&((o=e.vars)!=null?o:e).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:qi,height:qi*2,minWidth:qi*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}}),Ya=v.forwardRef(function(t,n){var a,o,c,s,r,u;const g=Ml({props:t,name:"MuiBadge"}),{anchorOrigin:w={vertical:"top",horizontal:"right"},className:D,component:S,components:y={},componentsProps:b={},children:k,overlap:R="rectangular",color:L="default",invisible:N=!1,max:le=99,badgeContent:de,slots:W,slotProps:I,showZero:E=!1,variant:q="standard"}=g,re=Bl(g,Kr),{badgeContent:Aa,invisible:$d,max:bd,displayValue:xd}=Lr({max:le,invisible:N,badgeContent:de,showZero:E}),wd=Rl({anchorOrigin:w,color:L,overlap:R,variant:q,badgeContent:de}),qa=$d||Aa==null&&q!=="dot",{color:vd=L,overlap:kd=R,anchorOrigin:Cd=w,variant:Fa=q}=qa?wd:g,ja=Fa!=="dot"?xd:void 0,Vi=Me({},g,{badgeContent:Aa,invisible:qa,max:bd,displayValue:ja,showZero:E,anchorOrigin:Cd,color:vd,overlap:kd,variant:Fa}),La=Wr(Vi),Ha=(a=(o=W==null?void 0:W.root)!=null?o:y.Root)!=null?a:Nr,Ka=(c=(s=W==null?void 0:W.badge)!=null?s:y.Badge)!=null?c:Ur,Pi=(r=I==null?void 0:I.root)!=null?r:b.root,Oi=(u=I==null?void 0:I.badge)!=null?u:b.badge,Sd=Wa({elementType:Ha,externalSlotProps:Pi,externalForwardedProps:re,additionalProps:{ref:n,as:S},ownerState:Vi,className:Gn(Pi==null?void 0:Pi.className,La.root,D)}),Dd=Wa({elementType:Ka,externalSlotProps:Oi,ownerState:Vi,className:Gn(La.badge,Oi==null?void 0:Oi.className)});return Ne.jsxs(Ha,Me({},Sd,{children:[k,Ne.jsx(Ka,Me({},Dd,{children:ja}))]}))});function Gr(e){return zl("MuiFormControlLabel",e)}const mn=Il("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Jr=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Yr=e=>{const{classes:t,disabled:n,labelPlacement:a,error:o,required:c}=e,s={root:["root",n&&"disabled",`labelPlacement${Y(a)}`,o&&"error",c&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return Tl(s,Gr,t)},Zr=ti("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${mn.label}`]:t.label},t.root,t[`labelPlacement${Y(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>Me({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${mn.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${mn.label}`]:{[`&.${mn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Qr=ti("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${mn.error}`]:{color:(e.vars||e).palette.error.main}})),Xr=v.forwardRef(function(t,n){var a,o;const c=Ml({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:r={},control:u,disabled:g,disableTypography:w,label:D,labelPlacement:S="end",required:y,slotProps:b={}}=c,k=Bl(c,Jr),R=Rd(),L=(a=g??u.props.disabled)!=null?a:R==null?void 0:R.disabled,N=y??u.props.required,le={disabled:L,required:N};["checked","name","onChange","value","inputRef"].forEach(re=>{typeof u.props[re]>"u"&&typeof c[re]<"u"&&(le[re]=c[re])});const de=Id({props:c,muiFormControl:R,states:["error"]}),W=Me({},c,{disabled:L,labelPlacement:S,required:N,error:de.error}),I=Yr(W),E=(o=b.typography)!=null?o:r.typography;let q=D;return q!=null&&q.type!==P&&!w&&(q=Ne.jsx(P,Me({component:"span"},E,{className:Gn(I.label,E==null?void 0:E.className),children:q}))),Ne.jsxs(Zr,Me({className:Gn(I.root,s),ownerState:W,ref:n},k,{children:[v.cloneElement(u,le),N?Ne.jsxs(El,{display:"block",children:[q,Ne.jsxs(Qr,{ownerState:W,"aria-hidden":!0,className:I.asterisk,children:[" ","*"]})]}):q]}))}),em={};class od{constructor(t,n){this.root=new tm(t,n)}subset(t){const n=[];return this._subset(t,a=>n.push(...a[Na].map(o=>o.value))),n}entries(t){const n=[];return this._subset(t,a=>n.push(...a[Na])),n}_subset(t,n){const a=t.length;function o(c,s){c<a?s.subset(t[c]).forEach(r=>o(c+1,r)):n(s.leaf)}o(0,this.root)}}let tm=class sd{constructor(t,n){if(this.children=[],t>0)for(const[a,o]of Object.entries(n)){const c=new Map;for(const[s,r]of Object.entries(o))c.set(+s,new sd(t-1,r));this.children.push({mask:+a,map:c})}else this.leaf=n}subset(t){return this.children.map(({mask:n,map:a})=>a.get(t&n)).filter(n=>!!n)}};class Za{constructor(t){this.root=new Ia(void 0),this.keys=t}at(t){const n=this.keys.get(t),a=n.reduce((o,c)=>o.child(c),this.root);return a.leaf||(a.leaf=new za(t,n,this.keys,a)),a.leaf}}class Ia{constructor(t){this.children=new Map,this.parent=t}child(t){let n=this.children.get(t);return n||(n=new Ia(this),this.children.set(t,n),n)}}class za{constructor(t,n,a,o){this.tag=Object.fromEntries(Object.entries(t).filter(([c,s])=>s!=null)),this.id=n,this.keys=a,this.internal=o}with(t){const{keys:n}=this,{id:a,firstReplacedByte:o}=n.combine(this.id,t);let c=this.internal;for(let s=o;s<n.tagLen;s++)c=c.parent;for(let s=o;s<n.tagLen;s++)c=c.child(a[s]);return c.leaf||(c.leaf=new za({...this.tag,...t},a,n,c)),c.leaf}}class nm{constructor(t,n){this.keys=new Vl(t),this.values=new od(t.tagLen,n)}subset(t){return this.values.subset(this.keys.get(t))}}const hn={sum:e=>e.reduce((t,n)=>t+n,0),prod:e=>e.reduce((t,n)=>t*n,1),min:e=>Math.min(...e),max:e=>Math.max(...e),sumfrac:([e,t])=>e/(e+t),unique:([e])=>e},cd={match:([e,t])=>e===t?0:1,thres:([e,t])=>e>=t?0:1,lookup:([e],t)=>t[e]??0},On=e=>Bd(e,"val");let ld=class{constructor(t,...n){const a=new Vl(t);this.nodes=new od(a.tagLen,zd(n)),this.cache=new Za(a).at({}),this.calc=new Za(a).at({}),this.calc.val=this}withTag(t){const n=this.calc.with(t);return n.val??(n.val=Object.assign(new this.constructor(this.cache.keys),this,{cache:this.cache.with(t),calc:n}))}gather(t){return this._gather(this.cache.with(t)).pre}compute(t){return this._compute(t,this.cache)}_gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:a,value:o})=>o.op==="reread"?this._gather(t.with(o.tag)).pre:[this.markGathered(t.tag,a,o,this._compute(o,t))]);return t.val={pre:n}}_compute(t,n){const a=(c,s,r,u)=>Object.freeze({val:c,meta:this.computeMeta(t,c,s,r,u)}),{op:o}=t;switch(o){case"const":return a(t.ex,[],[]);case"sum":case"prod":case"min":case"max":case"sumfrac":{const c=t.x.map(s=>this._compute(s,n));return a(hn[o](On(c)),c,[])}case"thres":case"match":case"lookup":{const c=t.br.map(g=>this._compute(g,n)),s=cd[o](On(c),t.ex),r=[...Array(t.x.length)],u=r[s]=this._compute(t.x[s],n);return a(u.val,r,c)}case"subscript":{const c=this._compute(t.br[0],n);return a(t.ex[c.val],[],[c])}case"vtag":return a(n.tag[t.ex]??"",[],[]);case"tag":{const c=n.with(t.tag),s=this._compute(t.x[0],c);return a(s.val,[s],[],c.tag)}case"dtag":{const c=t.br.map(u=>this._compute(u,n)),s=n.with(Object.fromEntries(c.map((u,g)=>[t.ex[g],u.val]))),r=this._compute(t.x[0],s);return a(r.val,[r],c,s.tag)}case"read":{const c=n.with(t.tag),s=this._gather(c),{pre:r}=s,u=t.ex??this.defaultAccu(c.tag)??"unique";if(u!==t.ex&&(t={...t,ex:u}),s[u])return s[u];if(Td()&&u==="unique"&&r.length!==1)throw new Error(`Ill-form read for ${Pl(c.tag)}`);const g=hn[u](On(r));return s[u]=a(g,r,[],c.tag)}case"custom":{const c=t.x.map(s=>this._compute(s,n));return a(em[t.ex].calc(On(c)),c,[])}default:Md(o)}}defaultAccu(t){}markGathered(t,n,a,o){return o}computeMeta(t,n,a,o,c){}toDebug(){throw new Error("not implemented")}};const im={arithmetic:hn,branching:cd};class am extends ld{constructor(t,n=Pl,a=()=>!0){super(t.cache.keys),this.gathering=new Set,this.nodes=t.nodes,this.tagStr=n,this.filter=a,this.defaultAccu=o=>t.defaultAccu(o),this.cache=this.cache.with(t.cache.tag)}withTag(t){throw new Error("Unimplemented")}_gather(t){if(this.gathering.has(t))throw new Error(`Loop detected for ${this.tagStr(t.tag)}`);this.gathering.add(t);const n=this.__gather(t);return this.gathering.delete(t),n}__gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:a,value:o})=>o.op==="reread"?this._gather(t.with(o.tag)).pre.map(c=>{const s=`${this.tagStr(a)} <= ${this.tagStr(o.tag)} : ${c.meta.readSeq}`;return Object.freeze({...c,meta:{...c.meta,readSeq:s}})}):[this.markGathered(t.tag,a,o,this._compute(o,t))]);return t.val={pre:n}}_compute(t,n){try{return super._compute(t,n)}catch(a){return Object.freeze({val:NaN,meta:{formula:`${a}`,deps:[],omitted:[],val:NaN,x:[],br:[],comp:"ERR",pivot:!0,toJSON:Xa}})}}markGathered(t,n,a,o){const c=`${this.tagStr(n)} <- ${this.tagStr(t)}`;return{...o,meta:{...o.meta,readSeq:c,pivot:!0}}}computeMeta(t,n,a,o,c){let s,r;const u=a.filter(y=>y).map(y=>y.meta),g=o.map(y=>y.meta),w=[],D=t.op==="read"?t.ex:t.op,S=[];if(D in hn){const y=hn[D]([]);for(const b of[...g,...u])b.val!==y||this.filter(b)?w.push(b):S.push(b)}else w.push(...g,...u);switch(t.op){case"const":s=Qa(t.ex);break;case"read":r=`gather ${u.length} node(s)`,r+=` matching ${this.tagStr(c,t.ex)}`,r+=` (for ${this.tagStr(t.tag)})`,S.length&&(r+=` <${S.length} omitted>`),s=`${this.tagStr(t.tag)}`;break;default:{const y=[];t.ex&&t.op!=="subscript"&&y.push(JSON.stringify(t.ex)),t.tag&&y.push(this.tagStr(t.tag)),y.push(...w.map(b=>b.comp)),S.length&&y.push(`<${S.length} omitted>`),s=`${t.op}(`+y.join(", ")+")"}}return S.push(...w.flatMap(y=>y.pivot?[]:y.omitted)),Object.freeze({formula:`[${Qa(n)}] ${r??s}`,deps:[...new Set(w.flatMap(y=>y.pivot?[y]:y.deps))],omitted:[...new Set(S)],val:n,x:u,br:g,comp:s,pivot:t.op==="read",toJSON:Xa})}}const Qa=e=>typeof e=="string"?`"${e}"`:e.toString();function Xa(){const{formula:e,readSeq:t,deps:n}=this,a={readSeq:t,formula:e,deps:n};return a.readSeq||delete a.readSeq,a.deps.length||delete a.deps,Object.keys(a).length===1?a.formula:a}function ii(e){const{database:t}=ge();return Ol(t.chars,e)}function om(e){const{database:t}=ge();return Ol(t.charOpts,e)}const{arithmetic:sm}=im;let cm=class extends ld{computeMeta({op:t,ex:n,tag:a},o,c,s,r){let u=c.filter(y=>!!y);const g=lm(u,s);function w(y){return Object.freeze(r&&!y.tag?{tag:r,...y}:y)}function D(y,b){return w({op:y,ops:b,...g})}function S(y,b){let{meta:k}=y;return b!=null&&b.some(R=>!k.usedCats.has(R))&&(k={...k,usedCats:new Set([...k.usedCats,...b])}),w(k.conds===g.conds?k:{...k,...g})}if(t==="read"&&(r==null?void 0:r.qt)==="cond"){const{src:y,dst:b,sheet:k,q:R}=r;y&&k&&R&&(g.conds=Xn(g.conds,{[b??"All"]:{[y]:{[k]:{[R]:o}}}}))}switch(t==="read"&&n!=="unique"&&([t,n]=[n,void 0]),t){case"sum":case"prod":case"min":case"max":case"sumfrac":if(u.length>1){const y=sm[t]([]);u=u.filter(b=>b.val!==y)}return u.length===1?S(u[0]):D(u.length?t:"const",u);case"const":case"subscript":return D("const",[]);case"vtag":return g.usedCats=new Set([n]),D("const",[]);case"match":case"thres":case"lookup":case"read":return S(u[0]);case"tag":return S(u[0],Object.keys(a));case"dtag":return S(u[0],n);case"custom":return D(n,u);default:Ed(t)}}markGathered(t,n,a,o){const{val:c}=o,s={...o.meta};let r=!1;const u=new Set([...s.usedCats,...Object.keys(n)]);return s.usedCats.size!==u.size&&(s.usedCats=u,r=!0),r?{val:c,meta:Object.freeze(s)}:o}listFormulas(t){return this.gather(t.tag).filter(n=>n.val).map(({val:n,meta:a})=>Vd.withTag(a.tag)[n])}listCondFormulas(t){return this.listFormulas(t).map(n=>this.compute(n).meta.conds).reduce(Xn,{})}};function lm(e,t){var s;const n=[...e.map(r=>r.meta),...t.map(r=>r.meta)];let a={},o=new Set;for(const r of n)a=Xn(a,r.conds),r.usedCats.forEach(u=>o.add(u));const c=o.size;return o=((s=n.find(r=>r.usedCats.size===c))==null?void 0:s.usedCats)??o,{usedCats:o,conds:a}}function Xn(e,t){if(e===t)return e;if(typeof e!="object")throw new Error(`cannot merge ${e} and ${t}`);if(Object.keys(t).length>Object.keys(e).length&&([e,t]=[t,e]),!Object.keys(t).length)return e;let n=!1;const a={...e};for(const[o,c]of Object.entries(t)){const s=a[o],r=o in a?Xn(s,c):c;s!==r&&(a[o]=r,n=!0)}return Object.freeze(n?a:e)}function dm(e){const t=new Set(e);return n=>!rm(n,t)}function rm(e,t){const n=e.formula.match(/(\S+) (\S+) common.count/);if(!n)return!1;const[,a,o]=n;return o==="own"&&t.has(a)}class mm extends cm{toDebug(){return new am(this,Pd,dm([...ql,...Fl]))}defaultAccu(t){var o,c,s,r;const{qt:n,q:a}=t;if(!(!n||!a))switch(t.et){case"own":case"target":return(c=(o=Al[n])==null?void 0:o[a])==null?void 0:c.accu;case"enemy":return(r=(s=Od[n])==null?void 0:s[a])==null?void 0:r.accu;case"team":if(n==="common"&&a==="count")return"sum";throw new Error("non-explicit team value accumulator")}}listFormulas(t){return super.listFormulas(t).filter(n=>n.tag.qt!=="formula"||["standardDmgInst","sheerDmgInst","anomalyDmgInst","anomalyBuildupInst","dazeInst"].includes(n.tag.name??""))}}function Un(e,...t){return t.map(({tag:n,value:a})=>({tag:{...n,preset:e},value:a}))}function dd(e,...t){return t.map(({tag:n,value:a})=>({tag:{...n,src:e},value:a}))}function rd(e){const{lvl:t,promotion:n,basic:a,dodge:o,special:c,chain:s,assist:r,core:u,mindscape:g}=j.char,{char:w,iso:D,[e.key]:S}=F.withAll("sheet",[]);return[w.reread(S),D.reread(S),t.add(e.level),a.add(e.basic),o.add(e.dodge),c.add(e.special),s.add(e.chain),r.add(e.assist),u.add(e.core),n.add(e.promotion),g.add(e.mindscape),Jn.base.crit_.add(.05),Jn.base.crit_dmg_.add(.5)]}function um(e){return[F.sheet("agg").reread(F.sheet("wengine")),...e?[j.common.count.sheet(e.key).add(1),j.wengine.lvl.add(e.level),j.wengine.modification.add(e.modification),j.wengine.phase.add(e.phase)]:[]]}function md(e,t){const{common:{count:n},initial:a}=Ld(Al,{sheet:"disc",et:"own"});return[F.sheet("agg").reread(F.sheet("disc")),F.withTag({sheet:"disc",qt:"initial"}).reread(F.sheet("dyn")),...Object.entries(e).map(([o,c])=>Hd(a,o).sheet("dyn").add(c)),...Object.entries(t).map(([o,c])=>n.sheet(o).add(c))]}function hm(e){const t={},n={};return e.forEach(({setKey:a,mainStatKey:o,substats:c,level:s,rarity:r})=>{t[a]=(t[a]??0)+1,n[o]=(n[o]??0)+Fd(r,o,s),c.forEach(({key:u,upgrades:g})=>{!u||!g||(n[u]=(n[u]??0)+jd(u,r)*g)})}),md(n,t)}function ud(e){const t=F.with("et","team"),{own:n,enemy:a,teamBuff:o,notOwnBuff:c}=F.sheet("agg").withAll("et",[]);return[e.map(s=>F.withTag({et:"target",dst:s}).reread(F.withTag({et:"own",dst:null,src:s}))),e.flatMap(s=>{const r=n.with("src",s);return e.map(u=>r.reread(o.withTag({dst:s,src:u,name:null})))}),e.flatMap(s=>{const r=n.with("src",s);return e.filter(u=>u!==s).map(u=>r.reread(c.withTag({dst:s,src:u,name:null})))}),e.map(s=>a.reread(F.withTag({et:"enemyDeBuff",dst:null,src:s,name:null}))),e.flatMap((s,r)=>{const{stackIn:u,stackTmp:g}=F.withAll("qt",[]),w=F.withTag({src:s,et:"own"});return[w.with("qt","stackTmp").add(Ad(u,0,r+1)),w.with("qt","stackOut").add(qd(g.max.with("et","team"),r+1,u))]}),e.map(s=>t.add(F.withTag({src:s,et:"own"})))].flat()}function hd(e){const t=jl(Yn,e);return new mm(Yn,Kd,t)}function fm(e){return new nm(Yn,jl(Yn,e))}function gm({characterKey:e}){return i(Zn,{ns:"charNames_gen",key18:e})}function pm({attribute:e}){return ze[e]}function _m({characterKey:e,onClick:t,charCardConfig:n}){const{level:a=0,promotion:o=0}=ii(e)??{},c=he(e),s=n||{cardWidth:"100%",charImgWidth:"100%",iconsSize:1.7,isEditing:!1,charNameWidth:"191px",charNameVariant:"h6",scrollingBgSize:"200px"},r=v.useCallback(()=>e&&(t==null?void 0:t(e)),[e,t]),u=v.useCallback(g=>i(xa,{onClick:r,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:g}),[r]);return i(fn,{children:i(Wd,{condition:!!t,wrapper:u,children:x(ie,{sx:{display:"flex",flexDirection:"column",width:s.cardWidth},children:[i(ym,{characterKey:e,characterStat:c,charCardConfig:s}),i($m,{characterKey:e,characterStat:c,promotion:o,level:a,charCardConfig:s})]})})})}function ym({characterKey:e,characterStat:t,charCardConfig:n}){const{attribute:a,id:o}=t;return x(ie,{sx:s=>({width:"100%",height:"100%",position:"relative",display:"flex",background:`${s.palette[a].main}`,zIndex:1,overflow:"hidden"}),children:[x(ie,{sx:{position:"absolute",left:"0",right:"0",display:"flex",transform:"rotate(5deg) translateX(-50%)",zIndex:2},children:[i(eo,{characterKey:e,charCardConfig:n}),i(eo,{characterKey:e,charCardConfig:n})]}),i(ie,{src:`https://act-webstatic.hoyoverse.com/game_record/zzzv2/role_vertical_painting/role_vertical_painting_${o}.png`,component:Qn?Qn:"img",width:n.charImgWidth,height:"auto",position:"relative",zIndex:"2"})]})}function $m({characterKey:e,characterStat:t,promotion:n,level:a,charCardConfig:o}){const{t:c}=Q("page_characters"),{attribute:s,rarity:r,specialty:u}=t,g=ii(e);return i(ie,{sx:{width:"100%",height:"100%",padding:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:x(ie,{sx:{display:"flex",flexDirection:"column"},children:[x(ie,{gap:1,sx:{display:"flex",alignItems:"center"},children:[i(te,{size:o.iconsSize,src:Ll(r)}),i(P,{variant:o.charNameVariant,sx:{fontWeight:"900",maxWidth:o.charNameWidth,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:i(gm,{characterKey:e})}),i(Nd,{ele:s,iconProps:{sx:{fontSize:`${o.iconsSize}em`}}}),i(te,{size:o.iconsSize,src:Hl(u)}),o.isEditing?"":i(P,{variant:"h5",color:"primary",sx:{fontWeight:"900"},children:c("mindscape",{level:g?g.mindscape:0})})]}),o.isEditing?"":x(ie,{sx:{mt:"12px",display:"flex",gap:"14px",flexWrap:"wrap"},children:[x(ie,{sx:w=>({border:`2px solid ${w.palette.contentZzz.main}`,borderRadius:"20px",display:"flex"}),children:[i(P,{sx:{fontWeight:"900",paddingLeft:"12px",fontSize:"16px"},children:c("charLevel",{level:a})}),x(P,{color:"primary",sx:{fontWeight:"900",paddingLeft:"4px",pr:"10px"},children:["/ ",Kl[n]]})]}),x(ie,{gap:1.5,sx:{display:"flex",alignItems:"center"},children:[wa.map((w,D)=>i(Ya,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${g?g[w]:0}`,color:"primary",children:i(te,{size:1.9,src:we(w)})},D)),i(Ya,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${g?g.core:0}`,color:"primary",children:i(te,{size:1.9,src:we("core")})},6)]})]})]})})}function eo({characterKey:e,charCardConfig:t}){const{t:n}=Q("charNames_gen"),a={animation:"scroll 16s infinite linear","@keyframes scroll":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(0)"}}};return i(ie,{component:"span",sx:{color:"#000",marginTop:"20px",fontStyle:"italic",fontSize:t.scrollingBgSize,lineHeight:"150px",whiteSpace:"nowrap",textTransform:"uppercase",display:"flex",justifyContent:"center",fontFamily:"Impact",opacity:.1,...a},children:n(`${e}`)})}function bm({mindscape:e,setMindscape:t}){const{t:n}=Q("page_characters");return i(z,{sx:{display:"flex",flexWrap:"wrap",gap:2,mt:"12px"},children:va(1,6).map(a=>i(z,{children:i(fn,{sx:{position:"relative",borderRadius:"40px"},children:i(Xr,{control:i(Ud,{checked:e>=a,onChange:()=>t(a===e?a-1:a)}),label:x(z,{sx:{position:"absolute",top:9,left:e>=a?75:16,transition:"left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",textAlign:"center"},children:[i(P,{variant:"subtitle1",sx:o=>({fontWeight:900,color:e>=a?o.palette.mindscapeActive.main:o.palette.mindscapeInactive.main}),children:n("mindscape",{level:a})}),i(P,{variant:"subtitle2",sx:o=>({lineHeight:.2,fontWeight:900,color:e>=a?o.palette.mindscapeActive.main:o.palette.mindscapeInactive.main}),children:n("mindscapeTitle")})]}),sx:{margin:0}})})},a))})}function xm(e){return{new:t=>e.chars.get(t)?0:1,name:t=>Wl.t(t).toString(),level:t=>{const n=e.chars.get(t);return n?n.level*(n.promotion+1):0},rarity:t=>he(t).rarity??0}}function wm(e){return{attribute:(t,n)=>n.includes(he(t).attribute),specialtyType:(t,n)=>n.includes(he(t).specialty),rarity:(t,n)=>n.includes(he(t).rarity),name:(t,n)=>n===void 0||Wl.t(t).toLowerCase().includes(n.toLowerCase()),new:(t,n)=>n===void 0||n===(e.chars.get(t)?"no":"yes")}}const fd={name:["name"],level:["level","rarity","name"],rarity:["rarity","level","name"]};function pb({show:e,onHide:t,onSelect:n,newFirst:a=!1}){const{database:o}=ge(),c=Nl(o.displayCharacter),[s,r]=v.useState(""),u=v.useDeferredValue(s),g=v.useDeferredValue(c),w=v.useMemo(()=>{const{attribute:y,specialtyType:b,sortType:k,ascending:R}=g,L=[...a?["new"]:[],...fd[k]??[]];return Gd.filter(Ul({attribute:y,specialtyType:b,name:u},wm(o))).sort(Jd(L,R,xm(o),["new"]))},[g,a,u,o]);return i(km,{show:e,charactersToShow:w,filterSearchSortProps:{searchTerm:s,onChangeSpecialtyFilter:y=>{o.displayCharacter.set({specialtyType:y})},onChangeAttributeFilter:y=>{o.displayCharacter.set({attribute:y})},onChangeSearch:y=>{r(y.target.value)},onChangeSort:y=>{o.displayCharacter.set({sortType:y})},onChangeAsc:y=>{o.displayCharacter.set({ascending:y})}},onClose:()=>{r(""),t()},children:i(fe,{sx:{flex:"1",overflow:"auto"},children:i(v.Suspense,{fallback:i(Be,{variant:"rectangular",width:"100%",height:1e3}),children:i(Z,{container:!0,spacing:.5,columns:{xs:2,sm:3,md:4,lg:5},children:w.map(y=>i(Z,{item:!0,xs:1,children:i(Ue,{bgt:"light",sx:b=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",borderRadius:"40px 16px 16px 40px",border:`3px solid ${b.palette.contentZzz.main}`}),children:i(Cm,{characterKey:y,onClick:()=>{t(),n(y)}})})},y))})})})})}const vm=Object.keys(fd);function km({show:e,charactersToShow:t,filterSearchSortProps:n,onClose:a,children:o}){const{t:c}=Q("page_characters"),{database:s}=ge(),r=Nl(s.displayCharacter),u=v.useMemo(()=>Ua(Gl,b=>s.chars.entries.forEach(([k,R])=>{const L=he(R.key).specialty;b[L].total++,t.includes(k)&&b[L].current++})),[t,s.chars.entries]),g=v.useMemo(()=>Ua(Ke,b=>Object.entries(s.chars.data).forEach(([k])=>{const R=he(k).attribute;b[R].total++,t.includes(k)&&b[R].current++})),[t,s.chars.data]),{specialtyType:w,attribute:D,sortType:S,ascending:y}=r;return i(Sa,{open:e,onClose:a,containerProps:{sx:{height:"100vh",p:{xs:1}}},children:x(Ue,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[x(fe,{sx:{display:"flex",flexDirection:"column",gap:1},children:[x(z,{sx:{display:"flex",justifyContent:"space-between"},children:[x(z,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[i(Qd,{onChange:b=>s.displayCharacter.set({specialtyType:b}),value:w,totals:u,size:"small"}),i(Xd,{onChange:b=>s.displayCharacter.set({attribute:b}),value:D,totals:g,size:"small"})]}),i(ka,{sx:{ml:"auto"},onClick:()=>a(),children:i(Ca,{})})]}),x(z,{display:"flex",gap:1,children:[i(er,{autoFocus:!0,value:n.searchTerm,onChange:b=>n.onChangeSearch(b),label:c("characterName"),size:"small",sx:{height:"100%",mr:"auto"},InputProps:{sx:{height:"100%"}}}),i(tr,{sortKeys:vm,value:S,onChange:b=>n.onChangeSort(b),ascending:y,onChangeAsc:b=>n.onChangeAsc(b)})]})]}),i(un,{}),o]})})}function Cm({characterKey:e,onClick:t}){const{t:n}=Q(["page_characters","charNames_gen"]),a=Yd(),o=ii(e),{rarity:c,attribute:s}=he(e),{level:r=1,promotion:u=0,mindscape:g=0}=o??{},w=s==="electric"?a.palette[s].light:a.palette[s].main;return i(xa,{onClick:t,children:x(z,{sx:{position:"relative",width:"100%",display:"flex",padding:"3px",gap:.5,"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,background:w}},children:[i(z,{sx:{maxWidth:{xs:"33%",lg:"30%"},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,flexShrink:1},children:i(z,{component:Qn?Qn:"img",src:Zd(e,"interknot")})}),x(z,{sx:{display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly"},children:[x(z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[i(te,{size:1.5,src:Ll(c)}),i(P,{variant:"subtitle2",sx:D=>({flexGrow:1,color:D.palette.contentNormal.main,fontWeight:"900"}),children:n(`charNames_gen:${e}`)})]}),o?x(z,{sx:D=>({display:"flex",gap:1,alignItems:"center",background:D.palette.contentNormal.main,padding:"4px 12px",borderRadius:"20px"}),children:[x(z,{sx:{textShadow:"0 0 5px gray"},children:[i(P,{variant:"body2",component:"span",whiteSpace:"nowrap",children:n("charLevel",{level:r})}),x(P,{variant:"body2",component:"span",color:"text.secondary",children:["/",Kl[u]]})]}),x(P,{variant:"body2",children:["M",g]})]}):i(P,{component:"span",variant:"body2",children:i($a,{color:"electric",children:n("characterEditor.new")})})]})]})})}function Sm(){const{t:e}=Q("page_characters"),{database:t}=ge(),n=ni(),{core:a=0,promotion:o=0,key:c}=n??{},s=v.useCallback(r=>c&&t.chars.set(c,{core:r}),[t,c]);return i(Yl,{fullWidth:!0,title:e("core",{level:a}),color:"primary",startIcon:i(te,{src:we("core"),size:1.75,sideMargin:!0}),children:va(0,nr[o]).map(r=>i(Jl,{selected:a===r,disabled:a===r,onClick:()=>s(r),children:e("core",{level:r})},r))})}const Dm={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3};function gd({disc:e,onChangeId:t,slotKey:n,show:a,onClose:o}){const{t:c}=Q(["page_characters","disc"]),{database:s}=ge(),r=e==null?void 0:e.id,u=v.useCallback((I,E)=>({...I,...E,slotKeys:[n]}),[n]),[g,w]=v.useReducer(u,{...Fr(),slotKeys:[n]}),D=ir(),S=v.useMemo(()=>jr(),[]),y=ar(s.discs),b=y.filter(I=>I.slotKey===g.slotKeys[0]).length,k=v.useMemo(()=>{const I=Ul(g,S);let E=y.filter(I).map(q=>q.id);return r&&s.discs.get(r)&&(E=E.filter(q=>q!==r),E.unshift(r)),E},[g,S,y,r,s.discs]),{numShow:R,setTriggerElement:L}=or(Dm[D],k.length),N=v.useMemo(()=>k.slice(0,R),[k,R]),le=k.length!==b?`${k.length}/${b}`:`${b}`,de={numShowing:N.length,total:le,t:c,namespace:"disc"},W=v.useCallback(I=>{sr.includes(I)?t(null):I&&t(I),o()},[t,o]);return i(Sa,{open:a,onClose:o,containerProps:{maxWidth:"xl"},children:x(Ue,{children:[x(fe,{sx:{py:1,display:"flex",alignItems:"center"},children:[i(P,{variant:"h6",children:c("tabEquip.swapDisc")}),i(ka,{onClick:o,sx:{ml:"auto"},children:i(Ca,{})})]}),i(un,{}),i(fe,{children:i(v.Suspense,{fallback:i(Be,{variant:"rectangular",width:"100%",height:200}),children:i(cr,{filterOption:g,filterOptionDispatch:w,filteredIds:k,disableSlotFilter:!0})})}),i(un,{}),x(fe,{children:[i(z,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:i(lr,{showingTextProps:de})}),i(z,{mt:1,children:i(v.Suspense,{fallback:i(Be,{variant:"rectangular",width:"100%",height:1e3}),children:x(Z,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:[r&&i(Z,{item:!0,xs:1,children:i(Ue,{bgt:"light",sx:{width:"100%",height:"100%"},children:i(xa,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>W(n),children:x(z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[i(dr,{sx:{fontSize:"10em"}}),i(P,{children:c("disc:button.unequipDisc")})]})})})}),N.map(I=>i(Z,{item:!0,xs:1,sx:E=>({...r===I&&{"> .MuiCard-root":{outline:`${E.spacing(.5)} solid ${E.palette.warning.main}`}}}),children:i(Zl,{disc:s.discs.get(I),onClick:r===I?void 0:()=>W(I)})},I))]})})}),k.length!==N.length&&i(Be,{ref:I=>{I&&L(I)},sx:{borderRadius:1,mt:1},variant:"rectangular",width:"100%",height:100})]})]})})}function Rm(e){return"fieldRef"in e}var Xt={},to;function Im(){if(to)return Xt;to=1;var e=rr();Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0;var t=e(mr()),n=ur(),a=(0,t.default)((0,n.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");return Xt.default=a,Xt}var zm=Im();const _n=hr(zm),Mm={xs:1,sm:2,md:3,lg:3,xl:3};function Bm({setWengine:e,setDisc:t}){const{database:n}=ge(),a=v.useContext(Ql),[o,c]=v.useState(),[s,r]=v.useState(""),u=v.useCallback(b=>{r(b)},[]),g=v.useCallback(b=>{c(b)},[]),w=Xl(a==null?void 0:a.equippedWengine),D=a?he(a.key).specialty:Gl[0],S=ed(a==null?void 0:a.equippedDiscs),y=fr(o);return i(z,{children:x(El,{spacing:2,children:[i(v.Suspense,{fallback:!1,children:s&&i(gr,{wengineId:s,footer:!0,onClose:()=>r(""),extraButtons:i(Om,{wengineId:(w==null?void 0:w.id)||"",wengineTypeKey:D,onChangeId:e})})}),i(v.Suspense,{fallback:!1,children:y&&i(pr,{disc:y,show:!!o,onShow:()=>c(o),onClose:()=>c(void 0),cancelEdit:()=>c(void 0)})}),i(z,{children:w!=null&&w.id?i(_r,{wengine:w,onEdit:()=>u(w.id),extraButtons:i(Pm,{wengineId:w.id,wengineTypeKey:D,onChangeId:e})}):i(Tm,{wengineId:"",wengineTypeKey:D,onChangeId:e})}),i(z,{children:i(Z,{item:!0,columns:Mm,container:!0,spacing:1,children:!!S&&Object.entries(S).map(([b,k])=>i(Z,{item:!0,xs:1,children:k!=null&&k.id?i(Zl,{disc:k,extraButtons:i(Vm,{disc:k,slotKey:b,onChangeId:R=>t(b,R)}),onEdit:()=>g(k.id),onLockToggle:()=>n.discs.set(k.id,({lock:R})=>({lock:!R}))}):i(Em,{slotKey:b,onChangeId:R=>t(b,R)})},(k==null?void 0:k.id)||b))})})]})})}function Tm({wengineId:e,wengineTypeKey:t,onChangeId:n}){const[a,o,c]=gn();return x(fn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i(fe,{children:x(P,{children:[i(te,{src:Hl(t)})," "]})}),i(un,{}),x(z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i(Da,{wengineId:e,wengineTypeKey:t,show:a,onClose:c,onChangeId:n}),i(Ge,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:i(_n,{sx:{height:100,width:100}})})]})]})}function Em({slotKey:e,onChangeId:t}){const[n,a,o]=gn(),{t:c}=Q("disc");return x(fn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i(fe,{children:i(P,{children:c("slotName",{slotKey:e})})}),i(un,{}),x(z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i(gd,{disc:void 0,slotKey:e,show:n,onClose:o,onChangeId:t}),i(Ge,{onClick:a,color:"info",sx:{borderRadius:"1em"},children:i(_n,{sx:{height:100,width:100}})})]})]})}function Vm({disc:e,slotKey:t,onChangeId:n}){const{t:a}=Q("page_characters"),[o,c,s]=gn();return x(pn,{children:[i(td,{title:i(P,{children:a("tabEquip.swapDisc")}),placement:"top",arrow:!0,children:i(Ge,{color:"info",size:"small",onClick:c,"aria-label":a("tabEquip.swapDisc"),children:i(_n,{})})}),i(gd,{disc:e,slotKey:t,show:o,onClose:s,onChangeId:n})]})}function Pm({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:a}=Q("page_characters"),[o,c,s]=gn();return x(pn,{children:[i(td,{title:i(P,{children:a("tabEquip.swapWengine")}),placement:"top",arrow:!0,children:i(Ge,{color:"info",size:"small",onClick:c,children:i(_n,{})})}),i(Da,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:o,onClose:s})]})}function Om({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:a}=Q("page_characters"),[o,c,s]=gn();return x(pn,{children:[i(Ge,{color:"info",onClick:c,startIcon:i(_n,{}),children:a("tabEquip.swapWengine")}),i(Da,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:o,onClose:s})]})}function Am({skillKey:e}){const{database:t}=ge(),{t:n}=Q("page_characters"),a=ni(),{[e]:o=0,promotion:c=0,key:s}=a??{},r=v.useCallback(u=>s&&t.chars.set(s,{[e]:u}),[t,s,e]);return i(Yl,{fullWidth:!0,title:n(e,{level:o}),color:"primary",startIcon:i(te,{src:we(e),size:1.75,sideMargin:!0}),children:va(1,yr[c]).map(u=>i(Jl,{selected:o===u,disabled:o===u,onClick:()=>r(u),children:n(e,{level:u})},u))})}function ai(){const e=v.useContext(Ra),t=v.useContext($r);return v.useMemo(()=>e==null?void 0:e.withTag(t),[e,t])}const A=(e,t)=>i(Zn,{ns:"sheet",key18:e,values:t});function m(e,t){return[(n,a)=>i(Zn,{ns:`${e}_${t}_gen`,key18:n,values:a}),(n,a)=>i(Zn,{ns:`${e}_${t}`,key18:n,values:a})]}function d(e){return{title:i(oi,{tag:e}),fieldRef:e}}function qm(e){if(!e)return"";const{et:t,q:n,qt:a,name:o}=e;return t==="own"&&a==="formula"&&n!=="base"?o??n??"":n??""}const Fm={initial:"Initial",combat:"Combat",final:"Final",base:"Base"};function oi({tag:e,showPercent:t,preventRecursion:n}){return i(We,{color:lb(e),children:i(Hm,{tag:e,showPercent:t,preventRecursion:n})})}function _b({tag:e,showPercent:t}){return x(pn,{children:[i(oi,{tag:e,showPercent:t}),rb(e).map(n=>i($a,{children:ei[n]},n)),e.attribute&&i($a,{color:e.attribute,children:i(pm,{attribute:e.attribute})})]})}const jm=["hp","hp_","atk","atk_","def","def_"],Lm=e=>jm.includes(e),no={dmg_:"DMG",common_dmg_:"DMG",defIgn_:"DEF Ignore",resIgn_:"Res Ignore",dazeInc_:"Daze Increase",buff_:"Buff Bonus"};function Hm({tag:e,showPercent:t,preventRecursion:n}){var s;const a=ai(),o=(s=mb.subset(e)[0])==null?void 0:s.title;if(o&&!n)return o;if(e.qt==="cond"&&e.q&&e.sheet&&a){const r=ba.get(`${e.sheet}:${e.q}`);if(r)return br(r.label,a,a==null?void 0:a.compute(new xr(e,"max")).val)}const c=qm(e);if(Lm(c))return x("span",{children:[i(vr,{statKey:c,iconProps:wr})," ",x("span",{children:[(e.qt&&Fm[e.qt])??e.qt," ",kr[c],t&&nd(c)]})]});if(no[c]){const r=[...e.attribute?[ze[e.attribute]]:[],...e.damageType1?[ei[e.damageType1]]:[],...e.damageType2?[ei[e.damageType2]]:[],no[c]];return i("span",{children:r.join(" ")})}return i(rn,{statKey:c,showPercent:t})}function Km(){const e=ai();return i(fn,{children:i(fe,{children:e==null?void 0:e.listFormulas(j.listing.formulas).map((t,n)=>i(Wm,{read:t},n))})})}function Wm({read:e}){var k,R,L,N,le,de,W;const t=ai(),{setRead:n}=v.useContext(Cr),a=ni(),o=om(a==null?void 0:a.key),c=e.tag.sheet===((k=o==null?void 0:o.target)==null?void 0:k.sheet)&&e.tag.name===((R=o==null?void 0:o.target)==null?void 0:R.name)||((L=o==null?void 0:o.target)==null?void 0:L.q)===e.tag.q,s=v.useMemo(()=>{var I,E,q,re;return e.tag.sheet===((I=o==null?void 0:o.target)==null?void 0:I.sheet)&&e.tag.name===((E=o==null?void 0:o.target)==null?void 0:E.name)?Sr(e.tag,(q=o==null?void 0:o.target)==null?void 0:q.damageType1,(re=o==null?void 0:o.target)==null?void 0:re.damageType2):e.tag},[e.tag,(N=o==null?void 0:o.target)==null?void 0:N.sheet,(le=o==null?void 0:o.target)==null?void 0:le.name,(de=o==null?void 0:o.target)==null?void 0:de.damageType1,(W=o==null?void 0:o.target)==null?void 0:W.damageType2]),r=v.useMemo(()=>({...e,tag:s}),[s,e]),u=t==null?void 0:t.compute(r),g=s.name||s.q,{statHighlight:w,setStatHighlight:D}=v.useContext(Dr),S=s.name?"":s.attribute?`${s.attribute}_${s.q}`:s.q==="cappedCrit_"?"crit_":s.q==="anom_cappedCrit_"?"anom_crit_":s.q,y=S?Rr(w,S):!1;if(!u)return null;const b=Ir(u.val,nd(g??""));return x(z,{onMouseEnter:()=>S&&D(S),onMouseLeave:()=>D(""),sx:{display:"flex",gap:1,alignItems:"center",p:.5,borderRadius:.5,backgroundColor:c?"rgba(0,200,0,0.2)":void 0,position:"relative","::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:.5,backgroundColor:zr(y),transition:"background-color 0.3s ease-in-out",pointerEvents:"none"}},children:[i(z,{sx:{flexGrow:1},children:i(oi,{tag:s})}),b,i(Mr,{tag:s,onClick:()=>{}})]})}function yb({characterKey:e,onClose:t}){return i(Sa,{open:!!e,onClose:t,children:i(v.Suspense,{fallback:i(Be,{variant:"rectangular",width:"100%",height:1e3}),children:e&&i(Nm,{characterKey:e,onClose:t},e)})})}function Nm({characterKey:e,onClose:t}){const n=ii(e);return i(Ue,{children:i(fe,{sx:{display:"flex",flexDirection:"column",gap:1},children:i(v.Suspense,{fallback:i(Be,{variant:"rectangular",width:"100%",height:1e3}),children:n?i(Ql.Provider,{value:n,children:i(Gm,{onClose:t})}):i(Be,{variant:"rectangular",width:"100%",height:1e3})})})})}const Um={cardWidth:"500px",charImgWidth:"75%",iconsSize:1.5,isEditing:!0,charNameWidth:"166px",charNameVariant:"h6",scrollingBgSize:"220px"};function Gm({onClose:e}){const{t}=Q(["page_characters"]),n=Br(),{database:a}=ge(),o=ni(),{key:c,equippedDiscs:s,equippedWengine:r}=o,u=v.useCallback(async()=>{const g=t(`${c}`);window.confirm(t("removeCharacter",{value:g}))&&(a.chars.remove(c),n("/characters"))},[a,n,c,t]);return x(z,{display:"flex",flexDirection:"column",gap:1,children:[x(z,{display:"flex",gap:1,children:[i(Ge,{color:"error",onClick:()=>u(),startIcon:i(Tr,{}),sx:{marginLeft:"auto"},children:t("characterEditor.delete")}),!!e&&i(ka,{onClick:e,children:i(Ca,{})})]}),i(z,{children:x(Z,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[i(Z,{item:!0,xs:6,sm:4,md:4,lg:4,xl:4,children:x(Ue,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[i(_m,{characterKey:c,charCardConfig:Um}),i(z,{sx:{px:1},children:i(Er,{level:o.level,milestone:o.promotion,setBoth:({level:g,milestone:w})=>a.chars.set(c,{level:g,promotion:w})})}),i(Km,{}),i(bm,{mindscape:o.mindscape,setMindscape:g=>a.chars.set(c,{mindscape:g})})]})}),x(Z,{item:!0,xs:6,sm:8,md:8,lg:8,xl:8,sx:{display:"flex",flexDirection:"column",gap:1},children:[i(z,{children:x(Z,{container:!0,columns:3,spacing:1,children:[wa.map(g=>i(Z,{item:!0,xs:1,children:i(Am,{skillKey:g},g)},g)),i(Z,{item:!0,xs:1,children:i(Sm,{})},"core")]})}),i(z,{children:i(Bm,{setWengine:g=>{g?a.wengines.set(g,{location:c}):r&&a.wengines.set(r,{location:""})},setDisc:(g,w)=>{w?a.discs.set(w,{location:c}):s[g]&&a.discs.set(s[g],{location:""})}})})]})]})})]})}function $b({character:e,charOpt:t,wengineId:n,discIds:a,children:o}){const c=Jm(e,n,a),s=v.useMemo(()=>hd([...ud([e.key]),...c,Jn.common.critMode.add(t.critMode),ce.common.lvl.add(t.enemyLvl),ce.common.def.add(t.enemyDef),ce.common.isStunned.add(t.enemyisStunned?1:0),ce.common.stun_.add(t.enemyStunMultiplier/100),ce.common.unstun_.add(1),...t.conditionals.flatMap(({sheet:u,src:g,dst:w,condKey:D,condValue:S})=>Un("preset0",id(u,g,w)(D,S))),...t.bonusStats.filter(({disabled:u})=>!u).flatMap(({tag:u,value:g})=>Un("preset0",{tag:{...u,src:e.key,sheet:"agg",et:"own"},value:Ga(Ja(g,u.q??""))})),...t.enemyStats.flatMap(({tag:u,value:g})=>Un("preset0",{tag:{...u,qt:"common",et:"enemy",sheet:"agg"},value:Ga(Ja(g,u.q??""))}))]),[c,t,e.key]),r=v.useMemo(()=>s&&new Map,[s]);return i(Vr.Provider,{value:r,children:i(Ra.Provider,{value:s,children:o})})}function Jm(e,t,n){const a=Xl(t),o=ed(n),c=v.useMemo(()=>um(a),[a]),s=v.useMemo(()=>hm(Object.values(o).filter(Pr)),[o]);return v.useMemo(()=>dd(e.key,...rd(e),...c,...s),[e,c,s])}function bb({character:e,conditionals:t,children:n}){const a=v.useMemo(()=>hd([...ud([e.key]),...dd(e.key,...rd(e),...md({},ad(Fl,()=>4)),F.sheet("agg").reread(F.sheet("wengine")),j.wengine.lvl.add(60),j.wengine.modification.add(5),j.wengine.phase.add(1),...ql.map(o=>j.common.count.sheet(o).add(1))),Jn.common.critMode.add("avg"),ce.common.lvl.add(100),ce.common.def.add(900),ce.common.isStunned.add(0),ce.common.stun_.add(1.5),ce.common.unstun_.add(1),...t.flatMap(({sheet:o,src:c,dst:s,condKey:r,condValue:u})=>Un("preset0",id(o,c,s)(r,u)))]),[e,t]);return i(Ra.Provider,{value:a,children:n})}function C(e,t={}){return{...Ym(e,t==null?void 0:t.perSkillAbility),core:Qm(e,t==null?void 0:t.core,t==null?void 0:t.ability),m1:Ee(e,1,t==null?void 0:t.m1),m2:Ee(e,2,t==null?void 0:t.m2),m3:Ee(e,3,t==null?void 0:t.m3),m4:Ee(e,4,t==null?void 0:t.m4),m5:Ee(e,5,t==null?void 0:t.m5),m6:Ee(e,6,t==null?void 0:t.m6)}}function l(e){return{title:i(oi,{tag:e.tag,preventRecursion:!0}),fieldRef:e.tag}}function Ym(e,t){const n=$.char[e],a=O[e],[o,c]=m("char",e);return ad(wa,s=>({title:s,img:we(`${s}Flat`),documents:Object.keys(n[s]).flatMap(r=>{var u;return[{type:"text",header:{icon:i(te,{src:we(`${s}Flat`),size:1.5}),text:o(`${s}.${r}.name`)},text:o(`${s}.${r}.desc`)},{type:"fields",fields:Object.values(a).filter(g=>g.name.includes(r)).map(g=>({title:Zm(e,s,g.name),fieldRef:g.tag}))},...((u=t==null?void 0:t[s])==null?void 0:u[r])??[]]})}))}function Zm(e,t,n){const[a,o,c]=n.split("_");return A(c,{val:`$t(char_${e}_gen:${t}.${a}.params.${o})`})}function Qm(e,t=[],n=[]){const[a,o]=m("char",e);return{title:"core",documents:[{type:"text",header:{icon:i(te,{src:we("coreFlat"),size:1.5}),text:a("core.name")},text:c=>a(`core.desc.${c.compute(j.char.core).val}`)},...t,{type:"text",header:{icon:i(te,{src:we("coreFlat"),size:1.5}),text:a("ability.name")},text:a("ability.desc")},...n]}}function Ee(e,t,n=[]){const[a,o]=m("char",e);return{title:`mindscape${t}`,documents:[{type:"text",header:{icon:i(te,{src:Or(t),size:1.5}),text:a(`mindscapes.${t}.name`)},text:x(pn,{children:[a(`mindscapes.${t}.desc`),i("br",{}),i("br",{}),i("i",{children:a(`mindscapes.${t}.flavor`)})]})},...n]}}const Xm="Alice",eu=C(Xm),si="Anby",[,An]=m("char",si),Fi=f[si],Ve=h[si],tu=C(si,{core:[{type:"conditional",conditional:{label:An("coreCond"),metadata:Fi.core_after3rdBasic,fields:[{title:An("core_dazeInc_"),fieldRef:Ve.core_after3rdBasic_dazeInc_.tag}]}}],m1:[{type:"conditional",conditional:{label:An("m1Cond"),metadata:Fi.m1After4thBasicHit,fields:[l(Ve.m1_after4thHit_energyRegen_)]}}],m2:[{type:"fields",fields:[l(Ve.m2_stunned_basic_dmg_),l(Ve.m2_unstunned_ex_dazeInc_)]}],m6:[{type:"conditional",conditional:{label:An("m6Cond"),metadata:Fi.m6ChargeConsumed,fields:[l(Ve.m6_charge_basic_dmg_),l(Ve.m6_charge_exSpecial_dmg_)]}}]}),nu="Anton",iu=C(nu),Je="AstraYao",[,me]=m("char",Je),ji=f[Je],ae=h[Je],au=O[Je],io=$.char[Je],ou=C(Je,{perSkillAbility:{special:{IdyllicCadenza:[{type:"conditional",conditional:{label:me("idyllic_cadenzaCond"),metadata:ji.idyllic_cadenza,fields:[l(ae.common_dmg_),l(ae.crit_dmg_)]}}]},chain:{UltimateFantasianSonata:[{type:"fields",fields:[{title:me("ult_heal"),fieldRef:au.ultimate_heal.tag}]}]}},core:[{type:"fields",fields:[l(ae.core_atk)]}],m1:[{type:"conditional",conditional:{label:me("m1Cond"),metadata:ji.attack_hits,fields:[l(ae.m1_resRed_)]}}],m2:[{type:"fields",fields:[{title:me("m2_atkBuffInc_"),fieldValue:io.m2.atk_*100,unit:"%"},{title:me("m2_maxIncrease"),fieldValue:io.m2.max_increase}]}],m4:[{type:"fields",fields:[l(ae.m4_attack_quickAssist_extraDmg),l(ae.m4_anomaly_quickAssist_anomBuildup_),l(ae.m4_stun_quickAssist_dazeInc_)]}],m6:[{type:"fields",fields:[{title:me("m6_mv_mult_"),fieldRef:ae.m6_mv_mult_.tag},{title:me("m6_crit_"),fieldRef:ae.m6_crit_.tag}]},{type:"conditional",conditional:{label:me("m6Cond"),metadata:ji.precise_assist_triggered,fields:[{title:me("m6_capriccio_crit_"),fieldRef:ae.m6_capriccio_crit_.tag}]}}]}),su="Ben",cu=C(su),ci="Billy",[,qn]=m("char",ci),Li=f[ci],en=h[ci],lu=C(ci,{core:[{type:"fields",fields:[{title:qn("core_common_dmg_"),fieldRef:en.core_common_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:qn("abilityCond"),metadata:Li.ult_dmg_stacks,fields:[l(en.ability_ult_dmg_)]}}],m2:[{type:"fields",fields:[l(en.m2_dodgeCounter_dmg_)]}],m4:[{type:"conditional",conditional:{label:qn("m4Cond"),metadata:Li.distance,fields:[l(en.m4_exSpecial_crit_)]}}],m6:[{type:"conditional",conditional:{label:qn("m6Cond"),metadata:Li.m6_stacks,fields:[l(en.m6_common_dmg_)]}}]}),Ye="Burnice",[,X]=m("char",Ye),Hi=f[Ye],ue=h[Ye],Ki=O[Ye],du=$.char[Ye],ru=C(Ye,{core:[{type:"fields",fields:[{title:X("core_afterburn_dmg"),fieldRef:Ki.core_afterburn_dmg.tag},{title:X("core_afterburn_anomBuildup"),fieldRef:Ki.core_afterburn_anomBuildup.tag},{title:X("core_afterburn_dmg_"),fieldRef:ue.core_afterburn_dmg_.tag}]}],ability:[{type:"fields",fields:[l(ue.ability_fire_anomBuildup_)]}],m1:[{type:"fields",fields:[{title:X("m1_afterburn_mv_mult"),fieldValue:du.m1.afterburn_dmg*100,unit:"%"},{title:X("m1_afterburn_anomBuildup"),fieldRef:ue.m1_afterburn_fire_anomBuildup_.tag}]}],m2:[{type:"conditional",conditional:{label:X("m2Cond"),metadata:Hi.thermal_penetration,fields:[l(ue.m2_pen_)]}}],m4:[{type:"fields",fields:[{title:X("m4_exSpecial_crit_"),fieldRef:ue.m4_exSpecial_crit_.tag},{title:X("m4_assistSkill_crit_"),fieldRef:ue.m4_assistSkill_crit_.tag}]}],m6:[{type:"fields",fields:[{title:X("m6_additional_afterburn_dmg"),fieldRef:Ki.m6_additional_afterburn_dmg.tag}]},{type:"conditional",conditional:{label:X("m6Cond"),metadata:Hi.exSpecial_active,fields:[l(ue.m6_burn_fire_resIgn_),{title:X("m6_fire_resIgn"),fieldRef:ue.m6_fire_resIgn_.tag}]}},{type:"conditional",conditional:{label:X("m6CondBurn"),metadata:Hi.additional_burn,fields:[l(ue.m6_fire_anom_mv_mult_)]}}]}),Ze="Caesar",[,ee]=m("char",Ze),_e=f[Ze],oe=h[Ze],mu=O[Ze],uu=$.char[Ze],hu=C(Ze,{perSkillAbility:{special:{StanceSwitch:[{type:"conditional",conditional:{label:ee("stanceSwitchCond"),metadata:_e.stance_switch,fields:[l(oe.stance_switch_impact_)]}}]},chain:{UltimateSavageSmash:[{type:"conditional",conditional:{label:ee("ultCond"),metadata:_e.enemy_shielded,fields:[l(oe.ult_dazeInc_)]}}]}},core:[{type:"fields",fields:[{title:ee("core_shield"),fieldRef:mu.core_shield.tag}]},{type:"conditional",conditional:{label:ee("coreCond"),metadata:_e.radiant_aegis,fields:[l(oe.core_atk)]}}],ability:[{type:"conditional",conditional:{label:ee("abilityTeamCond"),metadata:_e.can_defensive_assist}},{type:"conditional",conditional:{label:ee("abilityCond"),metadata:_e.ability_debuff,fields:[l(oe.ability_dmgInc_)]}}],m1:[{type:"conditional",conditional:{label:ee("coreCond"),metadata:_e.radiant_aegis,fields:[l(oe.m1_resRed_)]}}],m2:[{type:"conditional",conditional:{label:ee("coreCond"),metadata:_e.radiant_aegis,fields:[l(oe.m2_enerRegen_),{title:ee("m2_atkInc_"),fieldValue:uu.m2.atk_increase_*100,unit:"%"}]}}],m6:[{type:"fields",fields:[{title:ee("m6_exSpecial_assistFollowup_crit_"),fieldRef:oe.m6_exSpecial_assistFollowup_crit_.tag},{title:ee("m6_dmg_"),fieldRef:oe.m6_dmg_.tag}]},{type:"conditional",conditional:{label:ee("m6Cond"),metadata:_e.exSpecial_assistFollowup_used,fields:[l(oe.m6_crit_),l(oe.m6_crit_dmg_)]}}]}),yn="Corin",[,tn]=m("char",yn),Wi=f[yn],Fn=h[yn],fu=O[yn],gu=C(yn,{core:[{type:"fields",fields:[{title:tn("core_common_dmg_"),fieldRef:Fn.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[l(Fn.ability_common_dmg_)]}],m1:[{type:"conditional",conditional:{label:tn("m1Cond"),metadata:Wi.chain_ult_hit,fields:[l(Fn.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:tn("m2Cond"),metadata:Wi.exSpecial_chain_ult_hits,fields:[l(Fn.m2_physical_resRed_)]}}],m6:[{type:"conditional",conditional:{label:tn("m6Cond"),metadata:Wi.charge,fields:[{title:tn("m6_dmg"),fieldRef:fu.m6_dmg.tag}]}}]}),pu="Ellen",_u=C(pu),$n="Evelyn",[,ve]=m("char",$n),Ni=f[$n],Pe=h[$n],ao=O[$n],yu=C($n,{core:[{type:"conditional",conditional:{label:ve("coreCond"),metadata:Ni.binding_seal,fields:[l(Pe.core_crit_)]}}],ability:[{type:"fields",fields:[{title:ve("ability_dmg_"),fieldRef:Pe.ability_chain_ult_dmg_.tag},{title:ve("ability_mv_mult"),fieldRef:Pe.ability_chainSkill_mv_mult.tag}]}],m1:[{type:"conditional",conditional:{label:ve("m1Cond"),metadata:Ni.enemy_bound,fields:[l(Pe.m1_defIgn_)]}}],m2:[{type:"fields",fields:[l(Pe.m2_atk_)]}],m4:[{type:"fields",fields:[{title:ve("m4_shield"),fieldRef:ao.m4_shield.tag}]},{type:"conditional",conditional:{label:ve("m4Cond"),metadata:Ni.m4_shield_exists,fields:[l(Pe.m4_crit_dmg_)]}}],m6:[{type:"fields",fields:[{title:ve("m6_follow_up_dmg"),fieldRef:ao.m6_follow_up_dmg_.tag}]}]}),$u="Grace",bu=C($u),xu="Harumasa",wu=C(xu),li="Hugo",[,nn]=m("char",li),an=f[li],V=h[li],vu=C(li,{core:[{type:"conditional",conditional:{label:nn("coreDarkAbyssReverb"),metadata:an.dark_abyss_reverb,fields:[l(V.core_crit_),l(V.core_crit_dmg_)]}},{type:"fields",fields:[l(V.core_atk)]},{type:"conditional",conditional:{label:nn("coreStunLeft"),metadata:an.stun_left,fields:[l(V.core_exSpecial_mv_mult_),l(V.core_ult_mv_mult_)]}},{type:"fields",fields:[l(V.core_exSpecial_dazeInc_)]}],ability:[{type:"conditional",conditional:{label:nn("abilityCond"),metadata:an.normal_enemy,fields:[l(V.ability_chain_dmg_)]}},{type:"fields",fields:[l(V.ability_exSpecial_dmg_),l(V.ability_ult_dmg_)]}],m1:[{type:"conditional",conditional:{label:nn("coreDarkAbyssReverb"),metadata:an.dark_abyss_reverb,fields:[l(V.m1_exSpecial_crit_),l(V.m1_exSpecial_crit_dmg_),l(V.m1_ult_crit_),l(V.m1_ult_crit_dmg_)]}}],m2:[{type:"fields",fields:[l(V.m2_exSpecial_defIgn_),l(V.m2_ult_defIgn_)]}],m4:[{type:"conditional",conditional:{label:nn("m4Cond"),metadata:an.charged_shot_hit,fields:[l(V.m4_ice_resIgn_)]}}],m6:[{type:"fields",fields:[l(V.m6_exSpecial_dmg_),l(V.m6_ult_dmg_),l(V.m6_exSpecial_mv_mult_)]}]}),bn="Jane",[,ye]=m("char",bn),ke=f[bn],U=h[bn],ku=O[bn],Cu=C(bn,{perSkillAbility:{basic:{Passion:[{type:"conditional",conditional:{label:ye("passionCond"),metadata:ke.passion,fields:[l(U.passion_physical_anomBuildup_),l(U.passion_atk)]}}]}},core:[{type:"conditional",conditional:{label:ye("gnawedCond"),metadata:ke.gnawed,fields:[l(U.core_assault_crit_),l(U.core_assault_crit_dmg_)]}}],ability:[{type:"conditional",conditional:{label:ye("abilityCond"),metadata:ke.enemy_suffering_anomaly,fields:[l(U.ability_physical_anomBuildup_)]}}],m1:[{type:"conditional",conditional:{label:ye("passionCond"),metadata:ke.passion,fields:[l(U.m1_physical_anomBuildup_),l(U.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:ye("gnawedCond"),metadata:ke.gnawed,fields:[l(U.m2_defIgn_),l(U.m2_assault_defIgn_),l(U.m2_assault_crit_dmg_)]}}],m4:[{type:"conditional",conditional:{label:ye("m4Cond"),metadata:ke.assault_or_disorder_triggered,fields:[l(U.m4_anomaly_dmg_)]}}],m6:[{type:"conditional",conditional:{label:ye("passionCond"),metadata:ke.passion,fields:[l(U.m6_crit_),l(U.m6_crit_dmg_)]}},{type:"fields",fields:[{title:ye("m6_additional_dmg"),fieldRef:ku.m6_additional_dmg.tag}]}]}),Su="JuFufu",Du=C(Su),Ru="Koleda",Iu=C(Ru),Qe="Lighter",[,$e]=m("char",Qe),on=f[Qe],se=h[Qe],zu=O[Qe],Mu=$.char[Qe],Bu=C(Qe,{core:[{type:"conditional",conditional:{label:$e("coreCond.morale_consumed"),metadata:on.morale_consumed,fields:[l(se.core_impact_)]}},{type:"conditional",conditional:{label:$e("coreCond.morale_burst_hit"),metadata:on.morale_burst_hit,fields:[l(se.core_ice_resRed_),l(se.core_fire_resRed_)]}}],ability:[{type:"conditional",conditional:{label:$e("abilityCond"),metadata:on.elation,fields:[l(se.ability_ice_dmg_),l(se.ability_fire_dmg_)]}}],m1:[{type:"conditional",conditional:{label:$e("collapseCond"),metadata:on.collapse,fields:[l(se.m1_ice_resRed_),l(se.m1_fire_resRed_)]}},{type:"fields",fields:[{title:$e("m1_finishing_move_dmg_"),fieldRef:se.m1_finishing_move_dmg_.tag}]}],m2:[{type:"conditional",conditional:{label:$e("collapseCond"),metadata:on.collapse,fields:[l(se.m2_stun_)]}},{type:"fields",fields:[{title:$e("m2_elation_inc_"),fieldValue:Mu.m2.ability_buff_inc_*100,unit:"%"}]}],m4:[{type:"fields",fields:[l(se.m4_enerRegen_)]}],m6:[{type:"fields",fields:[{title:$e("m6_blazing_impact_dmg"),fieldRef:zu.m6_blazing_impact_dmg.tag}]}]}),Tu="Lucy",Eu=C(Tu),xn="Lycaon",[,Ce]=m("char",xn),Ui=f[xn],Oe=h[xn],Vu=O[xn],Pu=C(xn,{core:[{type:"fields",fields:[{title:Ce("core_dazeInc_"),fieldRef:Oe.core_dazeInc_.tag}]},{type:"conditional",conditional:{label:Ce("coreCond"),metadata:Ui.exSpecial_assistFollowUp_hit,fields:[l(Oe.core_ice_resRed_)]}}],ability:[{type:"conditional",conditional:{label:Ce("abilityCond"),metadata:Ui.stunned_enemy_hit,fields:[l(Oe.ability_stun_)]}}],m1:[{type:"fields",fields:[{title:Ce("m1_dazeInc_"),fieldRef:Oe.m1_dazeInc_.tag},{title:Ce("m1_fullCharge_dazeInc_"),fieldRef:Oe.m1_fullCharge_dazeInc_.tag}]}],m4:[{type:"fields",fields:[{title:Ce("m4_shield"),fieldRef:Vu.m4_shield.tag}]}],m6:[{type:"conditional",conditional:{label:Ce("m6Cond"),metadata:Ui.charged_hits,fields:[l(Oe.m6_common_dmg_)]}}]}),wn="Miyabi",[,H]=m("char",wn),be=f[wn],G=h[wn],Ou=O[wn],Au=C(wn,{perSkillAbility:{chain:{UltimateLingeringSnow:[{type:"conditional",conditional:{label:H("ultCond"),metadata:be.ult_used,fields:[l(G.ult_ice_dmg_)]}}]}},core:[{type:"conditional",conditional:{label:H("frostbiteCond"),metadata:be.frostbite,fields:[l(G.frostbite_crit_dmg_)]}},{type:"conditional",conditional:{label:H("coreIcefireCond"),metadata:be.icefire,fields:[l(G.core_frost_anomBuildup_)]}},{type:"fields",fields:[{title:H("core_frostburnBreak_dmg"),fieldRef:Ou.core_frostburnBreak_dmg.tag}]},{type:"conditional",conditional:{label:H("coreFrostburnCond"),metadata:be.frostburn,fields:[l(G.core_anomBuildup_)]}}],ability:[{type:"fields",fields:[{title:H("ability_dmg_"),fieldRef:G.ability_dmg_.tag}]},{type:"conditional",conditional:{label:H("abilityCond"),metadata:be.disorder_triggered,fields:[{title:H("ability_ice_resIgn_"),fieldRef:G.ability_ice_resIgn_.tag}]}}],m1:[{type:"conditional",conditional:{label:H("m1Cond"),metadata:be.fallen_frost,fields:[{title:H("m1_defIgn_"),fieldRef:G.m1_defIgn_.tag}]}},{type:"conditional",conditional:{label:H("m1Cond2"),metadata:be.level_3_charge_hit,fields:[l(G.m1_anomBuildup_)]}}],m2:[{type:"fields",fields:[{title:H("m2_dmg_"),fieldRef:G.m2_dmg_.tag},l(G.m2_dodgeCounter_dmg_),l(G.m2_crit_)]}],m4:[{type:"fields",fields:[{title:H("m4_frostburnBreak_dmg_"),fieldRef:G.m4_frostburnBreak_dmg_.tag}]}],m6:[{type:"conditional",conditional:{label:H("m6Cond"),metadata:be.polar,fields:[{title:H("m6_dmg_"),fieldRef:G.m6_dmg_.tag}]}}]}),di="Nekomata",[,Ae]=m("char",di),qe=f[di],Fe=h[di],qu=C(di,{core:[{type:"conditional",conditional:{label:Ae("coreCond"),metadata:qe.dodgeCounter_quickAssist_hit,fields:[l(Fe.core_common_dmg_)]}}],ability:[{type:"conditional",conditional:{label:Ae("abilityCond"),metadata:qe.assaults_inflicted,fields:[l(Fe.ability_exSpecial_dmg_)]}}],m1:[{type:"conditional",conditional:{label:Ae("m1Cond"),metadata:qe.from_behind,fields:[l(Fe.m1_physical_resIgn_)]}}],m2:[{type:"conditional",conditional:{label:Ae("m2Cond"),metadata:qe.one_enemy_onField,fields:[l(Fe.m2_enerRegen_)]}}],m4:[{type:"conditional",conditional:{label:Ae("m4Cond"),metadata:qe.exSpecials_used,fields:[l(Fe.m4_crit_)]}}],m6:[{type:"conditional",conditional:{label:Ae("m6Cond"),metadata:qe.chain_ult_used,fields:[l(Fe.m6_crit_dmg_)]}}]}),ri="Nicole",[,Gi]=m("char",ri),oo=f[ri],sn=h[ri],Fu=C(ri,{core:[{type:"conditional",conditional:{label:Gi("coreCond"),metadata:oo.bulletsOrFieldHit,fields:[l(sn.core_defRed_)]}}],ability:[{type:"fields",fields:[l(sn.ability_ether_dmg_)]}],m1:[{type:"fields",fields:[l(sn.m1_exSpecial_dmg_),{title:Gi("m1_exSpecial_anomBuildup"),fieldRef:sn.m1_exSpecial_anomBuildup_.tag}]}],m6:[{type:"conditional",conditional:{label:Gi("m6Cond"),metadata:oo.fieldHitsEnemy,fields:[l(sn.m6_crit_)]}}]}),Xe="PanYinhu",[,Se]=m("char",Xe),so=f[Xe],Ji=h[Xe],Yi=O[Xe],co=$.char[Xe],ju=C(Xe,{perSkillAbility:{chain:{UltimateAFeastFitForAnEmperor:[{type:"fields",fields:[{title:Se("ultimate_heal"),fieldRef:Yi.ultimate_heal.tag},{title:Se("ultimate_healOverTime"),fieldRef:Yi.ultimate_healOverTime.tag}]}]}},core:[{type:"conditional",conditional:{label:Se("coreCond"),metadata:so.meridian_flow,fields:[l(Ji.core_sheerForce)]}}],ability:[{type:"conditional",conditional:{label:Se("abilityCond"),metadata:so.depleted_qi,fields:[l(Ji.ability_dmgInc_)]}}],m1:[{type:"fields",fields:[l(Ji.m1_dmgInc_)]}],m4:[{type:"fields",fields:[{title:Se("m4_heal"),fieldRef:Yi.m4_heal.tag}]}],m6:[{type:"fields",fields:[{title:Se("m6_sheerForce"),fieldValue:co.m6.sheerForce*100,unit:"%"},{title:Se("m6_maxSheerForce"),fieldValue:co.m6.max_sheerForce}]}]}),Lu="Piper",Hu=C(Lu),Ku="Pulchra",Wu=C(Ku),et="Qingyi",[,cn]=m("char",et),Zi=f[et],ne=h[et],Nu=O[et],Uu=$.char[et],Gu=C(et,{perSkillAbility:{basic:{BasicAttackEnchantedMoonlitBlossoms:[{type:"conditional",conditional:{label:cn("flashConnectCond"),metadata:Zi.flash_connect_consumed,fields:[l(ne.flash_connect_dmg_),l(ne.flash_connect_dazeInc_)]}}]},chain:{ChainAttackTranquilSerenade:[{type:"fields",fields:[l(ne.chain_dmg_)]}]}},core:[{type:"conditional",conditional:{label:cn("subjugationCond"),metadata:Zi.subjugation,fields:[l(ne.core_stun_)]}}],ability:[{type:"fields",fields:[l(ne.ability_basic_dazeInc_),l(ne.ability_atk)]}],m1:[{type:"fields",fields:[l(ne.m1_defRed_),l(ne.m1_crit_)]}],m2:[{type:"fields",fields:[{title:cn("m2_stun_"),fieldValue:Uu.m2.stun_mult_*100,unit:"%"},l(ne.m2_dazeInc_)]}],m4:[{type:"fields",fields:[{title:cn("m4_shield"),fieldRef:Nu.m4_shield.tag}]}],m6:[{type:"fields",fields:[l(ne.m6_crit_dmg_)]},{type:"conditional",conditional:{label:cn("m6Cond"),metadata:Zi.moonlit_blossoms_hit,fields:[l(ne.m6_resRed_)]}}]}),Ju="Rina",Yu=C(Ju),Zu="Seth",Qu=C(Zu),vn="Soldier0Anby",[,jn]=m("char",vn),Qi=f[vn],je=h[vn],Xu=O[vn],eh=C(vn,{core:[{type:"conditional",conditional:{label:jn("coreCond"),metadata:Qi.markedWithSilverStar,fields:[l(je.core_common_dmg_),l(je.core_markedWithSilverStar_crit_dmg_)]}}],ability:[{type:"fields",fields:[l(je.ability_crit_),l(je.ability_aftershock_dmg_)]}],m2:[{type:"conditional",conditional:{label:jn("coreCond"),metadata:Qi.markedWithSilverStar,fields:[l(je.m2_crit_)]}}],m4:[{type:"conditional",conditional:{label:jn("coreCond"),metadata:Qi.markedWithSilverStar,fields:[l(je.m4_electric_resIgn_)]}}],m6:[{type:"fields",fields:[{title:jn("m6_additional_dmg"),fieldRef:Xu.m6_additional_dmg.tag}]}]}),mi="Soldier11",[,De]=m("char",mi),Ln=f[mi],Le=h[mi],th=C(mi,{core:[{type:"fields",fields:[{title:De("core_common_dmg_"),fieldRef:Le.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[l(Le.ability_fire_dmg_)]}],m2:[{type:"conditional",conditional:{label:De("m2Cond"),metadata:Ln.m2_stacks,fields:[{title:De("m2_common_dmg_"),fieldRef:Le.m2_common_dmg_.tag},l(Le.m2_dodgeCounter_dmg_)]}}],m4:[{type:"conditional",conditional:{label:De("m4Cond"),metadata:Ln.fireSuppression_triggered,fields:[l(Le.m4_dmg_red_)]}},{type:"conditional",conditional:{label:De("m4Cond2"),metadata:Ln.fireSuppression_4th_hit}}],m6:[{type:"conditional",conditional:{label:De("m6Cond"),metadata:Ln.charge_consumed,fields:[{title:De("m6_fire_resIgn_"),fieldRef:Le.m6_fire_resIgn_.tag}]}}]}),nh="Soukaku",ih=C(nh),kn="Trigger",[,Re]=m("char",kn),lo=f[kn],ln=h[kn],Xi=O[kn],ah=C(kn,{core:[{type:"conditional",conditional:{label:Re("coreCond"),metadata:lo.aftershock_hit,fields:[l(ln.core_stun_)]}}],ability:[{type:"fields",fields:[{title:Re("ability_dazeInc_"),fieldRef:ln.ability_aftershock_dazeInc_.tag}]}],m1:[{type:"fields",fields:[l(ln.m1_stun_)]}],m2:[{type:"conditional",conditional:{label:Re("m2Cond"),metadata:lo.hunters_gaze,fields:[l(ln.m2_crit_dmg_)]}}],m4:[{type:"fields",fields:[{title:Re("m4_disconnect_dmg"),fieldRef:Xi.m4_disconnect_dmg.tag},{title:Re("m4_disconnect_daze"),fieldRef:Xi.m4_disconnect_daze.tag}]}],m6:[{type:"fields",fields:[{title:Re("m6_armor_break_rounds_dmg"),fieldRef:Xi.m6_armor_break_rounds_dmg.tag},{title:Re("m6_armor_break_rounds_dmg_"),fieldRef:ln.m6_armor_break_rounds_dmg_.tag}]}]}),Cn="Vivian",[,He]=m("char",Cn),Hn=f[Cn],K=h[Cn],oh=O[Cn],sh=C(Cn,{core:[{type:"conditional",conditional:{label:He("coreAbloom"),metadata:Hn.abloom,fields:[l(K.core_ether_abloom),l(K.core_electric_abloom),l(K.core_fire_abloom),l(K.core_physical_abloom),l(K.core_ice_abloom)]}},{type:"fields",fields:[{title:He("core_prophecy_dmg"),fieldRef:oh.core_prophecy_dmg.tag}]}],ability:[{type:"fields",fields:[l(K.ability_corruption_dmg_),l(K.ability_corruption_disorder_dmg_)]}],m1:[{type:"conditional",conditional:{label:He("prophecyCond"),metadata:Hn.prophecy,fields:[l(K.m1_anomaly_dmg_),l(K.m1_disorder_dmg_)]}}],m2:[{type:"fields",fields:[l(K.m2_ether_anomBuildup_)]},{type:"conditional",conditional:{label:He("coreAbloom"),metadata:Hn.abloom,fields:[l(K.m2_anom_mv_mult_),l(K.m2_resIgn_)]}}],m4:[{type:"fields",fields:[{title:He("m4_crit_"),fieldRef:K.m4_crit_.tag}]},{type:"conditional",conditional:{label:He("m4Cond"),metadata:Hn.fluttering_featherbloom_used,fields:[l(K.m4_atk_)]}}],m6:[{type:"fields",fields:[l(K.m6_ether_dmg_)]}]}),ch="Yanagi",lh=C(ch),Sn="Yixuan",[,xe]=m("char",Sn),ro=f[Sn],J=h[Sn],ea=O[Sn],dh=C(Sn,{core:[{type:"fields",fields:[l(J.core_hpSheerForce),{title:xe("core_dmg_"),fieldRef:J.core_dmg_.tag},l(J.core_exSpecial_dmg_),l(J.core_assistFollowUp_dmg_),l(J.core_chain_dmg_),l(J.core_ult_dmg_)]}],ability:[{type:"fields",fields:[{title:xe("ability_dmg"),fieldRef:ea.ability_dmg.tag},{title:xe("ability_dmg_"),fieldRef:J.ability_dmg_.tag}]},{type:"conditional",conditional:{label:xe("meditationCond"),metadata:ro.meditation,fields:[l(J.ability_crit_dmg_)]}}],m1:[{type:"fields",fields:[l(J.m1_crit_),{title:xe("m1_dmg"),fieldRef:ea.m1_dmg.tag}]}],m2:[{type:"fields",fields:[l(J.m2_ult_ether_resIgn_),l(J.m2_exSpecial_ether_resIgn_),{title:xe("m2_dmg"),fieldRef:ea.m2_dmg.tag}]}],m4:[{type:"conditional",conditional:{label:xe("m4Cond"),metadata:ro.tranquility,fields:[{title:xe("m4_dmg_"),fieldRef:J.m4_dmg_.tag}]}}],m6:[{type:"fields",fields:[l(J.m6_sheer_dmg_)]}]}),rh="Yuzuha",mh=C(rh),Dn="ZhuYuan",[,Ie]=m("char",Dn),ta=f[Dn],dn=h[Dn],uh=O[Dn],hh=C(Dn,{core:[{type:"fields",fields:[{title:Ie("core_dmg_"),fieldRef:dn.core_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:Ie("abilityCond"),metadata:ta.ex_chain_ult_used,fields:[l(dn.ability_crit_)]}}],m2:[{type:"conditional",conditional:{label:Ie("m2SuppresiveModeCond"),metadata:ta.suppresive_mode,fields:[l(dn.m2_dmg_red_)]}},{type:"conditional",conditional:{label:Ie("m2BasicDashEtherCond"),metadata:ta.shotshells_hit,fields:[{title:Ie("m2_basic_dash_ether_dmg_"),fieldRef:dn.m2_basic_dash_ether_dmg_.tag}]}}],m4:[{type:"fields",fields:[{title:Ie("m4_ether_resIgn_"),fieldRef:dn.m4_basic_dash_ether_res_ign_.tag}]}],m6:[{type:"fields",fields:[{title:Ie("m6_ether_afterglow"),fieldRef:uh.m6_ether_afterglow.tag}]}]}),fh={Alice:eu,Anby:tu,Anton:iu,AstraYao:ou,Ben:cu,Billy:lu,Burnice:ru,Caesar:hu,Corin:gu,Ellen:_u,Evelyn:yu,Grace:bu,Harumasa:wu,Hugo:vu,Jane:Cu,JuFufu:Du,Koleda:Iu,Lighter:Bu,Lucy:Eu,Lycaon:Pu,Miyabi:Au,Nekomata:qu,Nicole:Fu,PanYinhu:ju,Piper:Hu,Pulchra:Wu,Qingyi:Gu,Rina:Yu,Seth:Qu,Soldier0Anby:eh,Soldier11:th,Soukaku:ih,Trigger:ah,Vivian:sh,Yanagi:lh,Yixuan:dh,Yuzuha:mh,ZhuYuan:hh},ui="AstralVoice",[mo,gh]=m("disc",ui),uo=M(ui),ph=f[ui],_h=h[ui],yh={2:{title:i(B,{}),img:uo,documents:[{type:"text",text:mo("desc2")}]},4:{title:i(T,{}),img:uo,documents:[{type:"text",text:mo("desc4")},{type:"conditional",conditional:{label:gh("set4_cond"),metadata:ph.astral,fields:[d(_h.set4_team_dmg_.tag)]}}]}},hi="BranchBladeSong",[ho,$h]=m("disc",hi),fo=M(hi),bh=f[hi],go=h[hi],xh={2:{title:i(B,{}),img:fo,documents:[{type:"text",text:ho("desc2")}]},4:{title:i(T,{}),img:fo,documents:[{type:"text",text:ho("desc4")},{type:"fields",fields:[d(go.set4_passive.tag)]},{type:"conditional",conditional:{label:$h("set4_cond"),metadata:bh.apply_or_trigger,fields:[d(go.set4_cond.tag)]}}]}},fi="ChaosJazz",[po,wh]=m("disc",fi),_o=M(fi),vh=f[fi],Kn=h[fi],kh={2:{title:i(B,{}),img:_o,documents:[{type:"text",text:po("desc2")}]},4:{title:i(T,{}),img:_o,documents:[{type:"text",text:po("desc4")},{type:"fields",fields:[d(Kn.set4_passive_fire_dmg_.tag),d(Kn.set4_passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:wh("set4_cond"),metadata:vh.while_off_field,fields:[{title:"EX Special Attack DMG",fieldRef:Kn.set4_off_field_special_dmg_.tag},{title:"Assist Attack Attack DMG",fieldRef:Kn.set4_off_field_assist_dmg_.tag}]}}]}},gi="ChaoticMetal",[yo,Ch]=m("disc",gi),$o=M(gi),Sh=f[gi],bo=h[gi],Dh={2:{title:i(B,{}),img:$o,documents:[{type:"text",text:yo("desc2")}]},4:{title:i(T,{}),img:$o,documents:[{type:"text",text:yo("desc4")},{type:"fields",fields:[d(bo.set4_passive.tag)]},{type:"conditional",conditional:{label:Ch("set4_cond"),metadata:Sh.trigger_corruption,fields:[d(bo.set4_cond_trigger_corruption.tag)]}}]}},pi="FangedMetal",[xo,Rh]=m("disc",pi),wo=M(pi),Ih=f[pi],zh=h[pi],Mh={2:{title:i(B,{}),img:wo,documents:[{type:"text",text:xo("desc2")}]},4:{title:i(T,{}),img:wo,documents:[{type:"text",text:xo("desc4")},{type:"conditional",conditional:{label:Rh("set4_cond"),metadata:Ih.inflict_assault,fields:[d(zh.set4_cond_inflict_assault.tag)]}}]}},_i="FreedomBlues",[vo,Bh]=m("disc",_i),ko=M(_i),Th=f[_i],Eh=h[_i],Vh={2:{title:i(B,{}),img:ko,documents:[{type:"text",text:vo("desc2")}]},4:{title:i(T,{}),img:ko,documents:[{type:"text",text:vo("desc4")},{type:"conditional",conditional:{label:Bh("set4_cond"),metadata:Th.exSpecialHit,fields:[d(Eh.anomBuildupRes_.tag)]}}]}},yi="HormonePunk",[Co,Ph]=m("disc",yi),So=M(yi),Oh=f[yi],Ah=h[yi],qh={2:{title:i(B,{}),img:So,documents:[{type:"text",text:Co("desc2")}]},4:{title:i(T,{}),img:So,documents:[{type:"text",text:Co("desc4")},{type:"conditional",conditional:{label:Ph("set4_cond"),metadata:Oh.entering_combat,fields:[d(Ah.set4_cond_entering_combat.tag)]}}]}},$i="InfernoMetal",[Do,Fh]=m("disc",$i),Ro=M($i),jh=f[$i],Lh=h[$i],Hh={2:{title:i(B,{}),img:Ro,documents:[{type:"text",text:Do("desc2")}]},4:{title:i(T,{}),img:Ro,documents:[{type:"text",text:Do("desc4")},{type:"conditional",conditional:{label:Fh("set4_cond"),metadata:jh.hitting_burning_enemy,fields:[d(Lh.set4_cond_hitting_burning_enemy.tag)]}}]}},bi="KingOfTheSummit",[Io,xb]=m("disc",bi),zo=M(bi),Kh=f[bi],Mo=h[bi],Wh={2:{title:i(B,{}),img:zo,documents:[{type:"text",text:Io("desc2")},{type:"fields",fields:[d(Mo.set2.tag)]}]},4:{title:i(T,{}),img:zo,documents:[{type:"text",text:Io("desc4")},{type:"conditional",conditional:{metadata:Kh.launchExSpecialOrChain,label:A("uponLaunch.2",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)"}),fields:[d(Mo.set4_team_launchExSpecialOrChain_crit_dmg_.tag)]}}]}},xi="PhaethonsMelody",[Bo,To]=m("disc",xi),Eo=M(xi),Vo=f[xi],Po=h[xi],Nh={2:{title:i(B,{}),img:Eo,documents:[{type:"text",text:Bo("desc2")}]},4:{title:i(T,{}),img:Eo,documents:[{type:"text",text:Bo("desc4")},{type:"conditional",conditional:{label:To("set4_cond_squad_use_ex"),metadata:Vo.squad_use_ex,fields:[d(Po.set4_squad_anomProf.tag)]}},{type:"conditional",conditional:{label:To("set4_cond_not_char_use_ex"),metadata:Vo.not_char_use_ex,fields:[d(Po.set4_not_self_ether_.tag)]}}]}},wi="PolarMetal",[Oo,Uh]=m("disc",wi),Ao=M(wi),Gh=f[wi],qo=h[wi],Jh={2:{title:i(B,{}),img:Ao,documents:[{type:"text",text:Oo("desc2")}]},4:{title:i(T,{}),img:Ao,documents:[{type:"text",text:Oo("desc4")},{type:"conditional",conditional:{label:Uh("set4_cond"),metadata:Gh.freeze_shatter}},{type:"fields",fields:[{title:"Basic Attack DMG",fieldRef:qo.set4_basic_dmg_.tag},{title:"Dash Attack DMG",fieldRef:qo.set4_dash_dmg_.tag}]}]}},vi="ProtoPunk",[Fo,Yh]=m("disc",vi),jo=M(vi),Zh=f[vi],Qh=h[vi],Xh={2:{title:i(B,{}),img:jo,documents:[{type:"text",text:Fo("desc2")}]},4:{title:i(T,{}),img:jo,documents:[{type:"text",text:Fo("desc4")},{type:"conditional",conditional:{label:Yh("set4_cond"),metadata:Zh.def_assist_or_evasive_assist,fields:[d(Qh.set4_cond_def_assist_or_evasive_assist_dmg_.tag)]}}]}},ki="PufferElectro",[Lo,ef]=m("disc",ki),Ho=M(ki),tf=f[ki],Ko=h[ki],nf={2:{title:i(B,{}),img:Ho,documents:[{type:"text",text:Lo("desc2")}]},4:{title:i(T,{}),img:Ho,documents:[{type:"text",text:Lo("desc4")},{type:"fields",fields:[{title:"Ultimate DMG",fieldRef:Ko.set4_dmg_.tag}]},{type:"conditional",conditional:{label:ef("set4_cond"),metadata:tf.launching_ult,fields:[d(Ko.set4_cond_launching_ult_atk_.tag)]}}]}},Ci="ShadowHarmony",[Wo,af]=m("disc",Ci),No=M(Ci),of=f[Ci],Uo=h[Ci],sf={2:{title:i(B,{}),img:No,documents:[{type:"text",text:Wo("desc2")}]},4:{title:i(T,{}),img:No,documents:[{type:"text",text:Wo("desc4")},{type:"conditional",conditional:{label:af("set4_cond_stacks"),metadata:of.stacks,fields:[d(Uo.set4_stack_atk_.tag),d(Uo.set4_stack_crit_.tag)]}}]}},Ma="ShockstarDisco",[Go,wb]=m("disc",Ma),Jo=M(Ma),na=h[Ma],cf={2:{title:i(B,{}),img:Jo,documents:[{type:"text",text:Go("desc2")}]},4:{title:i(T,{}),img:Jo,documents:[{type:"text",text:Go("desc4")},{type:"fields",fields:[{title:"Basic Attack Daze",fieldRef:na.set4_basic_daze_.tag},{title:"Dash Attack Daze",fieldRef:na.set4_dash_daze_.tag},{title:"Dodge Counter Daze",fieldRef:na.set4_dodgeCounter_daze_.tag}]}]}},pd="SoulRock",[Yo,vb]=m("disc",pd),Zo=M(pd),lf={2:{title:i(B,{}),img:Zo,documents:[{type:"text",text:Yo("desc2")}]},4:{title:i(T,{}),img:Zo,documents:[{type:"text",text:Yo("desc4")}]}},Si="SwingJazz",[Qo,df]=m("disc",Si),Xo=M(Si),rf=f[Si],mf=h[Si],uf={2:{title:i(B,{}),img:Xo,documents:[{type:"text",text:Qo("desc2")}]},4:{title:i(T,{}),img:Xo,documents:[{type:"text",text:Qo("desc4")},{type:"conditional",conditional:{label:df("set4_cond"),metadata:rf.chain_or_ult,fields:[d(mf.set4_cond_chain_or_ult.tag)]}}]}},Di="ThunderMetal",[es,hf]=m("disc",Di),ts=M(Di),ff=f[Di],gf=h[Di],pf={2:{title:i(B,{}),img:ts,documents:[{type:"text",text:es("desc2")}]},4:{title:i(T,{}),img:ts,documents:[{type:"text",text:es("desc4")},{type:"conditional",conditional:{label:hf("set4_cond"),metadata:ff.enemy_shocked,fields:[d(gf.set4_cond_enemy_shocked_atk_.tag)]}}]}},Ri="WoodpeckerElectro",[ns,_f]=m("disc",Ri),is=M(Ri),yf=f[Ri],$f=h[Ri],bf={2:{title:i(B,{}),img:is,documents:[{type:"text",text:ns("desc2")}]},4:{title:i(T,{}),img:is,documents:[{type:"text",text:ns("desc4")},{type:"conditional",conditional:{label:_f("set4_cond"),metadata:yf.crit_basic_dodge_ex,fields:[d($f.set4_cond_crit_basic_dodge_ex_atk_.tag)]}}]}},Ii="YunkuiTales",[as,kb]=m("disc",Ii),os=M(Ii),xf=f[Ii],ia=h[Ii],wf={2:{title:i(B,{}),img:os,documents:[{type:"text",text:as("desc2")},{type:"fields",fields:[d(ia.set2.tag)]}]},4:{title:i(T,{}),img:os,documents:[{type:"text",text:as("desc4")},{type:"conditional",conditional:{metadata:xf.uponLaunchExSpecialChainOrUlt,label:A("uponLaunch.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),fields:[d(ia.set4_crit_.tag),d(ia.set4_sheer_dmg_.tag)]}}]}},vf={AstralVoice:yh,BranchBladeSong:xh,ChaosJazz:kh,ChaoticMetal:Dh,FangedMetal:Mh,FreedomBlues:Vh,HormonePunk:qh,InfernoMetal:Hh,KingOfTheSummit:Wh,PhaethonsMelody:Nh,PolarMetal:Jh,ProtoPunk:Xh,PufferElectro:nf,ShadowHarmony:sf,ShockstarDisco:cf,SoulRock:lf,SwingJazz:uf,ThunderMetal:pf,WoodpeckerElectro:bf,YunkuiTales:wf};function B(){return"2-Set"}function T(){return"4-Set"}function p({wKey:e,children:t}){const n=ai();let a=1;return n&&n.compute(j.common.count.sheet(e)).val&&(a=n.compute(j.wengine.phase).val??1),t(a)}const tt="BashfulDemon",[ss,kf]=m("wengine",tt),Cf=$.wengine[tt],Sf=_(tt,"icon"),Df=f[tt],cs=h[tt],Rf={title:ss("phase"),img:Sf,documents:[{type:"text",text:i(p,{wKey:tt,children:e=>ss(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(cs.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:kf("cond"),metadata:Df.launch_ex_attack,fields:[d(cs.team_atk_.tag),{title:"Duration",fieldValue:Cf.duration}]}}]},nt="BigCylinder",[ls,Cb]=m("wengine",nt),If=$.wengine[nt],zf=_(nt,"icon"),Mf=h[nt],Bf=O[nt],Tf={title:ls("phase"),img:zf,documents:[{type:"text",text:i(p,{wKey:nt,children:e=>ls(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Mf.passive_dmg_red_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:Bf.damage.tag},{title:"Cooldown",fieldValue:If.cooldown}]}]},it="BlazingLaurel",[ds,rs]=m("wengine",it),ms=$.wengine[it],Ef=_(it,"icon"),us=f[it],aa=h[it],Vf={title:ds("phase"),img:Ef,documents:[{type:"text",text:i(p,{wKey:it,children:e=>ds(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:rs("cond1"),metadata:us.quickOrPerfectAssistUsed,fields:[d(aa.impact_.tag),{title:"Duration",fieldValue:ms.duration}]}},{type:"conditional",conditional:{label:rs("cond2"),metadata:us.wilt,fields:[d(aa.crit_dmg_ice_.tag),d(aa.crit_dmg_fire_.tag),{title:"Duration",fieldValue:ms.wilt_duration}]}}]},at="BoxCutter",[hs,Pf]=m("wengine",at),Of=$.wengine[at],Af=_(at,"icon"),qf=f[at],fs=h[at],Ff={title:hs("phase"),img:Af,documents:[{type:"text",text:i(p,{wKey:at,children:e=>hs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Pf("cond"),metadata:qf.launchedAftershock,fields:[d(fs.physical_dmg_.tag),d(fs.daze_.tag),{title:"Duration",fieldValue:Of.duration}]}}]},Rn="BunnyBand",[gs,jf]=m("wengine",Rn),Lf=_(Rn,"icon"),Hf=f[Rn],ps=h[Rn],Kf={title:gs("phase"),img:Lf,documents:[{type:"text",text:i(p,{wKey:Rn,children:e=>gs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ps.passive_hp_.tag)]},{type:"conditional",conditional:{label:jf("cond"),metadata:Hf.wearerShielded,fields:[d(ps.atk_.tag)]}}]},Te="CannonRotor",[_s,Sb]=m("wengine",Te),Wf=$.wengine[Te],Nf=_(Te,"icon"),Uf=O[Te],Gf=h[Te],Jf={title:_s("phase"),img:Nf,documents:[{type:"text",text:i(p,{wKey:Te,children:e=>_s(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Gf.passive_atk_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:Uf.damage.tag},{title:"Cooldown",fieldValue:i(p,{wKey:Te,children:e=>Wf.cooldown[e]})}]}]},ot="CinderCobalt",[ys]=m("wengine",ot),$s=$.wengine[ot],Yf=_(ot,"icon"),Zf=f[ot],Qf=h[ot],Xf={title:ys("phase"),img:Yf,documents:[{type:"text",text:i(p,{wKey:ot,children:e=>ys(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:A("enterCombatOrSwitchIn"),metadata:Zf.enteringCombatOrSwitchingIn,fields:[d(Qf.enteringCombatOrSwitchingIn_atk_.tag),{title:A("duration"),fieldValue:$s.duration},{title:A("cd"),fieldValue:$s.cd}]}}]},st="DeepSeaVisitor",[bs,xs]=m("wengine",st),ws=$.wengine[st],eg=_(st,"icon"),vs=f[st],oa=h[st],tg={title:bs("phase"),img:eg,documents:[{type:"text",text:i(p,{wKey:st,children:e=>bs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(oa.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:xs("cond1"),metadata:vs.basicHit,fields:[d(oa.crit_.tag),{title:"Duration",fieldValue:ws.duration}]}},{type:"conditional",conditional:{label:xs("cond2"),metadata:vs.iceDashAtkHit,fields:[d(oa.extra_crit_.tag),{title:"Duration",fieldValue:ws.extra_duration}]}}]},ct="DemaraBatteryMarkII",[ks,ng]=m("wengine",ct),ig=$.wengine[ct],ag=_(ct,"icon"),og=f[ct],Cs=h[ct],sg={title:ks("phase"),img:ag,documents:[{type:"text",text:i(p,{wKey:ct,children:e=>ks(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Cs.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:ng("cond"),metadata:og.dodgeCounterOrAssistHit,fields:[d(Cs.enerRegen_.tag),{title:"Duration",fieldValue:ig.duration}]}}]},lt="DrillRigRedAxis",[Ss,cg]=m("wengine",lt),Ds=$.wengine[lt],lg=_(lt,"icon"),dg=f[lt],Rs=h[lt],rg={title:Ss("phase"),img:lg,documents:[{type:"text",text:i(p,{wKey:lt,children:e=>Ss(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:cg("cond"),metadata:dg.exSpecialOrChainUsed,fields:[d(Rs.basic_eletric_dmg_.tag),d(Rs.dash_eletric_dmg_.tag),{title:"Duration",fieldValue:Ds.duration},{title:"Cooldown",fieldValue:Ds.cooldown}]}}]},In="ElectroLipGloss",[Is,mg]=m("wengine",In),ug=_(In,"icon"),hg=f[In],zs=h[In],fg={title:Is("phase"),img:ug,documents:[{type:"text",text:i(p,{wKey:In,children:e=>Is(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:mg("cond"),metadata:hg.anomalyOnEnemy,fields:[d(zs.atk_.tag),d(zs.common_dmg_.tag)]}}]},dt="ElegantVanity",[Ms,gg]=m("wengine",dt),pg=$.wengine[dt],_g=_(dt,"icon"),yg=f[dt],$g=h[dt],bg={title:Ms("phase"),img:_g,documents:[{type:"text",text:i(p,{wKey:dt,children:e=>Ms(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:gg("cond"),metadata:yg.consumed25Energy,fields:[d($g.common_dmg_.tag),{title:"Duration",fieldValue:pg.buffDuration}]}}]},rt="FlamemakerShaker",[Bs,Ts]=m("wengine",rt),sa=$.wengine[rt],xg=_(rt,"icon"),Es=f[rt],ca=h[rt],wg={title:Bs("phase"),img:xg,documents:[{type:"text",text:i(p,{wKey:rt,children:e=>Bs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ts("cond1"),metadata:Es.offField,fields:[d(ca.enerRegen.tag)]}},{type:"conditional",conditional:{label:Ts("cond2"),metadata:Es.exSpecialAssistHits,fields:[d(ca.common_dmg_.tag),{title:"Duration",fieldValue:sa.duration},{title:"Cooldown",fieldValue:sa.cooldown},d(ca.anomProf.tag),{title:"Duration",fieldValue:sa.anomProfDuration}]}}]},mt="FlightOfFancy",[Vs,vg]=m("wengine",mt),Ps=$.wengine[mt],kg=_(mt,"icon"),Cg=f[mt],Os=h[mt],Sg={title:Vs("phase"),img:kg,documents:[{type:"text",text:i(p,{wKey:mt,children:e=>Vs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Os.anomBuildup_.tag)]},{type:"conditional",conditional:{label:vg("cond"),metadata:Cg.etherDmg,fields:[d(Os.etherDmg_anomProf.tag),{title:"Duration",fieldValue:Ps.duration},{title:"Cooldown",fieldValue:Ps.cd}]}}]},ut="FusionCompiler",[As,Dg]=m("wengine",ut),Rg=$.wengine[ut],Ig=_(ut,"icon"),zg=f[ut],qs=h[ut],Mg={title:As("phase"),img:Ig,documents:[{type:"text",text:i(p,{wKey:ut,children:e=>As(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(qs.passive_atk_.tag)]},{type:"conditional",conditional:{label:Dg("cond"),metadata:zg.specialUsed,fields:[d(qs.anomProf.tag),{title:"Duration",fieldValue:Rg.duration}]}}]},zi="GildedBlossom",[Fs,Db]=m("wengine",zi),Bg=_(zi,"icon"),js=h[zi],Tg={title:Fs("phase"),img:Bg,documents:[{type:"text",text:i(p,{wKey:zi,children:e=>Fs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(js.passive_atk_.tag),d(js.passive_exSpecial_dmg_.tag)]}]},ht="HailstormShrine",[Ls,Eg]=m("wengine",ht),Vg=$.wengine[ht],Pg=_(ht,"icon"),Og=f[ht],Hs=h[ht],Ag={title:Ls("phase"),img:Pg,documents:[{type:"text",text:i(p,{wKey:ht,children:e=>Ls(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Hs.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:Eg("cond"),metadata:Og.exSpecialOrAnomaly,fields:[d(Hs.ice_dmg_.tag),{title:"Duration",fieldValue:Vg.duration}]}}]},ft="HeartstringNocturne",[Ks,qg]=m("wengine",ft),Fg=$.wengine[ft],jg=_(ft,"icon"),Lg=f[ft],la=h[ft],Hg={title:Ks("phase"),img:jg,documents:[{type:"text",text:i(p,{wKey:ft,children:e=>Ks(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(la.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:qg("cond"),metadata:Lg.heartstring,fields:[d(la.chain_resIgn_fire_.tag),d(la.ult_resIgn_fire_.tag),{title:"Duration",fieldValue:Fg.duration}]}}]},gt="HellfireGears",[Ws,Ns]=m("wengine",gt),Kg=$.wengine[gt],Wg=_(gt,"icon"),Us=f[gt],Gs=h[gt],Ng={title:Ws("phase"),img:Wg,documents:[{type:"text",text:i(p,{wKey:gt,children:e=>Ws(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ns("cond1"),metadata:Us.offField,fields:[d(Gs.enerRegen.tag)]}},{type:"conditional",conditional:{label:Ns("cond1"),metadata:Us.exSpecialUsed,fields:[d(Gs.impact_.tag),{title:"Duration",fieldValue:Kg.duration}]}}]},pt="Housekeeper",[Js,Ys]=m("wengine",pt),Ug=$.wengine[pt],Gg=_(pt,"icon"),Zs=f[pt],Qs=h[pt],Jg={title:Js("phase"),img:Gg,documents:[{type:"text",text:i(p,{wKey:pt,children:e=>Js(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ys("cond1"),metadata:Zs.offField,fields:[d(Qs.enerRegen.tag)]}},{type:"conditional",conditional:{label:Ys("cond2"),metadata:Zs.exSpecialHits,fields:[d(Qs.physical_dmg_.tag),{title:"Duration",fieldValue:Ug.duration}]}}]},_t="IceJadeTeapot",[Xs,Yg]=m("wengine",_t),ec=$.wengine[_t],Zg=_(_t,"icon"),Qg=f[_t],tc=h[_t],Xg={title:Xs("phase"),img:Zg,documents:[{type:"text",text:i(p,{wKey:_t,children:e=>Xs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Yg("cond"),metadata:Qg.teariffic,fields:[d(tc.impact_.tag),{title:"Duration",fieldValue:ec.duration},d(tc.common_dmg_.tag),{title:"Duration",fieldValue:ec.teamBuffDuration}]}}]},yt="IdentityBase",[nc,ep]=m("wengine",yt),tp=$.wengine[yt],np=_(yt,"icon"),ip=f[yt],ap=h[yt],op={title:nc("phase"),img:np,documents:[{type:"text",text:i(p,{wKey:yt,children:e=>nc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ep("cond"),metadata:ip.equipperAttacked,fields:[d(ap.def_.tag),{title:"Duration",fieldValue:tp.duration}]}}]},Ba="IdentityInflection",[ic,Rb]=m("wengine",Ba),sp=_(Ba,"icon"),cp={title:ic("phase"),img:sp,documents:[{type:"text",text:i(p,{wKey:Ba,children:e=>ic(`phaseDescs.${e-1}`)})}]},$t="KaboomTheCannon",[ac,lp]=m("wengine",$t),dp=$.wengine[$t],rp=_($t,"icon"),mp=f[$t],up=h[$t],hp={title:ac("phase"),img:rp,documents:[{type:"text",text:i(p,{wKey:$t,children:e=>ac(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:lp("cond"),metadata:mp.allyHitsEnemy,fields:[d(up.atk_.tag),{title:"Duration",fieldValue:dp.duration}]}}]},bt="LunarDecrescent",[oc,fp]=m("wengine",bt),gp=$.wengine[bt],pp=_(bt,"icon"),_p=f[bt],yp=h[bt],$p={title:oc("phase"),img:pp,documents:[{type:"text",text:i(p,{wKey:bt,children:e=>oc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:fp("cond"),metadata:_p.chainOrUltUsed,fields:[d(yp.common_dmg_.tag),{title:"Duration",fieldValue:gp.duration}]}}]},Ta="LunarNoviluna",[sc,Ib]=m("wengine",Ta),bp=_(Ta,"icon"),xp={title:sc("phase"),img:bp,documents:[{type:"text",text:i(p,{wKey:Ta,children:e=>sc(`phaseDescs.${e-1}`)})}]},Mi="LunarPleniluna",[cc,zb]=m("wengine",Mi),wp=_(Mi,"icon"),da=h[Mi],vp={title:cc("phase"),img:wp,documents:[{type:"text",text:i(p,{wKey:Mi,children:e=>cc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(da.basic_dmg_.tag),d(da.dash_dmg_.tag),d(da.dodgeCounter_dmg_.tag)]}]},xt="MagneticStormAlpha",[lc,kp]=m("wengine",xt),dc=$.wengine[xt],Cp=_(xt,"icon"),Sp=f[xt],Dp=h[xt],Rp={title:lc("phase"),img:Cp,documents:[{type:"text",text:i(p,{wKey:xt,children:e=>lc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:kp("cond"),metadata:Sp.anomalyBuildupIncreased,fields:[d(Dp.anomMas.tag),{title:"Duration",fieldValue:dc.duration},{title:"Cooldown",fieldValue:dc.cooldown}]}}]},wt="MagneticStormBravo",[rc,Ip]=m("wengine",wt),mc=$.wengine[wt],zp=_(wt,"icon"),Mp=f[wt],Bp=h[wt],Tp={title:rc("phase"),img:zp,documents:[{type:"text",text:i(p,{wKey:wt,children:e=>rc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ip("cond"),metadata:Mp.anomalyBuildupIncreased,fields:[d(Bp.anomProf.tag),{title:"Duration",fieldValue:mc.duration},{title:"Cooldown",fieldValue:mc.cooldown}]}}]},Ea="MagneticStormCharlie",[uc,Mb]=m("wengine",Ea),Ep=_(Ea,"icon"),Vp={title:uc("phase"),img:Ep,documents:[{type:"text",text:i(p,{wKey:Ea,children:e=>uc(`phaseDescs.${e-1}`)})}]},vt="MarcatoDesire",[hc,fc]=m("wengine",vt),Pp=$.wengine[vt],Op=_(vt,"icon"),gc=f[vt],Ap=h[vt],qp={title:hc("phase"),img:Op,documents:[{type:"text",text:i(p,{wKey:vt,children:e=>hc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:fc("cond1"),metadata:gc.exSpecialOrChainHitsEnemy,fields:[d(Ap.atk_.tag),{title:"Duration",fieldValue:Pp.duration}]}},{type:"conditional",conditional:{label:fc("cond2"),metadata:gc.attributeAnomalyInflicted}}]},kt="Metanukimorphosis",[pc,Fp]=m("wengine",kt),_c=$.wengine[kt],jp=_(kt,"icon"),yc=f[kt],$c=h[kt],Lp={title:pc("phase"),img:jp,documents:[{type:"text",text:i(p,{wKey:kt,children:e=>pc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{metadata:yc.physical_exSpecial_ult,label:Fp("physical_exSpecial_ult_cond"),fields:[d($c.physical_exSpecial_ult_anomMas.tag),{title:A("duration"),fieldValue:_c.amDuration}]}},{type:"conditional",conditional:{metadata:yc.aftershock,label:A("uponHit.1",{val1:"$t(skills.aftershock)"}),fields:[d($c.aftershock_team_anomProf.tag),{title:A("duration"),fieldValue:_c.apDuration}]}}]},Ct="MyriadEclipse",[bc,Hp]=m("wengine",Ct),Kp=$.wengine[Ct],Wp=_(Ct,"icon"),Np=f[Ct],xc=h[Ct],Up={title:bc("phase"),img:Wp,documents:[{type:"text",text:i(p,{wKey:Ct,children:e=>bc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(xc.crit_dmg_.tag)]},{type:"conditional",conditional:{label:Hp("cond"),metadata:Np.deathSentence,fields:[d(xc.deathSentence_defIgn_.tag),{title:"Duration",fieldValue:Kp.duration}]}}]},St="OriginalTransmorpher",[wc,Gp]=m("wengine",St),Jp=$.wengine[St],Yp=_(St,"icon"),Zp=f[St],vc=h[St],Qp={title:wc("phase"),img:Yp,documents:[{type:"text",text:i(p,{wKey:St,children:e=>wc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(vc.passive_hp_.tag)]},{type:"conditional",conditional:{label:Gp("cond"),metadata:Zp.equipperHit,fields:[d(vc.impact_.tag),{title:"Duration",fieldValue:Jp.duration}]}}]},zn="PeacekeeperSpecialized",[kc,Xp]=m("wengine",zn),e_=_(zn,"icon"),t_=f[zn],ra=h[zn],n_={title:kc("phase"),img:e_,documents:[{type:"text",text:i(p,{wKey:zn,children:e=>kc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Xp("cond"),metadata:t_.shielded,fields:[d(ra.enerRegen.tag)]}},{type:"fields",fields:[d(ra.passive_exSpecial_anomBuildup_.tag),d(ra.passive_assist_anomBuildup_.tag)]}]},Dt="PracticedPerfection",[Cc,Bb]=m("wengine",Dt),i_=$.wengine[Dt],a_=_(Dt,"icon"),o_=f[Dt],Sc=h[Dt],s_={title:Cc("phase"),img:a_,documents:[{type:"text",text:i(p,{wKey:Dt,children:e=>Cc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Sc.anomMas.tag)]},{type:"conditional",conditional:{metadata:o_.stacks,label:A("stacks"),fields:[d(Sc.stacks_phys_dmg_.tag),{title:A("duration"),fieldValue:i_.duration}]}}]},Mn="PreciousFossilizedCore",[Dc,Rc]=m("wengine",Mn),c_=_(Mn,"icon"),Ic=f[Mn],l_=h[Mn],d_={title:Dc("phase"),img:c_,documents:[{type:"text",text:i(p,{wKey:Mn,children:e=>Dc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Rc("cond1"),metadata:Ic.enemyHpGE50,fields:[d(l_.daze_.tag)]}},{type:"conditional",conditional:{label:Rc("cond2"),metadata:Ic.enemyHpGE75}}]},Rt="PuzzleSphere",[zc]=m("wengine",Rt),Mc=$.wengine[Rt],r_=_(Rt,"icon"),Bc=f[Rt],Tc=h[Rt],m_={title:zc("phase"),img:r_,documents:[{type:"text",text:i(p,{wKey:Rt,children:e=>zc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:A("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:Bc.launchingExSpecial,fields:[d(Tc.launchingExSpecial_crit_dmg_.tag),{title:A("duration"),fieldValue:Mc.duration}]}},{type:"conditional",conditional:{label:A("targetHpLe",{val:Mc.hpThresh*100}),metadata:Bc.targetHpBelow50,fields:[d(Tc.targetHpBelow50_exSpecial_dmg_.tag)]}}]},It="QingmingBirdcage",[Ec,u_]=m("wengine",It),h_=$.wengine[It],f_=_(It,"icon"),g_=f[It],Wn=h[It],p_={title:Ec("phase"),img:f_,documents:[{type:"text",text:i(p,{wKey:It,children:e=>Ec(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Wn.crit_.tag)]},{type:"conditional",conditional:{metadata:g_.qingmingCompanionStacks,label:u_("cond"),fields:[d(Wn.qingmingCompanionStacks_ether_dmg_.tag),d(Wn.qingmingCompanionStacks_ult_ether_sheer_dmg_.tag),d(Wn.qingmingCompanionStacks_exSpecial_ether_sheer_dmg_.tag),{title:A("cd"),fieldValue:h_.duration}]}}]},zt="RadiowaveJourney",[Vc]=m("wengine",zt),__=$.wengine[zt],y_=_(zt,"icon"),$_=f[zt],b_=h[zt],x_={title:Vc("phase"),img:y_,documents:[{type:"text",text:i(p,{wKey:zt,children:e=>Vc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{metadata:$_.launchingChainOrUlt,label:A("uponLaunch.2",{val1:"$t(skills.chain)",val2:"$t(skills.ult)"}),fields:[d(b_.launchingChainOrUlt_sheerForce.tag),{title:A("duration"),fieldValue:__.duration}]}}]},Mt="RainforestGourmet",[Pc,w_]=m("wengine",Mt),v_=$.wengine[Mt],k_=_(Mt,"icon"),C_=f[Mt],S_=h[Mt],D_={title:Pc("phase"),img:k_,documents:[{type:"text",text:i(p,{wKey:Mt,children:e=>Pc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:w_("cond"),metadata:C_.energyConsumed,fields:[d(S_.atk_.tag),{title:"Duration",fieldValue:v_.duration}]}}]},Va="ReelProjector",[Oc]=m("wengine",Va),R_=_(Va,"icon"),I_={title:Oc("phase"),img:R_,documents:[{type:"text",text:i(p,{wKey:Va,children:e=>Oc(`phaseDescs.${e-1}`)})}]},Bt="ReverbMarkI",[Ac,z_]=m("wengine",Bt),M_=$.wengine[Bt],B_=_(Bt,"icon"),T_=f[Bt],E_=h[Bt],V_={title:Ac("phase"),img:B_,documents:[{type:"text",text:i(p,{wKey:Bt,children:e=>Ac(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:z_("cond"),metadata:T_.exSpecialUsed,fields:[d(E_.impact_.tag),{title:"Duration",fieldValue:M_.duration}]}}]},Tt="ReverbMarkII",[qc,P_]=m("wengine",Tt),O_=$.wengine[Tt],A_=_(Tt,"icon"),q_=f[Tt],Fc=h[Tt],F_={title:qc("phase"),img:A_,documents:[{type:"text",text:i(p,{wKey:Tt,children:e=>qc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:P_("cond"),metadata:q_.exSpecialOrChainUsed,fields:[d(Fc.anomMas.tag),d(Fc.anomProf.tag),{title:"Duration",fieldValue:O_.duration}]}}]},Et="ReverbMarkIII",[jc,j_]=m("wengine",Et),L_=$.wengine[Et],H_=_(Et,"icon"),K_=f[Et],W_=h[Et],N_={title:jc("phase"),img:H_,documents:[{type:"text",text:i(p,{wKey:Et,children:e=>jc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:j_("cond"),metadata:K_.chainOrUltUsed,fields:[d(W_.atk_.tag),{title:"Duration",fieldValue:L_.duration}]}}]},Bn="RiotSuppressorMarkVI",[Lc,U_]=m("wengine",Bn),G_=_(Bn,"icon"),J_=f[Bn],Hc=h[Bn],Y_={title:Lc("phase"),img:G_,documents:[{type:"text",text:i(p,{wKey:Bn,children:e=>Lc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Hc.passive_crit_.tag)]},{type:"conditional",conditional:{label:U_("cond"),metadata:J_.charge,fields:[d(Hc.basic_ether_dmg_.tag)]}}]},Vt="RoaringFurnace",[Kc,Z_]=m("wengine",Vt),Q_=$.wengine[Vt],X_=_(Vt,"icon"),ey=f[Vt],Nn=h[Vt],ty={title:Kc("phase"),img:X_,documents:[{type:"text",text:i(p,{wKey:Vt,children:e=>Kc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Nn.exSpecial_dazeInc_.tag),d(Nn.chain_dazeInc_.tag),d(Nn.ult_dazeInc_.tag)]},{type:"conditional",conditional:{metadata:ey.chainOrUlt,label:Z_("cond"),fields:[d(Nn.team_chainOrUlt_fire_dmg_.tag),{title:A("duration"),fieldValue:Q_.duration}]}}]},Pt="RoaringRide",[Wc,ma]=m("wengine",Pt),ua=$.wengine[Pt],ny=_(Pt,"icon"),ha=f[Pt],fa=h[Pt],iy={title:Wc("phase"),img:ny,documents:[{type:"text",text:i(p,{wKey:Pt,children:e=>Wc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ma("cond_atk_"),metadata:ha.atk_,fields:[d(fa.atk_.tag),{title:"Duration",fieldValue:ua.duration}]}},{type:"conditional",conditional:{label:ma("cond_anomProf"),metadata:ha.anomProf,fields:[d(fa.anomProf.tag),{title:"Duration",fieldValue:ua.duration}]}},{type:"conditional",conditional:{label:ma("cond_anomBuildup_"),metadata:ha.anomBuildup_,fields:[d(fa.anomBuildup_.tag),{title:"Duration",fieldValue:ua.duration}]}}]},Ot="SeveredInnocence",[Nc,ay]=m("wengine",Ot),oy=$.wengine[Ot],sy=_(Ot,"icon"),cy=f[Ot],ga=h[Ot],ly={title:Nc("phase"),img:sy,documents:[{type:"text",text:i(p,{wKey:Ot,children:e=>Nc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ga.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:ay("cond"),metadata:cy.basicSpecialAftershockHit,fields:[d(ga.crit_dmg_.tag),d(ga.electric_dmg_.tag),{title:"Duration",fieldValue:oy.duration}]}}]},At="SharpenedStinger",[Uc,dy]=m("wengine",At),ry=$.wengine[At],my=_(At,"icon"),uy=f[At],Gc=h[At],hy={title:Uc("phase"),img:my,documents:[{type:"text",text:i(p,{wKey:At,children:e=>Uc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:dy("cond"),metadata:uy.predatoryInstinct,fields:[d(Gc.physical_dmg_.tag),{title:"Duration",fieldValue:ry.duration}]}},{type:"fields",fields:[d(Gc.anomBuildup_.tag)]}]},Tn="SixShooter",[Jc,fy]=m("wengine",Tn),gy=_(Tn,"icon"),py=f[Tn],_y=h[Tn],yy={title:Jc("phase"),img:gy,documents:[{type:"text",text:i(p,{wKey:Tn,children:e=>Jc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:fy("cond"),metadata:py.charge,fields:[d(_y.exSpecial_daze_.tag)]}}]},Pa="SliceOfTime",[Yc,Tb]=m("wengine",Pa),$y=_(Pa,"icon"),by={title:Yc("phase"),img:$y,documents:[{type:"text",text:i(p,{wKey:Pa,children:e=>Yc(`phaseDescs.${e-1}`)})}]},qt="SpectralGaze",[Zc,Qc]=m("wengine",qt),Xc=$.wengine[qt],xy=_(qt,"icon"),el=f[qt],tl=h[qt],wy={title:Zc("phase"),img:xy,documents:[{type:"text",text:i(p,{wKey:qt,children:e=>Zc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Qc("cond1"),metadata:el.hit_aftershock_electric,fields:[d(tl.cond_defRed_.tag),{title:"Duration",fieldValue:Xc.duration1}]}},{type:"conditional",conditional:{label:Qc("cond2"),metadata:el.spiritLock,fields:[d(tl.cond_impact_.tag),{title:"Duration",fieldValue:Xc.duration2}]}}]},Ft="SpringEmbrace",[nl,vy]=m("wengine",Ft),ky=$.wengine[Ft],Cy=_(Ft,"icon"),Sy=f[Ft],il=h[Ft],Dy={title:nl("phase"),img:Cy,documents:[{type:"text",text:i(p,{wKey:Ft,children:e=>nl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(il.passive_dmg_red_.tag)]},{type:"conditional",conditional:{label:vy("cond"),metadata:Sy.when_attacked,fields:[d(il.cond_enerRegen_.tag),{title:"Duration",fieldValue:ky.duration}]}}]},jt="StarlightEngine",[al,Ry]=m("wengine",jt),Iy=$.wengine[jt],zy=_(jt,"icon"),My=f[jt],By=h[jt],Ty={title:al("phase"),img:zy,documents:[{type:"text",text:i(p,{wKey:jt,children:e=>al(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ry("cond"),metadata:My.dodgecounter_quickassist,fields:[d(By.cond_dmg_.tag),{title:"Duration",fieldValue:Iy.duration}]}}]},Lt="StarlightEngineReplica",[ol,Ey]=m("wengine",Lt),Vy=$.wengine[Lt],Py=_(Lt,"icon"),Oy=f[Lt],Ay=h[Lt],qy={title:ol("phase"),img:Py,documents:[{type:"text",text:i(p,{wKey:Lt,children:e=>ol(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ey("cond"),metadata:Oy.hit_away,fields:[d(Ay.cond_dmg_.tag),{title:"Duration",fieldValue:Vy.duration}]}}]},Ht="SteamOven",[sl,Fy]=m("wengine",Ht),jy=$.wengine[Ht],Ly=_(Ht,"icon"),Hy=f[Ht],Ky=h[Ht],Wy={title:sl("phase"),img:Ly,documents:[{type:"text",text:i(p,{wKey:Ht,children:e=>sl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Fy("cond"),metadata:Hy.stacks,fields:[d(Ky.cond_impact_.tag),{title:"Duration",fieldValue:jy.duration}]}}]},En="SteelCushion",[cl,Ny]=m("wengine",En),Uy=_(En,"icon"),Gy=f[En],ll=h[En],Jy={title:cl("phase"),img:Uy,documents:[{type:"text",text:i(p,{wKey:En,children:e=>cl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ll.passive_physical_dmg_.tag)]},{type:"conditional",conditional:{label:Ny("cond"),metadata:Gy.hit_behind,fields:[d(ll.cond_dmg_.tag)]}}]},Vn="StreetSuperstar",[dl,Yy]=m("wengine",Vn),Zy=_(Vn,"icon"),Qy=f[Vn],Xy=h[Vn],e$={title:dl("phase"),img:Zy,documents:[{type:"text",text:i(p,{wKey:Vn,children:e=>dl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Yy("cond"),metadata:Qy.charge,fields:[d(Xy.cond_ult_dmg_.tag)]}}]},Kt="TheBrimstone",[rl,t$]=m("wengine",Kt),n$=$.wengine[Kt],i$=_(Kt,"icon"),a$=f[Kt],o$=h[Kt],s$={title:rl("phase"),img:i$,documents:[{type:"text",text:i(p,{wKey:Kt,children:e=>rl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:t$("cond"),metadata:a$.hit_basic_dash_dodge,fields:[d(o$.cond_atk_.tag),{title:"Duration",fieldValue:n$.duration}]}}]},Wt="TheRestrained",[ml,c$]=m("wengine",Wt),l$=$.wengine[Wt],d$=_(Wt,"icon"),r$=f[Wt],ul=h[Wt],m$={title:ml("phase"),img:d$,documents:[{type:"text",text:i(p,{wKey:Wt,children:e=>ml(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:c$("cond"),metadata:r$.dmg_daze_,fields:[d(ul.basic_dmg_.tag),d(ul.basic_daze_.tag),{title:"Duration",fieldValue:l$.duration}]}}]},Nt="TheVault",[hl,u$]=m("wengine",Nt),h$=$.wengine[Nt],f$=_(Nt,"icon"),g$=f[Nt],p$=h[Nt],_$={title:hl("phase"),img:f$,documents:[{type:"text",text:i(p,{wKey:Nt,children:e=>hl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:u$("cond"),metadata:g$.ether_hit,fields:[d(p$.cond_dmg_.tag),{title:"Duration",fieldValue:h$.duration}]}}]},Ut="Timeweaver",[fl,y$]=m("wengine",Ut),$$=$.wengine[Ut],b$=_(Ut,"icon"),x$=f[Ut],pa=h[Ut],w$={title:fl("phase"),img:b$,documents:[{type:"text",text:i(p,{wKey:Ut,children:e=>fl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(pa.passive_electric_anomBuildup_.tag),d(pa.passive_disorder_dmg_.tag)]},{type:"conditional",conditional:{label:y$("cond"),metadata:x$.hit_anomaly,fields:[d(pa.cond_anomProf.tag),{title:"Duration",fieldValue:$$.duration}]}}]},Bi="TremorTrigramVessel",[gl]=m("wengine",Bi),v$=_(Bi,"icon"),pl=h[Bi],k$={title:gl("phase"),img:v$,documents:[{type:"text",text:i(p,{wKey:Bi,children:e=>gl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(pl.exSpecial_dmg_.tag),d(pl.ult_dmg_.tag)]}]},Gt="TusksOfFury",[_l,C$]=m("wengine",Gt),S$=$.wengine[Gt],D$=_(Gt,"icon"),R$=f[Gt],_a=h[Gt],I$={title:_l("phase"),img:D$,documents:[{type:"text",text:i(p,{wKey:Gt,children:e=>_l(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(_a.passive_shield_.tag)]},{type:"conditional",conditional:{label:C$("cond"),metadata:R$.interrupt_perfdodge,fields:[d(_a.cond_dmg_.tag),d(_a.daze_.tag),{title:"Duration",fieldValue:S$.duration}]}}]},Jt="UnfetteredGameBall",[yl,z$]=m("wengine",Jt),M$=$.wengine[Jt],B$=_(Jt,"icon"),T$=f[Jt],E$=h[Jt],V$={title:yl("phase"),img:B$,documents:[{type:"text",text:i(p,{wKey:Jt,children:e=>yl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:z$("cond"),metadata:T$.anomaly_counter,fields:[d(E$.cond_crit_.tag),{title:"Duration",fieldValue:M$.duration}]}}]},Ti="VortexArrow",[$l,Eb]=m("wengine",Ti),P$=_(Ti,"icon"),O$=h[Ti],A$={title:$l("phase"),img:P$,documents:[{type:"text",text:i(p,{wKey:Ti,children:e=>$l(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(O$.passive_daze_.tag)]}]},Yt="VortexHatchet",[bl,q$]=m("wengine",Yt),xl=$.wengine[Yt],F$=_(Yt,"icon"),j$=f[Yt],L$=h[Yt],H$={title:bl("phase"),img:F$,documents:[{type:"text",text:i(p,{wKey:Yt,children:e=>bl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:q$("cond"),metadata:j$.entering,fields:[d(L$.cond_impact_.tag),{title:"Duration",fieldValue:xl.duration},{title:"Cooldown",fieldValue:xl.cooldown}]}}]},Ei="VortexRevolver",[wl,Vb]=m("wengine",Ei),K$=_(Ei,"icon"),W$=h[Ei],N$={title:wl("phase"),img:K$,documents:[{type:"text",text:i(p,{wKey:Ei,children:e=>wl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(W$.passive_exSpecial_daze_.tag)]}]},Zt="WeepingCradle",[vl,kl]=m("wengine",Zt),U$=$.wengine[Zt],G$=_(Zt,"icon"),Cl=f[Zt],J$=h[Zt],Y$={title:vl("phase"),img:G$,documents:[{type:"text",text:i(p,{wKey:Zt,children:e=>vl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:kl("cond_atk"),metadata:Cl.attack}},{type:"conditional",conditional:{label:kl("cond_stacks"),metadata:Cl.stacks,fields:[d(J$.cond_dmg_.tag),{title:"Duration",fieldValue:U$.duration}]}}]},Pn="WeepingGemini",[Sl,Z$]=m("wengine",Pn),Q$=_(Pn,"icon"),X$=f[Pn],eb=h[Pn],tb={title:Sl("phase"),img:Q$,documents:[{type:"text",text:i(p,{wKey:Pn,children:e=>Sl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Z$("cond"),metadata:X$.anomaly_stack,fields:[d(eb.anomProf.tag)]}}]},Qt="ZanshinHerbCase",[Dl,nb]=m("wengine",Qt),ib=$.wengine[Qt],ab=_(Qt,"icon"),ob=f[Qt],ya=h[Qt],sb={title:Dl("phase"),img:ab,documents:[{type:"text",text:i(p,{wKey:Qt,children:e=>Dl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ya.passive_crit_.tag),d(ya.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:nb("cond"),metadata:ob.apply_anom_stun,fields:[d(ya.cond_crit_.tag),{title:"Duration",fieldValue:ib.duration}]}}]},cb={BashfulDemon:Rf,BigCylinder:Tf,BlazingLaurel:Vf,BoxCutter:Ff,BunnyBand:Kf,CannonRotor:Jf,CinderCobalt:Xf,DeepSeaVisitor:tg,DemaraBatteryMarkII:sg,DrillRigRedAxis:rg,ElectroLipGloss:fg,ElegantVanity:bg,FlamemakerShaker:wg,FlightOfFancy:Sg,FusionCompiler:Mg,GildedBlossom:Tg,HailstormShrine:Ag,HeartstringNocturne:Hg,HellfireGears:Ng,Housekeeper:Jg,IceJadeTeapot:Xg,IdentityBase:op,IdentityInflection:cp,KaboomTheCannon:hp,LunarDecrescent:$p,LunarNoviluna:xp,LunarPleniluna:vp,MagneticStormAlpha:Rp,MagneticStormBravo:Tp,MagneticStormCharlie:Vp,MarcatoDesire:qp,Metanukimorphosis:Lp,MyriadEclipse:Up,OriginalTransmorpher:Qp,PeacekeeperSpecialized:n_,PracticedPerfection:s_,PreciousFossilizedCore:d_,PuzzleSphere:m_,QingmingBirdcage:p_,RadiowaveJourney:x_,RainforestGourmet:D_,ReelProjector:I_,ReverbMarkI:V_,ReverbMarkII:F_,ReverbMarkIII:N_,RiotSuppressorMarkVI:Y_,RoaringFurnace:ty,RoaringRide:iy,SeveredInnocence:ly,SharpenedStinger:hy,SixShooter:yy,SliceOfTime:by,SpectralGaze:wy,SpringEmbrace:Dy,StarlightEngine:Ty,StarlightEngineReplica:qy,SteamOven:Wy,SteelCushion:Jy,StreetSuperstar:e$,TheBrimstone:s$,TheRestrained:m$,TheVault:_$,Timeweaver:w$,TremorTrigramVessel:k$,TusksOfFury:I$,UnfetteredGameBall:V$,VortexArrow:A$,VortexHatchet:H$,VortexRevolver:N$,WeepingCradle:Y$,WeepingGemini:tb,ZanshinHerbCase:sb};function lb(e){const{attribute:t}=e;if(t)return t}function db(e){const{q:t}=e;return["standardDmg","anomalyDmg"].includes(t)}function rb(e){const{damageType1:t,damageType2:n}=e,a=[];return db(e)?(t&&a.push(t),n&&a.push(n),a):[]}const ei={basic:"Basic",dash:"Dash",dodgeCounter:"Dodge Counter",special:"Special",exSpecial:"EX Special",chain:"Chain",ult:"Ultimate",quickAssist:"Quick Assist",defensiveAssist:"Defensive Assist",evasiveAssist:"Evasive Assist",assistFollowUp:"Assist Follow Up",anomaly:"Anomaly",disorder:"Disorder",aftershock:"Aftershock",elemental:"Elemental",sheer:"Sheer"},_d=["crit_","crit_dmg_","impact","pen","pen_","enerRegen","anomProf","anomMas","anom_crit_","anom_crit_dmg_"].map(e=>{if(Ar.includes(e)){const t={...j.final.dmg_.tag,attribute:e.slice(0,-5)};return{title:i(rn,{statKey:e}),fieldRef:t}}return e==="crit_"?{fieldRef:j.common.cappedCrit_.tag,title:i(rn,{statKey:e})}:e==="anom_crit_"?{fieldRef:j.common.anom_cappedCrit_.tag,title:i(rn,{statKey:e})}:{fieldRef:j.final[e].tag,title:i(rn,{statKey:e})}});_d.push(...Ke.map(e=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,name:"standardDmgInst"},title:x(We,{color:e,children:[ze[e]," Damage"]})})),...Ke.map(e=>({fieldRef:{et:"own",qt:"formula",q:"sheerDmg",attribute:e,name:"sheerDmgInst"},title:x(We,{color:e,children:[ze[e]," Damage"]})})),...Ke.flatMap(e=>qr.map(t=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,damageType1:t,name:"standardDmgInst"},title:x(We,{color:e,children:[ze[e]," ",ei[t]," Damage"]})}))),...Ke.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomalyDmg",attribute:e,damageType1:"anomaly",name:"anomalyDmgInst"},title:x(We,{color:e,children:[ze[e]," Anomaly Damage"]})})),...Ke.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomBuildup",attribute:e,name:"anomalyBuildupInst"},title:x(We,{color:e,children:[ze[e]," Anomaly Buildup"]})})),{fieldRef:{et:"own",qt:"formula",q:"dazeBuildup",name:"dazeInst"},title:"Daze Buildup"});const Oa=[];Object.values(fh).forEach(e=>Object.values(e).forEach(t=>t.documents.forEach(n=>n.type==="fields"&&n.fields.forEach(a=>Rm(a)&&Oa.push({tag:a.fieldRef,value:a})))));_d.forEach(e=>{Oa.push({tag:e.fieldRef,value:e})});const mb=fm(Oa),ba=new Map;function yd(e,t){if(ba.get(e))throw new Error(`Duplicate conditional ${e}`);ba.set(e,t)}Object.values(cb).forEach(({documents:e})=>{e.forEach(t=>{t.type==="conditional"&&yd(`${t.conditional.metadata.sheet}:${t.conditional.metadata.name}`,t.conditional)})});Object.values(vf).forEach(e=>Object.values(e).forEach(({documents:t})=>{t.forEach(n=>{n.type==="conditional"&&yd(`${n.conditional.metadata.sheet}:${n.conditional.metadata.name}`,n.conditional)})}));export{pm as A,bb as C,Za as D,_b as F,oi as T,hn as a,cd as b,im as c,em as d,vf as e,ei as f,qm as g,ai as h,Km as i,$b as j,yb as k,_m as l,ii as m,gm as n,pb as o,wm as p,Fm as q,xm as r,fd as s,om as u,cb as w};
