import{c5 as Wl,J as Nl,H as Ul,d as k,K as Gl,_ as Jl,O as Ae,c6 as lo,X as si,W as ui,V as Ze,c7 as Y,Y as Yl,c8 as Wd,c9 as Nd,T as O,y as Zl,ca as ro,cb as Ql,cc as Ud,a4 as Gd,cd as Jd,a7 as Yd,ce as Xl,u as pe,aN as ed,aL as Zd,cf as Qd,cg as Xd,ch as er,ci as td,b4 as nd,b3 as id,cj as q,ck as tr,cl as nr,bB as L,b9 as ir,ba as ar,cm as ci,cn as or,co as sr,cp as ad,cq as li,cr,j as i,cs as di,ct as Ee,bt as ue,bC as Oa,cu as lr,e as x,am as ie,aA as wn,cv as ri,i as Q,ax as te,bW as od,cw as dr,cx as sd,cy as cd,cz as Fa,cA as ke,ae as qa,o as z,cB as rr,cC as ld,a as dd,bJ as mr,l as rd,b$ as fr,f as he,G as Z,C as Qe,S as Ve,P as ur,bN as hr,bg as Va,c0 as mo,br as md,aX as Je,c1 as pr,c2 as gr,I as La,s as ja,c3 as _r,cD as yr,v as bn,M as Ha,aM as hi,ac as fd,ad as ud,cE as $r,m as br,k as xr,n as wr,bf as kr,D as vr,c4 as Cr,cF as Sr,w as hd,r as Dr,b as Rr,c as Ir,g as zr,bx as pd,bF as gd,bD as _d,cG as Br,cH as Mr,E as Tr,cI as Er,z as kn,B as Xe,cJ as Ka,F as vn,cK as yd,cL as Ar,ah as Wa,ag as Vr,aY as Ye,ap as Pr,b6 as Or,cM as Fr,cN as qr,cO as Lr,aH as $d,aF as yn,ai as jr,cP as Hr,bz as Kr,cQ as Wr,aK as Nr,cR as Ur,cS as Gr,bZ as Jr,cT as Yr,cU as Zr,cV as ce,cW as bd,a5 as fo,b8 as uo,cX as Qr,cY as Xr,be as xd,cZ as em,c_ as $,c$ as M,a$ as h,a_ as f,ay as T,aD as _,d0 as tm,bI as nm}from"./index-B8QS1hVH.js";import{i as im,d as am}from"./discSortUtil-fwjkwoX-.js";function om(e){const{badgeContent:t,invisible:n=!1,max:a=99,showZero:o=!1}=e,l=Wl({badgeContent:t,max:a});let s=n;n===!1&&t===0&&!o&&(s=!0);const{badgeContent:r,max:u=a}=s?l:e,p=r&&Number(r)>u?`${u}+`:r;return{badgeContent:r,invisible:s,max:u,displayValue:p}}function sm(e){return Ul("MuiBadge",e)}const ge=Nl("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),cm=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Qi=10,Xi=4,lm=e=>{const{color:t,anchorOrigin:n,invisible:a,overlap:o,variant:l,classes:s={}}=e,r={root:["root"],badge:["badge",l,a&&"invisible",`anchorOrigin${Y(n.vertical)}${Y(n.horizontal)}`,`anchorOrigin${Y(n.vertical)}${Y(n.horizontal)}${Y(o)}`,`overlap${Y(o)}`,t!=="default"&&`color${Y(t)}`]};return Yl(r,sm,s)},dm=ui("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),rm=ui("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${Y(n.anchorOrigin.vertical)}${Y(n.anchorOrigin.horizontal)}${Y(n.overlap)}`],n.color!=="default"&&t[`color${Y(n.color)}`],n.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:Qi*2,lineHeight:1,padding:"0 6px",height:Qi*2,borderRadius:Qi,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(n=>{var a,o;return((a=e.vars)!=null?a:e).palette[n].main&&((o=e.vars)!=null?o:e).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Xi,height:Xi*2,minWidth:Xi*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ge.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}}),ho=k.forwardRef(function(t,n){var a,o,l,s,r,u;const p=Gl({props:t,name:"MuiBadge"}),{anchorOrigin:w={vertical:"top",horizontal:"right"},className:D,component:S,components:y={},componentsProps:b={},children:v,overlap:R="rectangular",color:j="default",invisible:N=!1,max:le=99,badgeContent:de,slots:W,slotProps:I,showZero:V=!1,variant:F="standard"}=p,re=Jl(p,cm),{badgeContent:to,invisible:Vd,max:Pd,displayValue:Od}=om({max:le,invisible:N,badgeContent:de,showZero:V}),Fd=Wl({anchorOrigin:w,color:j,overlap:R,variant:F,badgeContent:de}),no=Vd||to==null&&F!=="dot",{color:qd=j,overlap:Ld=R,anchorOrigin:jd=w,variant:io=F}=no?Fd:p,ao=io!=="dot"?Od:void 0,Ji=Ae({},p,{badgeContent:to,invisible:no,max:Pd,displayValue:ao,showZero:V,anchorOrigin:jd,color:qd,overlap:Ld,variant:io}),oo=lm(Ji),so=(a=(o=W==null?void 0:W.root)!=null?o:y.Root)!=null?a:dm,co=(l=(s=W==null?void 0:W.badge)!=null?s:y.Badge)!=null?l:rm,Yi=(r=I==null?void 0:I.root)!=null?r:b.root,Zi=(u=I==null?void 0:I.badge)!=null?u:b.badge,Hd=lo({elementType:so,externalSlotProps:Yi,externalForwardedProps:re,additionalProps:{ref:n,as:S},ownerState:Ji,className:si(Yi==null?void 0:Yi.className,oo.root,D)}),Kd=lo({elementType:co,externalSlotProps:Zi,ownerState:Ji,className:si(oo.badge,Zi==null?void 0:Zi.className)});return Ze.jsxs(so,Ae({},Hd,{children:[v,Ze.jsx(co,Ae({},Kd,{children:ao}))]}))});function mm(e){return Ul("MuiFormControlLabel",e)}const $n=Nl("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),fm=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],um=e=>{const{classes:t,disabled:n,labelPlacement:a,error:o,required:l}=e,s={root:["root",n&&"disabled",`labelPlacement${Y(a)}`,o&&"error",l&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return Yl(s,mm,t)},hm=ui("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${$n.label}`]:t.label},t.root,t[`labelPlacement${Y(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>Ae({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${$n.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${$n.label}`]:{[`&.${$n.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),pm=ui("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${$n.error}`]:{color:(e.vars||e).palette.error.main}})),gm=k.forwardRef(function(t,n){var a,o;const l=Gl({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:r={},control:u,disabled:p,disableTypography:w,label:D,labelPlacement:S="end",required:y,slotProps:b={}}=l,v=Jl(l,fm),R=Wd(),j=(a=p??u.props.disabled)!=null?a:R==null?void 0:R.disabled,N=y??u.props.required,le={disabled:j,required:N};["checked","name","onChange","value","inputRef"].forEach(re=>{typeof u.props[re]>"u"&&typeof l[re]<"u"&&(le[re]=l[re])});const de=Nd({props:l,muiFormControl:R,states:["error"]}),W=Ae({},l,{disabled:j,labelPlacement:S,required:N,error:de.error}),I=um(W),V=(o=b.typography)!=null?o:r.typography;let F=D;return F!=null&&F.type!==O&&!w&&(F=Ze.jsx(O,Ae({component:"span"},V,{className:si(I.label,V==null?void 0:V.className),children:F}))),Ze.jsxs(hm,Ae({className:si(I.root,s),ownerState:W,ref:n},v,{children:[k.cloneElement(u,le),N?Ze.jsxs(Zl,{display:"block",children:[F,Ze.jsxs(pm,{ownerState:W,"aria-hidden":!0,className:I.asterisk,children:["â€‰","*"]})]}):F]}))}),_m={};class wd{constructor(t,n){this.root=new ym(t,n)}subset(t){const n=[];return this._subset(t,a=>n.push(...a[ro].map(o=>o.value))),n}entries(t){const n=[];return this._subset(t,a=>n.push(...a[ro])),n}_subset(t,n){const a=t.length;function o(l,s){l<a?s.subset(t[l]).forEach(r=>o(l+1,r)):n(s.leaf)}o(0,this.root)}}let ym=class kd{constructor(t,n){if(this.children=[],t>0)for(const[a,o]of Object.entries(n)){const l=new Map;for(const[s,r]of Object.entries(o))l.set(+s,new kd(t-1,r));this.children.push({mask:+a,map:l})}else this.leaf=n}subset(t){return this.children.map(({mask:n,map:a})=>a.get(t&n)).filter(n=>!!n)}};class po{constructor(t){this.root=new Na(void 0),this.keys=t}at(t){const n=this.keys.get(t),a=n.reduce((o,l)=>o.child(l),this.root);return a.leaf||(a.leaf=new Ua(t,n,this.keys,a)),a.leaf}}class Na{constructor(t){this.children=new Map,this.parent=t}child(t){let n=this.children.get(t);return n||(n=new Na(this),this.children.set(t,n),n)}}class Ua{constructor(t,n,a,o){this.tag=Object.fromEntries(Object.entries(t).filter(([l,s])=>s!=null)),this.id=n,this.keys=a,this.internal=o}with(t){const{keys:n}=this,{id:a,firstReplacedByte:o}=n.combine(this.id,t);let l=this.internal;for(let s=o;s<n.tagLen;s++)l=l.parent;for(let s=o;s<n.tagLen;s++)l=l.child(a[s]);return l.leaf||(l.leaf=new Ua({...this.tag,...t},a,n,l)),l.leaf}}class $m{constructor(t,n){this.keys=new Ql(t),this.values=new wd(t.tagLen,n)}subset(t){return this.values.subset(this.keys.get(t))}}const xn={sum:e=>e.reduce((t,n)=>t+n,0),prod:e=>e.reduce((t,n)=>t*n,1),min:e=>Math.min(...e),max:e=>Math.max(...e),sumfrac:([e,t])=>e/(e+t),unique:([e])=>e},vd={match:([e,t])=>e===t?0:1,thres:([e,t])=>e>=t?0:1,lookup:([e],t)=>t[e]??0},Un=e=>Jd(e,"val");let Cd=class{constructor(t,...n){const a=new Ql(t);this.nodes=new wd(a.tagLen,Ud(n)),this.cache=new po(a).at({}),this.calc=new po(a).at({}),this.calc.val=this}withTag(t){const n=this.calc.with(t);return n.val??(n.val=Object.assign(new this.constructor(this.cache.keys),this,{cache:this.cache.with(t),calc:n}))}gather(t){return this._gather(this.cache.with(t)).pre}compute(t){return this._compute(t,this.cache)}_gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:a,value:o})=>o.op==="reread"?this._gather(t.with(o.tag)).pre:[this.markGathered(t.tag,a,o,this._compute(o,t))]);return t.val={pre:n}}_compute(t,n){const a=(l,s,r,u)=>Object.freeze({val:l,meta:this.computeMeta(t,l,s,r,u)}),{op:o}=t;switch(o){case"const":return a(t.ex,[],[]);case"sum":case"prod":case"min":case"max":case"sumfrac":{const l=t.x.map(s=>this._compute(s,n));return a(xn[o](Un(l)),l,[])}case"thres":case"match":case"lookup":{const l=t.br.map(p=>this._compute(p,n)),s=vd[o](Un(l),t.ex),r=[...Array(t.x.length)],u=r[s]=this._compute(t.x[s],n);return a(u.val,r,l)}case"subscript":{const l=this._compute(t.br[0],n);return a(t.ex[l.val],[],[l])}case"vtag":return a(n.tag[t.ex]??"",[],[]);case"tag":{const l=n.with(t.tag),s=this._compute(t.x[0],l);return a(s.val,[s],[],l.tag)}case"dtag":{const l=t.br.map(u=>this._compute(u,n)),s=n.with(Object.fromEntries(l.map((u,p)=>[t.ex[p],u.val]))),r=this._compute(t.x[0],s);return a(r.val,[r],l,s.tag)}case"read":{const l=n.with(t.tag),s=this._gather(l),{pre:r}=s,u=t.ex??this.defaultAccu(l.tag)??"unique";if(u!==t.ex&&(t={...t,ex:u}),s[u])return s[u];if(Yd()&&u==="unique"&&r.length!==1)throw new Error(`Ill-form read for ${Xl(l.tag)}`);const p=xn[u](Un(r));return s[u]=a(p,r,[],l.tag)}case"custom":{const l=t.x.map(s=>this._compute(s,n));return a(_m[t.ex].calc(Un(l)),l,[])}default:Gd(o)}}defaultAccu(t){}markGathered(t,n,a,o){return o}computeMeta(t,n,a,o,l){}toDebug(){throw new Error("not implemented")}};const bm={arithmetic:xn,branching:vd};class xm extends Cd{constructor(t,n=Xl,a=()=>!0){super(t.cache.keys),this.gathering=new Set,this.nodes=t.nodes,this.tagStr=n,this.filter=a,this.defaultAccu=o=>t.defaultAccu(o),this.cache=this.cache.with(t.cache.tag)}withTag(t){throw new Error("Unimplemented")}_gather(t){if(this.gathering.has(t))throw new Error(`Loop detected for ${this.tagStr(t.tag)}`);this.gathering.add(t);const n=this.__gather(t);return this.gathering.delete(t),n}__gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:a,value:o})=>o.op==="reread"?this._gather(t.with(o.tag)).pre.map(l=>{const s=`${this.tagStr(a)} <= ${this.tagStr(o.tag)} : ${l.meta.readSeq}`;return Object.freeze({...l,meta:{...l.meta,readSeq:s}})}):[this.markGathered(t.tag,a,o,this._compute(o,t))]);return t.val={pre:n}}_compute(t,n){try{return super._compute(t,n)}catch(a){return Object.freeze({val:NaN,meta:{formula:`${a}`,deps:[],omitted:[],val:NaN,x:[],br:[],comp:"ERR",pivot:!0,toJSON:_o}})}}markGathered(t,n,a,o){const l=`${this.tagStr(n)} <- ${this.tagStr(t)}`;return{...o,meta:{...o.meta,readSeq:l,pivot:!0}}}computeMeta(t,n,a,o,l){let s,r;const u=a.filter(y=>y).map(y=>y.meta),p=o.map(y=>y.meta),w=[],D=t.op==="read"?t.ex:t.op,S=[];if(D in xn){const y=xn[D]([]);for(const b of[...p,...u])b.val!==y||this.filter(b)?w.push(b):S.push(b)}else w.push(...p,...u);switch(t.op){case"const":s=go(t.ex);break;case"read":r=`gather ${u.length} node(s)`,r+=` matching ${this.tagStr(l,t.ex)}`,r+=` (for ${this.tagStr(t.tag)})`,S.length&&(r+=` <${S.length} omitted>`),s=`${this.tagStr(t.tag)}`;break;default:{const y=[];t.ex&&t.op!=="subscript"&&y.push(JSON.stringify(t.ex)),t.tag&&y.push(this.tagStr(t.tag)),y.push(...w.map(b=>b.comp)),S.length&&y.push(`<${S.length} omitted>`),s=`${t.op}(`+y.join(", ")+")"}}return S.push(...w.flatMap(y=>y.pivot?[]:y.omitted)),Object.freeze({formula:`[${go(n)}] ${r??s}`,deps:[...new Set(w.flatMap(y=>y.pivot?[y]:y.deps))],omitted:[...new Set(S)],val:n,x:u,br:p,comp:s,pivot:t.op==="read",toJSON:_o})}}const go=e=>typeof e=="string"?`"${e}"`:e.toString();function _o(){const{formula:e,readSeq:t,deps:n}=this,a={readSeq:t,formula:e,deps:n};return a.readSeq||delete a.readSeq,a.deps.length||delete a.deps,Object.keys(a).length===1?a.formula:a}function pi(e){const{database:t}=pe();return ed(t.chars,e)}function wm(e){const{database:t}=pe();return ed(t.charOpts,e)}const{arithmetic:km}=bm;let vm=class extends Cd{computeMeta({op:t,ex:n,tag:a},o,l,s,r){let u=l.filter(y=>!!y);const p=Cm(u,s);function w(y){return Object.freeze(r&&!y.tag?{tag:r,...y}:y)}function D(y,b){return w({op:y,ops:b,...p})}function S(y,b){let{meta:v}=y;return b!=null&&b.some(R=>!v.usedCats.has(R))&&(v={...v,usedCats:new Set([...v.usedCats,...b])}),w(v.conds===p.conds?v:{...v,...p})}if(t==="read"&&(r==null?void 0:r.qt)==="cond"){const{src:y,dst:b,sheet:v,q:R}=r;y&&v&&R&&(p.conds=mi(p.conds,{[b??"All"]:{[y]:{[v]:{[R]:o}}}}))}switch(t==="read"&&n!=="unique"&&([t,n]=[n,void 0]),t){case"sum":case"prod":case"min":case"max":case"sumfrac":if(u.length>1){const y=km[t]([]);u=u.filter(b=>b.val!==y)}return u.length===1?S(u[0]):D(u.length?t:"const",u);case"const":case"subscript":return D("const",[]);case"vtag":return p.usedCats=new Set([n]),D("const",[]);case"match":case"thres":case"lookup":case"read":return S(u[0]);case"tag":return S(u[0],Object.keys(a));case"dtag":return S(u[0],n);case"custom":return D(n,u);default:Zd(t)}}markGathered(t,n,a,o){const{val:l}=o,s={...o.meta};let r=!1;const u=new Set([...s.usedCats,...Object.keys(n)]);return s.usedCats.size!==u.size&&(s.usedCats=u,r=!0),r?{val:l,meta:Object.freeze(s)}:o}listFormulas(t){return this.gather(t.tag).filter(n=>n.val).map(({val:n,meta:a})=>Qd.withTag(a.tag)[n])}listCondFormulas(t){return this.listFormulas(t).map(n=>this.compute(n).meta.conds).reduce(mi,{})}};function Cm(e,t){var s;const n=[...e.map(r=>r.meta),...t.map(r=>r.meta)];let a={},o=new Set;for(const r of n)a=mi(a,r.conds),r.usedCats.forEach(u=>o.add(u));const l=o.size;return o=((s=n.find(r=>r.usedCats.size===l))==null?void 0:s.usedCats)??o,{usedCats:o,conds:a}}function mi(e,t){if(e===t)return e;if(typeof e!="object")throw new Error(`cannot merge ${e} and ${t}`);if(Object.keys(t).length>Object.keys(e).length&&([e,t]=[t,e]),!Object.keys(t).length)return e;let n=!1;const a={...e};for(const[o,l]of Object.entries(t)){const s=a[o],r=o in a?mi(s,l):l;s!==r&&(a[o]=r,n=!0)}return Object.freeze(n?a:e)}function Sm(e){const t=new Set(e);return n=>!Dm(n,t)}function Dm(e,t){const n=e.formula.match(/(\S+) (\S+) common.count/);if(!n)return!1;const[,a,o]=n;return o==="own"&&t.has(a)}class Rm extends vm{toDebug(){return new xm(this,Xd,Sm([...nd,...id]))}defaultAccu(t){var o,l,s,r;const{qt:n,q:a}=t;if(!(!n||!a))switch(t.et){case"own":case"target":return(l=(o=td[n])==null?void 0:o[a])==null?void 0:l.accu;case"enemy":return(r=(s=er[n])==null?void 0:s[a])==null?void 0:r.accu;case"team":if(n==="common"&&a==="count")return"sum";throw new Error("non-explicit team value accumulator")}}listFormulas(t){return super.listFormulas(t).filter(n=>n.tag.qt!=="formula"||["standardDmgInst","sheerDmgInst","anomalyDmgInst","anomalyBuildupInst","dazeInst"].includes(n.tag.name??""))}}function oi(e,...t){return t.map(({tag:n,value:a})=>({tag:{...n,preset:e},value:a}))}function Sd(e,...t){return t.map(({tag:n,value:a})=>({tag:{...n,src:e},value:a}))}function Dd(e){const{lvl:t,promotion:n,basic:a,dodge:o,special:l,chain:s,assist:r,core:u,mindscape:p}=L.char,{char:w,iso:D,[e.key]:S}=q.withAll("sheet",[]);return[w.reread(S),D.reread(S),t.add(e.level),a.add(e.basic),o.add(e.dodge),l.add(e.special),s.add(e.chain),r.add(e.assist),u.add(e.core),n.add(e.promotion),p.add(e.mindscape),ci.base.crit_.add(.05),ci.base.crit_dmg_.add(.5)]}function Im(e){return[q.sheet("agg").reread(q.sheet("wengine")),...e?[L.common.count.sheet(e.key).add(1),L.wengine.lvl.add(e.level),L.wengine.modification.add(e.modification),L.wengine.phase.add(e.phase)]:[]]}function Rd(e,t){const{common:{count:n},initial:a}=or(td,{sheet:"disc",et:"own"});return[q.sheet("agg").reread(q.sheet("disc")),q.withTag({sheet:"disc",qt:"initial"}).reread(q.sheet("dyn")),...Object.entries(e).map(([o,l])=>sr(a,o).sheet("dyn").add(l)),...Object.entries(t).map(([o,l])=>n.sheet(o).add(l))]}function zm(e){const t={},n={};return e.forEach(({setKey:a,mainStatKey:o,substats:l,level:s,rarity:r})=>{t[a]=(t[a]??0)+1,n[o]=(n[o]??0)+ir(r,o,s),l.forEach(({key:u,upgrades:p})=>{!u||!p||(n[u]=(n[u]??0)+ar(u,r)*p)})}),Rd(n,t)}function Id(e){const t=q.with("et","team"),{own:n,enemy:a,teamBuff:o,notOwnBuff:l}=q.sheet("agg").withAll("et",[]);return[e.map(s=>q.withTag({et:"target",dst:s}).reread(q.withTag({et:"own",dst:null,src:s}))),e.flatMap(s=>{const r=n.with("src",s);return e.map(u=>r.reread(o.withTag({dst:s,src:u,name:null})))}),e.flatMap(s=>{const r=n.with("src",s);return e.filter(u=>u!==s).map(u=>r.reread(l.withTag({dst:s,src:u,name:null})))}),e.map(s=>a.reread(q.withTag({et:"enemyDeBuff",dst:null,src:s,name:null}))),e.flatMap((s,r)=>{const{stackIn:u,stackTmp:p}=q.withAll("qt",[]),w=q.withTag({src:s,et:"own"});return[w.with("qt","stackTmp").add(tr(u,0,r+1)),w.with("qt","stackOut").add(nr(p.max.with("et","team"),r+1,u))]}),e.map(s=>t.add(q.withTag({src:s,et:"own"})))].flat()}function zd(e){const t=ad(li,e);return new Rm(li,cr,t)}function Bm(e){return new $m(li,ad(li,e))}function Mm({characterKey:e}){return i(di,{ns:"charNames_gen",key18:e})}function Tm({attribute:e}){return Ee[e]}function Em({characterKey:e,onClick:t,charCardConfig:n}){const{level:a=0,promotion:o=0}=pi(e)??{},l=ue(e),s=n||{cardWidth:"100%",charImgWidth:"100%",iconsSize:1.7,isEditing:!1,charNameWidth:"191px",charNameVariant:"h6",scrollingBgSize:"200px"},r=k.useCallback(()=>e&&(t==null?void 0:t(e)),[e,t]),u=k.useCallback(p=>i(Oa,{onClick:r,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:p}),[r]);return i(wn,{children:i(lr,{condition:!!t,wrapper:u,children:x(ie,{sx:{display:"flex",flexDirection:"column",width:s.cardWidth},children:[i(Am,{characterKey:e,characterStat:l,charCardConfig:s}),i(Vm,{characterKey:e,characterStat:l,promotion:o,level:a,charCardConfig:s})]})})})}function Am({characterKey:e,characterStat:t,charCardConfig:n}){const{attribute:a,id:o}=t;return x(ie,{sx:s=>({width:"100%",height:"100%",position:"relative",display:"flex",background:`${s.palette[a].main}`,zIndex:1,overflow:"hidden"}),children:[x(ie,{sx:{position:"absolute",left:"0",right:"0",display:"flex",transform:"rotate(5deg) translateX(-50%)",zIndex:2},children:[i(yo,{characterKey:e,charCardConfig:n}),i(yo,{characterKey:e,charCardConfig:n})]}),i(ie,{src:`https://act-webstatic.hoyoverse.com/game_record/zzzv2/role_vertical_painting/role_vertical_painting_${o}.png`,component:ri?ri:"img",width:n.charImgWidth,height:"auto",position:"relative",zIndex:"2"})]})}function Vm({characterKey:e,characterStat:t,promotion:n,level:a,charCardConfig:o}){const{t:l}=Q("page_characters"),{attribute:s,rarity:r,specialty:u}=t,p=pi(e);return i(ie,{sx:{width:"100%",height:"100%",padding:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:x(ie,{sx:{display:"flex",flexDirection:"column"},children:[x(ie,{gap:1,sx:{display:"flex",alignItems:"center"},children:[i(te,{size:o.iconsSize,src:od(r)}),i(O,{variant:o.charNameVariant,sx:{fontWeight:"900",maxWidth:o.charNameWidth,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:i(Mm,{characterKey:e})}),i(dr,{ele:s,iconProps:{sx:{fontSize:`${o.iconsSize}em`}}}),i(te,{size:o.iconsSize,src:sd(u)}),o.isEditing?"":i(O,{variant:"h5",color:"primary",sx:{fontWeight:"900"},children:l("mindscape",{level:p?p.mindscape:0})})]}),o.isEditing?"":x(ie,{sx:{mt:"12px",display:"flex",gap:"14px",flexWrap:"wrap"},children:[x(ie,{sx:w=>({border:`2px solid ${w.palette.contentZzz.main}`,borderRadius:"20px",display:"flex"}),children:[i(O,{sx:{fontWeight:"900",paddingLeft:"12px",fontSize:"16px"},children:l("charLevel",{level:a})}),x(O,{color:"primary",sx:{fontWeight:"900",paddingLeft:"4px",pr:"10px"},children:["/ ",cd[n]]})]}),x(ie,{gap:1.5,sx:{display:"flex",alignItems:"center"},children:[Fa.map((w,D)=>i(ho,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${p?p[w]:0}`,color:"primary",children:i(te,{size:1.9,src:ke(w)})},D)),i(ho,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${p?p.core:0}`,color:"primary",children:i(te,{size:1.9,src:ke("core")})},6)]})]})]})})}function yo({characterKey:e,charCardConfig:t}){const{t:n}=Q("charNames_gen"),a={animation:"scroll 16s infinite linear","@keyframes scroll":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(0)"}}};return i(ie,{component:"span",sx:{color:"#000",marginTop:"20px",fontStyle:"italic",fontSize:t.scrollingBgSize,lineHeight:"150px",whiteSpace:"nowrap",textTransform:"uppercase",display:"flex",justifyContent:"center",fontFamily:"Impact",opacity:.1,...a},children:n(`${e}`)})}function Pm({mindscape:e,setMindscape:t}){const{t:n}=Q("page_characters");return i(z,{sx:{display:"flex",flexWrap:"wrap",gap:2,mt:"12px"},children:qa(1,6).map(a=>i(z,{children:i(wn,{sx:{position:"relative",borderRadius:"40px"},children:i(gm,{control:i(rr,{checked:e>=a,onChange:()=>t(a===e?a-1:a)}),label:x(z,{sx:{position:"absolute",top:9,left:e>=a?75:16,transition:"left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",textAlign:"center"},children:[i(O,{variant:"subtitle1",sx:o=>({fontWeight:900,color:e>=a?o.palette.mindscapeActive.main:o.palette.mindscapeInactive.main}),children:n("mindscape",{level:a})}),i(O,{variant:"subtitle2",sx:o=>({lineHeight:.2,fontWeight:900,color:e>=a?o.palette.mindscapeActive.main:o.palette.mindscapeInactive.main}),children:n("mindscapeTitle")})]}),sx:{margin:0}})})},a))})}function Om(e){return{new:t=>e.chars.get(t)?0:1,name:t=>ld.t(t).toString(),level:t=>{const n=e.chars.get(t);return n?n.level*(n.promotion+1):0},rarity:t=>ue(t).rarity??0}}function Fm(e){return{attribute:(t,n)=>n.includes(ue(t).attribute),specialtyType:(t,n)=>n.includes(ue(t).specialty),rarity:(t,n)=>n.includes(ue(t).rarity),name:(t,n)=>n===void 0||ld.t(t).toLowerCase().includes(n.toLowerCase()),new:(t,n)=>n===void 0||n===(e.chars.get(t)?"no":"yes")}}const Bd={name:["name"],level:["level","rarity","name"],rarity:["rarity","level","name"]};function zb({show:e,onHide:t,onSelect:n,newFirst:a=!1}){const{database:o}=pe(),l=dd(o.displayCharacter),[s,r]=k.useState(""),u=k.useDeferredValue(s),p=k.useDeferredValue(l),w=k.useMemo(()=>{const{attribute:y,specialtyType:b,sortType:v,ascending:R}=p,j=[...a?["new"]:[],...Bd[v]??[]];return mr.filter(rd({attribute:y,specialtyType:b,name:u},Fm(o))).sort(fr(j,R,Om(o),["new"]))},[p,a,u,o]);return i(Lm,{show:e,charactersToShow:w,filterSearchSortProps:{searchTerm:s,onChangeSpecialtyFilter:y=>{o.displayCharacter.set({specialtyType:y})},onChangeAttributeFilter:y=>{o.displayCharacter.set({attribute:y})},onChangeSearch:y=>{r(y.target.value)},onChangeSort:y=>{o.displayCharacter.set({sortType:y})},onChangeAsc:y=>{o.displayCharacter.set({ascending:y})}},onClose:()=>{r(""),t()},children:i(he,{sx:{flex:"1",overflow:"auto"},children:i(k.Suspense,{fallback:i(Ve,{variant:"rectangular",width:"100%",height:1e3}),children:i(Z,{container:!0,spacing:.5,columns:{xs:2,sm:3,md:4,lg:5},children:w.map(y=>i(Z,{item:!0,xs:1,children:i(Qe,{bgt:"light",sx:b=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",borderRadius:"40px 16px 16px 40px",border:`3px solid ${b.palette.contentZzz.main}`}),children:i(jm,{characterKey:y,onClick:()=>{t(),n(y)}})})},y))})})})})}const qm=Object.keys(Bd);function Lm({show:e,charactersToShow:t,filterSearchSortProps:n,onClose:a,children:o}){const{t:l}=Q("page_characters"),{database:s}=pe(),r=dd(s.displayCharacter),u=k.useMemo(()=>mo(md,b=>s.chars.entries.forEach(([v,R])=>{const j=ue(R.key).specialty;b[j].total++,t.includes(v)&&b[j].current++})),[t,s.chars.entries]),p=k.useMemo(()=>mo(Je,b=>Object.entries(s.chars.data).forEach(([v])=>{const R=ue(v).attribute;b[R].total++,t.includes(v)&&b[R].current++})),[t,s.chars.data]),{specialtyType:w,attribute:D,sortType:S,ascending:y}=r;return i(Ha,{open:e,onClose:a,containerProps:{sx:{height:"100vh",p:{xs:1}}},children:x(Qe,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[x(he,{sx:{display:"flex",flexDirection:"column",gap:1},children:[x(z,{sx:{display:"flex",justifyContent:"space-between"},children:[x(z,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[i(pr,{onChange:b=>s.displayCharacter.set({specialtyType:b}),value:w,totals:u,size:"small"}),i(gr,{onChange:b=>s.displayCharacter.set({attribute:b}),value:D,totals:p,size:"small"})]}),i(La,{sx:{ml:"auto"},onClick:()=>a(),children:i(ja,{})})]}),x(z,{display:"flex",gap:1,children:[i(_r,{autoFocus:!0,value:n.searchTerm,onChange:b=>n.onChangeSearch(b),label:l("characterName"),size:"small",sx:{height:"100%",mr:"auto"},InputProps:{sx:{height:"100%"}}}),i(yr,{sortKeys:qm,value:S,onChange:b=>n.onChangeSort(b),ascending:y,onChangeAsc:b=>n.onChangeAsc(b)})]})]}),i(bn,{}),o]})})}function jm({characterKey:e,onClick:t}){const{t:n}=Q(["page_characters","charNames_gen"]),a=ur(),o=pi(e),{rarity:l,attribute:s}=ue(e),{level:r=1,promotion:u=0,mindscape:p=0}=o??{},w=s==="electric"?a.palette[s].light:a.palette[s].main;return i(Oa,{onClick:t,children:x(z,{sx:{position:"relative",width:"100%",display:"flex",padding:"3px",gap:.5,"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,background:w}},children:[i(z,{sx:{maxWidth:{xs:"33%",lg:"30%"},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,flexShrink:1},children:i(z,{component:ri?ri:"img",src:hr(e,"interknot")})}),x(z,{sx:{display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly"},children:[x(z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[i(te,{size:1.5,src:od(l)}),i(O,{variant:"subtitle2",sx:D=>({flexGrow:1,color:D.palette.contentNormal.main,fontWeight:"900"}),children:n(`charNames_gen:${e}`)})]}),o?x(z,{sx:D=>({display:"flex",gap:1,alignItems:"center",background:D.palette.contentNormal.main,padding:"4px 12px",borderRadius:"20px"}),children:[x(z,{sx:{textShadow:"0 0 5px gray"},children:[i(O,{variant:"body2",component:"span",whiteSpace:"nowrap",children:n("charLevel",{level:r})}),x(O,{variant:"body2",component:"span",color:"text.secondary",children:["/",cd[u]]})]}),x(O,{variant:"body2",children:["M",p]})]}):i(O,{component:"span",variant:"body2",children:i(Va,{color:"electric",children:n("characterEditor.new")})})]})]})})}function Hm(){const{t:e}=Q("page_characters"),{database:t}=pe(),n=hi(),{core:a=0,promotion:o=0,key:l}=n??{},s=k.useCallback(r=>l&&t.chars.set(l,{core:r}),[t,l]);return i(ud,{fullWidth:!0,title:e("core",{level:a}),color:"primary",startIcon:i(te,{src:ke("core"),size:1.75,sideMargin:!0}),children:qa(0,$r[o]).map(r=>i(fd,{selected:a===r,disabled:a===r,onClick:()=>s(r),children:e("core",{level:r})},r))})}const Km={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3};function Md({disc:e,onChangeId:t,slotKey:n,show:a,onClose:o}){const{t:l}=Q(["page_characters","disc"]),{database:s}=pe(),r=e==null?void 0:e.id,u=k.useCallback((I,V)=>({...I,...V,slotKeys:[n]}),[n]),[p,w]=k.useReducer(u,{...im(),slotKeys:[n]}),D=br(),S=k.useMemo(()=>am(),[]),y=xr(s.discs),b=y.filter(I=>I.slotKey===p.slotKeys[0]).length,v=k.useMemo(()=>{const I=rd(p,S);let V=y.filter(I).map(F=>F.id);return r&&s.discs.get(r)&&(V=V.filter(F=>F!==r),V.unshift(r)),V},[p,S,y,r,s.discs]),{numShow:R,setTriggerElement:j}=wr(Km[D],v.length),N=k.useMemo(()=>v.slice(0,R),[v,R]),le=v.length!==b?`${v.length}/${b}`:`${b}`,de={numShowing:N.length,total:le,t:l,namespace:"disc"},W=k.useCallback(I=>{kr.includes(I)?t(null):I&&t(I),o()},[t,o]);return i(Ha,{open:a,onClose:o,containerProps:{maxWidth:"xl"},children:x(Qe,{children:[x(he,{sx:{py:1,display:"flex",alignItems:"center"},children:[i(O,{variant:"h6",children:l("tabEquip.swapDisc")}),i(La,{onClick:o,sx:{ml:"auto"},children:i(ja,{})})]}),i(bn,{}),i(he,{children:i(k.Suspense,{fallback:i(Ve,{variant:"rectangular",width:"100%",height:200}),children:i(vr,{filterOption:p,filterOptionDispatch:w,filteredIds:v,disableSlotFilter:!0})})}),i(bn,{}),x(he,{children:[i(z,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:i(Cr,{showingTextProps:de})}),i(z,{mt:1,children:i(k.Suspense,{fallback:i(Ve,{variant:"rectangular",width:"100%",height:1e3}),children:x(Z,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:[r&&i(Z,{item:!0,xs:1,children:i(Qe,{bgt:"light",sx:{width:"100%",height:"100%"},children:i(Oa,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>W(n),children:x(z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[i(Sr,{sx:{fontSize:"10em"}}),i(O,{children:l("disc:button.unequipDisc")})]})})})}),N.map(I=>i(Z,{item:!0,xs:1,sx:V=>({...r===I&&{"> .MuiCard-root":{outline:`${V.spacing(.5)} solid ${V.palette.warning.main}`}}}),children:i(hd,{disc:s.discs.get(I),onClick:r===I?void 0:()=>W(I)})},I))]})})}),v.length!==N.length&&i(Ve,{ref:I=>{I&&j(I)},sx:{borderRadius:1,mt:1},variant:"rectangular",width:"100%",height:100})]})]})})}function Wm(e){return"fieldRef"in e}var on={},$o;function Nm(){if($o)return on;$o=1;var e=Dr();Object.defineProperty(on,"__esModule",{value:!0}),on.default=void 0;var t=e(Rr()),n=Ir(),a=(0,t.default)((0,n.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");return on.default=a,on}var Um=Nm();const Cn=zr(Um),Gm={xs:1,sm:2,md:3,lg:3,xl:3};function Jm({setWengine:e,setDisc:t}){const{database:n}=pe(),a=k.useContext(pd),[o,l]=k.useState(),[s,r]=k.useState(""),u=k.useCallback(b=>{r(b)},[]),p=k.useCallback(b=>{l(b)},[]),w=gd(a==null?void 0:a.equippedWengine),D=a?ue(a.key).specialty:md[0],S=_d(a==null?void 0:a.equippedDiscs),y=Br(o);return i(z,{children:x(Zl,{spacing:2,children:[i(k.Suspense,{fallback:!1,children:s&&i(Mr,{wengineId:s,footer:!0,onClose:()=>r(""),extraButtons:i(ef,{wengineId:(w==null?void 0:w.id)||"",wengineTypeKey:D,onChangeId:e})})}),i(k.Suspense,{fallback:!1,children:y&&i(Tr,{disc:y,show:!!o,onShow:()=>l(o),onClose:()=>l(void 0),cancelEdit:()=>l(void 0)})}),i(z,{children:w!=null&&w.id?i(Er,{wengine:w,onEdit:()=>u(w.id),extraButtons:i(Xm,{wengineId:w.id,wengineTypeKey:D,onChangeId:e})}):i(Ym,{wengineId:"",wengineTypeKey:D,onChangeId:e})}),i(z,{children:i(Z,{item:!0,columns:Gm,container:!0,spacing:1,children:!!S&&Object.entries(S).map(([b,v])=>i(Z,{item:!0,xs:1,children:v!=null&&v.id?i(hd,{disc:v,extraButtons:i(Qm,{disc:v,slotKey:b,onChangeId:R=>t(b,R)}),onEdit:()=>p(v.id),onLockToggle:()=>n.discs.set(v.id,({lock:R})=>({lock:!R}))}):i(Zm,{slotKey:b,onChangeId:R=>t(b,R)})},(v==null?void 0:v.id)||b))})})]})})}function Ym({wengineId:e,wengineTypeKey:t,onChangeId:n}){const[a,o,l]=kn();return x(wn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i(he,{children:x(O,{children:[i(te,{src:sd(t)})," "]})}),i(bn,{}),x(z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i(Ka,{wengineId:e,wengineTypeKey:t,show:a,onClose:l,onChangeId:n}),i(Xe,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:i(Cn,{sx:{height:100,width:100}})})]})]})}function Zm({slotKey:e,onChangeId:t}){const[n,a,o]=kn(),{t:l}=Q("disc");return x(wn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i(he,{children:i(O,{children:l("slotName",{slotKey:e})})}),i(bn,{}),x(z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i(Md,{disc:void 0,slotKey:e,show:n,onClose:o,onChangeId:t}),i(Xe,{onClick:a,color:"info",sx:{borderRadius:"1em"},children:i(Cn,{sx:{height:100,width:100}})})]})]})}function Qm({disc:e,slotKey:t,onChangeId:n}){const{t:a}=Q("page_characters"),[o,l,s]=kn();return x(vn,{children:[i(yd,{title:i(O,{children:a("tabEquip.swapDisc")}),placement:"top",arrow:!0,children:i(Xe,{color:"info",size:"small",onClick:l,"aria-label":a("tabEquip.swapDisc"),children:i(Cn,{})})}),i(Md,{disc:e,slotKey:t,show:o,onClose:s,onChangeId:n})]})}function Xm({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:a}=Q("page_characters"),[o,l,s]=kn();return x(vn,{children:[i(yd,{title:i(O,{children:a("tabEquip.swapWengine")}),placement:"top",arrow:!0,children:i(Xe,{color:"info",size:"small",onClick:l,children:i(Cn,{})})}),i(Ka,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:o,onClose:s})]})}function ef({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:a}=Q("page_characters"),[o,l,s]=kn();return x(vn,{children:[i(Xe,{color:"info",onClick:l,startIcon:i(Cn,{}),children:a("tabEquip.swapWengine")}),i(Ka,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:o,onClose:s})]})}function tf({skillKey:e}){const{database:t}=pe(),{t:n}=Q("page_characters"),a=hi(),{[e]:o=0,promotion:l=0,key:s}=a??{},r=k.useCallback(u=>s&&t.chars.set(s,{[e]:u}),[t,s,e]);return i(ud,{fullWidth:!0,title:n(e,{level:o}),color:"primary",startIcon:i(te,{src:ke(e),size:1.75,sideMargin:!0}),children:qa(1,Ar[l]).map(u=>i(fd,{selected:o===u,disabled:o===u,onClick:()=>r(u),children:n(e,{level:u})},u))})}function gi(){const e=k.useContext(Wa),t=k.useContext(Vr);return k.useMemo(()=>e==null?void 0:e.withTag(t),[e,t])}const B=(e,t)=>i(di,{ns:"sheet",key18:e,values:t});function m(e,t){return[(n,a)=>i(di,{ns:`${e}_${t}_gen`,key18:n,values:a}),(n,a)=>i(di,{ns:`${e}_${t}`,key18:n,values:a})]}function d(e){return{title:i(_i,{tag:e}),fieldRef:e}}function nf(e){if(!e)return"";const{et:t,q:n,qt:a,name:o}=e;return t==="own"&&a==="formula"&&n!=="base"?o??n??"":n??""}const af={initial:"Initial",combat:"Combat",final:"Final",base:"Base"};function _i({tag:e,showPercent:t,preventRecursion:n}){return i(Ye,{color:wb(e),children:i(cf,{tag:e,showPercent:t,preventRecursion:n})})}function Bb({tag:e,showPercent:t}){return x(vn,{children:[i(_i,{tag:e,showPercent:t}),vb(e).map(n=>i(Va,{children:fi[n]},n)),e.attribute&&i(Va,{color:e.attribute,children:i(Tm,{attribute:e.attribute})})]})}const of=["hp","hp_","atk","atk_","def","def_"],sf=e=>of.includes(e),bo={dmg_:"DMG",common_dmg_:"DMG",defIgn_:"DEF Ignore",resIgn_:"Res Ignore",dazeInc_:"Daze Increase",buff_:"Buff Bonus"};function cf({tag:e,showPercent:t,preventRecursion:n}){var s;const a=gi(),o=(s=Cb.subset(e)[0])==null?void 0:s.title;if(o&&!n)return o;if(e.qt==="cond"&&e.q&&e.sheet&&a){const r=Pa.get(`${e.sheet}:${e.q}`);if(r)return Pr(r.label,a,a==null?void 0:a.compute(new Or(e,"max")).val)}const l=nf(e);if(sf(l))return x("span",{children:[i(qr,{statKey:l,iconProps:Fr})," ",x("span",{children:[(e.qt&&af[e.qt])??e.qt," ",Lr[l],t&&$d(l)]})]});if(bo[l]){const r=[...e.attribute?[Ee[e.attribute]]:[],...e.damageType1?[fi[e.damageType1]]:[],...e.damageType2?[fi[e.damageType2]]:[],bo[l]];return i("span",{children:r.join(" ")})}return i(yn,{statKey:l,showPercent:t})}function lf(){const e=gi();return i(wn,{children:i(he,{children:e==null?void 0:e.listFormulas(L.listing.formulas).map((t,n)=>i(df,{read:t},n))})})}function df({read:e}){var v,R,j,N,le,de,W;const t=gi(),{setRead:n}=k.useContext(jr),a=hi(),o=wm(a==null?void 0:a.key),l=e.tag.sheet===((v=o==null?void 0:o.target)==null?void 0:v.sheet)&&e.tag.name===((R=o==null?void 0:o.target)==null?void 0:R.name)||((j=o==null?void 0:o.target)==null?void 0:j.q)===e.tag.q,s=k.useMemo(()=>{var I,V,F,re;return e.tag.sheet===((I=o==null?void 0:o.target)==null?void 0:I.sheet)&&e.tag.name===((V=o==null?void 0:o.target)==null?void 0:V.name)?Hr(e.tag,(F=o==null?void 0:o.target)==null?void 0:F.damageType1,(re=o==null?void 0:o.target)==null?void 0:re.damageType2):e.tag},[e.tag,(N=o==null?void 0:o.target)==null?void 0:N.sheet,(le=o==null?void 0:o.target)==null?void 0:le.name,(de=o==null?void 0:o.target)==null?void 0:de.damageType1,(W=o==null?void 0:o.target)==null?void 0:W.damageType2]),r=k.useMemo(()=>({...e,tag:s}),[s,e]),u=t==null?void 0:t.compute(r),p=s.name||s.q,{statHighlight:w,setStatHighlight:D}=k.useContext(Kr),S=s.name?"":s.attribute?`${s.attribute}_${s.q}`:s.q==="cappedCrit_"?"crit_":s.q==="anom_cappedCrit_"?"anom_crit_":s.q,y=S?Wr(w,S):!1;if(!u)return null;const b=Nr(u.val,$d(p??""));return x(z,{onMouseEnter:()=>S&&D(S),onMouseLeave:()=>D(""),sx:{display:"flex",gap:1,alignItems:"center",p:.5,borderRadius:.5,backgroundColor:l?"rgba(0,200,0,0.2)":void 0,position:"relative","::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:.5,backgroundColor:Ur(y),transition:"background-color 0.3s ease-in-out",pointerEvents:"none"}},children:[i(z,{sx:{flexGrow:1},children:i(_i,{tag:s})}),b,i(Gr,{tag:s,onClick:()=>{}})]})}function Mb({characterKey:e,onClose:t}){return i(Ha,{open:!!e,onClose:t,children:i(k.Suspense,{fallback:i(Ve,{variant:"rectangular",width:"100%",height:1e3}),children:e&&i(rf,{characterKey:e,onClose:t},e)})})}function rf({characterKey:e,onClose:t}){const n=pi(e);return i(Qe,{children:i(he,{sx:{display:"flex",flexDirection:"column",gap:1},children:i(k.Suspense,{fallback:i(Ve,{variant:"rectangular",width:"100%",height:1e3}),children:n?i(pd.Provider,{value:n,children:i(ff,{onClose:t})}):i(Ve,{variant:"rectangular",width:"100%",height:1e3})})})})}const mf={cardWidth:"500px",charImgWidth:"75%",iconsSize:1.5,isEditing:!0,charNameWidth:"166px",charNameVariant:"h6",scrollingBgSize:"220px"};function ff({onClose:e}){const{t}=Q(["page_characters"]),n=Jr(),{database:a}=pe(),o=hi(),{key:l,equippedDiscs:s,equippedWengine:r}=o,u=k.useCallback(async()=>{const p=t(`${l}`);window.confirm(t("removeCharacter",{value:p}))&&(a.chars.remove(l),n("/characters"))},[a,n,l,t]);return x(z,{display:"flex",flexDirection:"column",gap:1,children:[x(z,{display:"flex",gap:1,children:[i(Xe,{color:"error",onClick:()=>u(),startIcon:i(Yr,{}),sx:{marginLeft:"auto"},children:t("characterEditor.delete")}),!!e&&i(La,{onClick:e,children:i(ja,{})})]}),i(z,{children:x(Z,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[i(Z,{item:!0,xs:6,sm:4,md:4,lg:4,xl:4,children:x(Qe,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[i(Em,{characterKey:l,charCardConfig:mf}),i(z,{sx:{px:1},children:i(Zr,{level:o.level,milestone:o.promotion,setBoth:({level:p,milestone:w})=>a.chars.set(l,{level:p,promotion:w})})}),i(lf,{}),i(Pm,{mindscape:o.mindscape,setMindscape:p=>a.chars.set(l,{mindscape:p})})]})}),x(Z,{item:!0,xs:6,sm:8,md:8,lg:8,xl:8,sx:{display:"flex",flexDirection:"column",gap:1},children:[i(z,{children:x(Z,{container:!0,columns:3,spacing:1,children:[Fa.map(p=>i(Z,{item:!0,xs:1,children:i(tf,{skillKey:p},p)},p)),i(Z,{item:!0,xs:1,children:i(Hm,{})},"core")]})}),i(z,{children:i(Jm,{setWengine:p=>{p?a.wengines.set(p,{location:l}):r&&a.wengines.set(r,{location:""})},setDisc:(p,w)=>{w?a.discs.set(w,{location:l}):s[p]&&a.discs.set(s[p],{location:""})}})})]})]})})]})}function Tb({character:e,charOpt:t,wengineId:n,discIds:a,children:o}){const l=uf(e,n,a),s=k.useMemo(()=>zd([...Id([e.key]),...l,ci.common.critMode.add(t.critMode),ce.common.lvl.add(t.enemyLvl),ce.common.def.add(t.enemyDef),ce.common.isStunned.add(t.enemyisStunned?1:0),ce.common.stun_.add(t.enemyStunMultiplier/100),ce.common.unstun_.add(1),...t.conditionals.flatMap(({sheet:u,src:p,dst:w,condKey:D,condValue:S})=>oi("preset0",bd(u,p,w)(D,S))),...t.bonusStats.filter(({disabled:u})=>!u).flatMap(({tag:u,value:p})=>oi("preset0",{tag:{...u,src:e.key,sheet:"agg",et:"own"},value:fo(uo(p,u.q??""))})),...t.enemyStats.flatMap(({tag:u,value:p})=>oi("preset0",{tag:{...u,qt:"common",et:"enemy",sheet:"agg"},value:fo(uo(p,u.q??""))}))]),[l,t,e.key]),r=k.useMemo(()=>s&&new Map,[s]);return i(Qr.Provider,{value:r,children:i(Wa.Provider,{value:s,children:o})})}function uf(e,t,n){const a=gd(t),o=_d(n),l=k.useMemo(()=>Im(a),[a]),s=k.useMemo(()=>zm(Object.values(o).filter(Xr)),[o]);return k.useMemo(()=>Sd(e.key,...Dd(e),...l,...s),[e,l,s])}function Eb({character:e,conditionals:t,children:n}){const a=k.useMemo(()=>zd([...Id([e.key]),...Sd(e.key,...Dd(e),...Rd({},xd(id,()=>4)),q.sheet("agg").reread(q.sheet("wengine")),L.wengine.lvl.add(60),L.wengine.modification.add(5),L.wengine.phase.add(1),...nd.map(o=>L.common.count.sheet(o).add(1))),ci.common.critMode.add("avg"),ce.common.lvl.add(100),ce.common.def.add(900),ce.common.isStunned.add(0),ce.common.stun_.add(1.5),ce.common.unstun_.add(1),...t.flatMap(({sheet:o,src:l,dst:s,condKey:r,condValue:u})=>oi("preset0",bd(o,l,s)(r,u)))]),[e,t]);return i(Wa.Provider,{value:a,children:n})}function C(e,t={}){return{...hf(e,t==null?void 0:t.perSkillAbility),core:gf(e,t==null?void 0:t.core,t==null?void 0:t.ability),m1:Oe(e,1,t==null?void 0:t.m1),m2:Oe(e,2,t==null?void 0:t.m2),m3:Oe(e,3,t==null?void 0:t.m3),m4:Oe(e,4,t==null?void 0:t.m4),m5:Oe(e,5,t==null?void 0:t.m5),m6:Oe(e,6,t==null?void 0:t.m6)}}function c(e){return{title:i(_i,{tag:e.tag,preventRecursion:!0}),fieldRef:e.tag}}function hf(e,t){const n=$.char[e],a=M[e],[o,l]=m("char",e);return xd(Fa,s=>({title:s,img:ke(`${s}Flat`),documents:Object.keys(n[s]).flatMap(r=>{var u;return[{type:"text",header:{icon:i(te,{src:ke(`${s}Flat`),size:1.5}),text:o(`${s}.${r}.name`)},text:o(`${s}.${r}.desc`)},{type:"fields",fields:Object.values(a).filter(p=>p.name.includes(r)).map(p=>({title:pf(e,s,p.name),fieldRef:p.tag}))},...((u=t==null?void 0:t[s])==null?void 0:u[r])??[]]})}))}function pf(e,t,n){const[a,o,l]=n.split("_");return B(l,{val:`$t(char_${e}_gen:${t}.${a}.params.${o})`})}function gf(e,t=[],n=[]){const[a,o]=m("char",e);return{title:"core",documents:[{type:"text",header:{icon:i(te,{src:ke("coreFlat"),size:1.5}),text:a("core.name")},text:l=>a(`core.desc.${l.compute(L.char.core).val}`)},...t,{type:"text",header:{icon:i(te,{src:ke("coreFlat"),size:1.5}),text:a("ability.name")},text:a("ability.desc")},...n]}}function Oe(e,t,n=[]){const[a,o]=m("char",e);return{title:`mindscape${t}`,documents:[{type:"text",header:{icon:i(te,{src:em(t),size:1.5}),text:a(`mindscapes.${t}.name`)},text:x(vn,{children:[a(`mindscapes.${t}.desc`),i("br",{}),i("br",{}),i("i",{children:a(`mindscapes.${t}.flavor`)})]})},...n]}}const _f="Alice",yf=C(_f),yi="Anby",[,Gn]=m("char",yi),ea=h[yi],Fe=f[yi],$f=C(yi,{core:[{type:"conditional",conditional:{label:Gn("coreCond"),metadata:ea.core_after3rdBasic,fields:[{title:Gn("core_dazeInc_"),fieldRef:Fe.core_after3rdBasic_dazeInc_.tag}]}}],m1:[{type:"conditional",conditional:{label:Gn("m1Cond"),metadata:ea.m1After4thBasicHit,fields:[c(Fe.m1_after4thHit_energyRegen_)]}}],m2:[{type:"fields",fields:[c(Fe.m2_stunned_basic_dmg_),c(Fe.m2_unstunned_ex_dazeInc_)]}],m6:[{type:"conditional",conditional:{label:Gn("m6Cond"),metadata:ea.m6ChargeConsumed,fields:[c(Fe.m6_charge_basic_dmg_),c(Fe.m6_charge_exSpecial_dmg_)]}}]}),bf="Anton",xf=C(bf),et="AstraYao",[,me]=m("char",et),ta=h[et],ae=f[et],wf=M[et],xo=$.char[et],kf=C(et,{perSkillAbility:{special:{IdyllicCadenza:[{type:"conditional",conditional:{label:me("idyllic_cadenzaCond"),metadata:ta.idyllic_cadenza,fields:[c(ae.common_dmg_),c(ae.crit_dmg_)]}}]},chain:{UltimateFantasianSonata:[{type:"fields",fields:[{title:me("ult_heal"),fieldRef:wf.ultimate_heal.tag}]}]}},core:[{type:"fields",fields:[c(ae.core_atk)]}],m1:[{type:"conditional",conditional:{label:me("m1Cond"),metadata:ta.attack_hits,fields:[c(ae.m1_resRed_)]}}],m2:[{type:"fields",fields:[{title:me("m2_atkBuffInc_"),fieldValue:xo.m2.atk_*100,unit:"%"},{title:me("m2_maxIncrease"),fieldValue:xo.m2.max_increase}]}],m4:[{type:"fields",fields:[c(ae.m4_attack_quickAssist_extraDmg),c(ae.m4_anomaly_quickAssist_anomBuildup_),c(ae.m4_stun_quickAssist_dazeInc_)]}],m6:[{type:"fields",fields:[{title:me("m6_mv_mult_"),fieldRef:ae.m6_mv_mult_.tag},{title:me("m6_crit_"),fieldRef:ae.m6_crit_.tag}]},{type:"conditional",conditional:{label:me("m6Cond"),metadata:ta.precise_assist_triggered,fields:[{title:me("m6_capriccio_crit_"),fieldRef:ae.m6_capriccio_crit_.tag}]}}]}),Sn="Ben",[,sn]=m("char",Sn),Jn=h[Sn],ve=f[Sn],Yn=M[Sn],vf=C(Sn,{perSkillAbility:{special:{SpecialAttackFiscalFist:[{type:"fields",fields:[{title:B("shield"),fieldRef:Yn.special_shield.tag}]}],EXSpecialAttackCashflowCounter:[{type:"fields",fields:[{title:B("shield"),fieldRef:Yn.special_shield.tag}]}]}},core:[{type:"fields",fields:[c(ve.core_atk),{title:B("shield"),fieldRef:Yn.core_shield.tag}]}],ability:[{type:"conditional",conditional:{label:sn("abilityCond"),metadata:Jn.shieldOn,fields:[c(ve.ability_crit_)]}}],m1:[{type:"conditional",conditional:{label:sn("m1Cond"),metadata:Jn.enemyBlocked,fields:[c(ve.m1_dmg_red_)]}}],m2:[{type:"fields",fields:[{title:B("dmg"),fieldRef:Yn.m2_dmg.tag}]}],m4:[{type:"conditional",conditional:{label:sn("m1Cond"),metadata:Jn.enemyBlocked,fields:[{title:sn("m4_dmg_"),fieldRef:ve.m4_dmg_.tag}]}}],m6:[{type:"conditional",conditional:{label:sn("m6Cond"),metadata:Jn.attackLaunched,fields:[c(ve.m6_basic_dazeInc_),c(ve.m6_dash_dazeInc_),c(ve.m6_dodgeCounter_dazeInc_)]}}]}),$i="Billy",[,Zn]=m("char",$i),na=h[$i],cn=f[$i],Cf=C($i,{core:[{type:"fields",fields:[{title:Zn("core_common_dmg_"),fieldRef:cn.core_common_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:Zn("abilityCond"),metadata:na.ult_dmg_stacks,fields:[c(cn.ability_ult_dmg_)]}}],m2:[{type:"fields",fields:[c(cn.m2_dodgeCounter_dmg_)]}],m4:[{type:"conditional",conditional:{label:Zn("m4Cond"),metadata:na.distance,fields:[c(cn.m4_exSpecial_crit_)]}}],m6:[{type:"conditional",conditional:{label:Zn("m6Cond"),metadata:na.m6_stacks,fields:[c(cn.m6_common_dmg_)]}}]}),tt="Burnice",[,X]=m("char",tt),ia=h[tt],fe=f[tt],aa=M[tt],Sf=$.char[tt],Df=C(tt,{core:[{type:"fields",fields:[{title:X("core_afterburn_dmg"),fieldRef:aa.core_afterburn_dmg.tag},{title:X("core_afterburn_anomBuildup"),fieldRef:aa.core_afterburn_anomBuildup.tag},{title:X("core_afterburn_dmg_"),fieldRef:fe.core_afterburn_dmg_.tag}]}],ability:[{type:"fields",fields:[c(fe.ability_fire_anomBuildup_)]}],m1:[{type:"fields",fields:[{title:X("m1_afterburn_mv_mult"),fieldValue:Sf.m1.afterburn_dmg*100,unit:"%"},{title:X("m1_afterburn_anomBuildup"),fieldRef:fe.m1_afterburn_fire_anomBuildup_.tag}]}],m2:[{type:"conditional",conditional:{label:X("m2Cond"),metadata:ia.thermal_penetration,fields:[c(fe.m2_pen_)]}}],m4:[{type:"fields",fields:[{title:X("m4_exSpecial_crit_"),fieldRef:fe.m4_exSpecial_crit_.tag},{title:X("m4_assistSkill_crit_"),fieldRef:fe.m4_assistSkill_crit_.tag}]}],m6:[{type:"fields",fields:[{title:X("m6_additional_afterburn_dmg"),fieldRef:aa.m6_additional_afterburn_dmg.tag}]},{type:"conditional",conditional:{label:X("m6Cond"),metadata:ia.exSpecial_active,fields:[c(fe.m6_burn_fire_resIgn_),{title:X("m6_fire_resIgn"),fieldRef:fe.m6_fire_resIgn_.tag}]}},{type:"conditional",conditional:{label:X("m6CondBurn"),metadata:ia.additional_burn,fields:[c(fe.m6_fire_anom_mv_mult_)]}}]}),nt="Caesar",[,ee]=m("char",nt),_e=h[nt],oe=f[nt],Rf=M[nt],If=$.char[nt],zf=C(nt,{perSkillAbility:{special:{StanceSwitch:[{type:"conditional",conditional:{label:ee("stanceSwitchCond"),metadata:_e.stance_switch,fields:[c(oe.stance_switch_impact_)]}}]},chain:{UltimateSavageSmash:[{type:"conditional",conditional:{label:ee("ultCond"),metadata:_e.enemy_shielded,fields:[c(oe.ult_dazeInc_)]}}]}},core:[{type:"fields",fields:[{title:ee("core_shield"),fieldRef:Rf.core_shield.tag}]},{type:"conditional",conditional:{label:ee("coreCond"),metadata:_e.radiant_aegis,fields:[c(oe.core_atk)]}}],ability:[{type:"conditional",conditional:{label:ee("abilityTeamCond"),metadata:_e.can_defensive_assist}},{type:"conditional",conditional:{label:ee("abilityCond"),metadata:_e.ability_debuff,fields:[c(oe.ability_dmgInc_)]}}],m1:[{type:"conditional",conditional:{label:ee("coreCond"),metadata:_e.radiant_aegis,fields:[c(oe.m1_resRed_)]}}],m2:[{type:"conditional",conditional:{label:ee("coreCond"),metadata:_e.radiant_aegis,fields:[c(oe.m2_enerRegen_),{title:ee("m2_atkInc_"),fieldValue:If.m2.atk_increase_*100,unit:"%"}]}}],m6:[{type:"fields",fields:[{title:ee("m6_exSpecial_assistFollowup_crit_"),fieldRef:oe.m6_exSpecial_assistFollowup_crit_.tag},{title:ee("m6_dmg_"),fieldRef:oe.m6_dmg_.tag}]},{type:"conditional",conditional:{label:ee("m6Cond"),metadata:_e.exSpecial_assistFollowup_used,fields:[c(oe.m6_crit_),c(oe.m6_crit_dmg_)]}}]}),Dn="Corin",[,ln]=m("char",Dn),oa=h[Dn],Qn=f[Dn],Bf=M[Dn],Mf=C(Dn,{core:[{type:"fields",fields:[{title:ln("core_common_dmg_"),fieldRef:Qn.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[c(Qn.ability_common_dmg_)]}],m1:[{type:"conditional",conditional:{label:ln("m1Cond"),metadata:oa.chain_ult_hit,fields:[c(Qn.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:ln("m2Cond"),metadata:oa.exSpecial_chain_ult_hits,fields:[c(Qn.m2_physical_resRed_)]}}],m6:[{type:"conditional",conditional:{label:ln("m6Cond"),metadata:oa.charge,fields:[{title:ln("m6_dmg"),fieldRef:Bf.m6_dmg.tag}]}}]}),Tf="Ellen",Ef=C(Tf),Rn="Evelyn",[,Ce]=m("char",Rn),sa=h[Rn],qe=f[Rn],wo=M[Rn],Af=C(Rn,{core:[{type:"conditional",conditional:{label:Ce("coreCond"),metadata:sa.binding_seal,fields:[c(qe.core_crit_)]}}],ability:[{type:"fields",fields:[{title:Ce("ability_dmg_"),fieldRef:qe.ability_chain_ult_dmg_.tag},{title:Ce("ability_mv_mult"),fieldRef:qe.ability_chainSkill_mv_mult.tag}]}],m1:[{type:"conditional",conditional:{label:Ce("m1Cond"),metadata:sa.enemy_bound,fields:[c(qe.m1_defIgn_)]}}],m2:[{type:"fields",fields:[c(qe.m2_atk_)]}],m4:[{type:"fields",fields:[{title:Ce("m4_shield"),fieldRef:wo.m4_shield.tag}]},{type:"conditional",conditional:{label:Ce("m4Cond"),metadata:sa.m4_shield_exists,fields:[c(qe.m4_crit_dmg_)]}}],m6:[{type:"fields",fields:[{title:Ce("m6_follow_up_dmg"),fieldRef:wo.m6_follow_up_dmg_.tag}]}]}),bi="Grace",[,ca]=m("char",bi),dn=h[bi],ye=f[bi],Vf=C(bi,{core:[{type:"conditional",conditional:{label:ca("coreCond"),metadata:dn.fullZap,fields:[c(ye.core_special_electric_anomBuildup_),c(ye.core_exSpecial_electric_anomBuildup_)]}}],ability:[{type:"conditional",conditional:{label:B("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:dn.exSpecialHit,fields:[c(ye.ability_shock_dmg_)]}}],m2:[{type:"conditional",conditional:{label:ca("m2Cond"),metadata:dn.grenadeHit,fields:[c(ye.m2_electric_resRed_),c(ye.m2_electric_anomBuildupResRed_)]}}],m4:[{type:"conditional",conditional:{label:B("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:dn.chargeConsumed,fields:[c(ye.m4_enerRegen_)]}}],m6:[{type:"conditional",conditional:{label:ca("coreCond"),metadata:dn.fullZap,fields:[c(ye.m6_special_mv_mult_),c(ye.m6_exSpecial_mv_mult_)]}}]}),Pf="Harumasa",Of=C(Pf),xi="Hugo",[,rn]=m("char",xi),mn=h[xi],P=f[xi],Ff=C(xi,{core:[{type:"conditional",conditional:{label:rn("coreDarkAbyssReverb"),metadata:mn.dark_abyss_reverb,fields:[c(P.core_crit_),c(P.core_crit_dmg_)]}},{type:"fields",fields:[c(P.core_atk)]},{type:"conditional",conditional:{label:rn("coreStunLeft"),metadata:mn.stun_left,fields:[c(P.core_exSpecial_mv_mult_),c(P.core_ult_mv_mult_)]}},{type:"fields",fields:[c(P.core_exSpecial_dazeInc_)]}],ability:[{type:"conditional",conditional:{label:rn("abilityCond"),metadata:mn.normal_enemy,fields:[c(P.ability_chain_dmg_)]}},{type:"fields",fields:[c(P.ability_exSpecial_dmg_),c(P.ability_ult_dmg_)]}],m1:[{type:"conditional",conditional:{label:rn("coreDarkAbyssReverb"),metadata:mn.dark_abyss_reverb,fields:[c(P.m1_exSpecial_crit_),c(P.m1_exSpecial_crit_dmg_),c(P.m1_ult_crit_),c(P.m1_ult_crit_dmg_)]}}],m2:[{type:"fields",fields:[c(P.m2_exSpecial_defIgn_),c(P.m2_ult_defIgn_)]}],m4:[{type:"conditional",conditional:{label:rn("m4Cond"),metadata:mn.charged_shot_hit,fields:[c(P.m4_ice_resIgn_)]}}],m6:[{type:"fields",fields:[c(P.m6_exSpecial_dmg_),c(P.m6_ult_dmg_),c(P.m6_exSpecial_mv_mult_)]}]}),In="Jane",[,$e]=m("char",In),Se=h[In],U=f[In],qf=M[In],Lf=C(In,{perSkillAbility:{basic:{Passion:[{type:"conditional",conditional:{label:$e("passionCond"),metadata:Se.passion,fields:[c(U.passion_physical_anomBuildup_),c(U.passion_atk)]}}]}},core:[{type:"conditional",conditional:{label:$e("gnawedCond"),metadata:Se.gnawed,fields:[c(U.core_assault_crit_),c(U.core_assault_crit_dmg_)]}}],ability:[{type:"conditional",conditional:{label:$e("abilityCond"),metadata:Se.enemy_suffering_anomaly,fields:[c(U.ability_physical_anomBuildup_)]}}],m1:[{type:"conditional",conditional:{label:$e("passionCond"),metadata:Se.passion,fields:[c(U.m1_physical_anomBuildup_),c(U.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:$e("gnawedCond"),metadata:Se.gnawed,fields:[c(U.m2_defIgn_),c(U.m2_assault_defIgn_),c(U.m2_assault_crit_dmg_)]}}],m4:[{type:"conditional",conditional:{label:$e("m4Cond"),metadata:Se.assault_or_disorder_triggered,fields:[c(U.m4_anomaly_dmg_)]}}],m6:[{type:"conditional",conditional:{label:$e("passionCond"),metadata:Se.passion,fields:[c(U.m6_crit_),c(U.m6_crit_dmg_)]}},{type:"fields",fields:[{title:$e("m6_additional_dmg"),fieldRef:qf.m6_additional_dmg.tag}]}]}),jf="JuFufu",Hf=C(jf),zn="Koleda",[,la]=m("char",zn),da=h[zn],De=f[zn],Kf=M[zn],Wf=C(zn,{core:[{type:"fields",fields:[c(De.core_exSpecial_dazeInc_),{title:la("core_dazeInc_"),fieldRef:De.core_dazeInc_.tag}]}],ability:[{type:"conditional",conditional:{label:B("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:da.exSpecial_debuff,fields:[c(De.ability_chain_dmg_)]}}],m1:[{type:"conditional",conditional:{label:la("m1Cond"),metadata:da.quick_use,fields:[c(De.m1_special_dazeInc_),c(De.m1_exSpecial_dazeInc_)]}}],m4:[{type:"conditional",conditional:{label:la("m4Cond"),metadata:da.charge,fields:[c(De.m4_chain_dmg_),c(De.m4_ult_dmg_)]}}],m6:[{type:"fields",fields:[{title:B("dmg"),fieldRef:Kf.m6_dmg.tag}]}]}),it="Lighter",[,be]=m("char",it),fn=h[it],se=f[it],Nf=M[it],Uf=$.char[it],Gf=C(it,{core:[{type:"conditional",conditional:{label:be("coreCond.morale_consumed"),metadata:fn.morale_consumed,fields:[c(se.core_impact_)]}},{type:"conditional",conditional:{label:be("coreCond.morale_burst_hit"),metadata:fn.morale_burst_hit,fields:[c(se.core_ice_resRed_),c(se.core_fire_resRed_)]}}],ability:[{type:"conditional",conditional:{label:be("abilityCond"),metadata:fn.elation,fields:[c(se.ability_ice_dmg_),c(se.ability_fire_dmg_)]}}],m1:[{type:"conditional",conditional:{label:be("collapseCond"),metadata:fn.collapse,fields:[c(se.m1_ice_resRed_),c(se.m1_fire_resRed_)]}},{type:"fields",fields:[{title:be("m1_finishing_move_dmg_"),fieldRef:se.m1_finishing_move_dmg_.tag}]}],m2:[{type:"conditional",conditional:{label:be("collapseCond"),metadata:fn.collapse,fields:[c(se.m2_stun_)]}},{type:"fields",fields:[{title:be("m2_elation_inc_"),fieldValue:Uf.m2.ability_buff_inc_*100,unit:"%"}]}],m4:[{type:"fields",fields:[c(se.m4_enerRegen_)]}],m6:[{type:"fields",fields:[{title:be("m6_blazing_impact_dmg"),fieldRef:Nf.m6_blazing_impact_dmg.tag}]}]}),Jf="Lucy",Yf=C(Jf),Bn="Lycaon",[,Re]=m("char",Bn),ra=h[Bn],Le=f[Bn],Zf=M[Bn],Qf=C(Bn,{core:[{type:"fields",fields:[{title:Re("core_dazeInc_"),fieldRef:Le.core_dazeInc_.tag}]},{type:"conditional",conditional:{label:Re("coreCond"),metadata:ra.exSpecial_assistFollowUp_hit,fields:[c(Le.core_ice_resRed_)]}}],ability:[{type:"conditional",conditional:{label:Re("abilityCond"),metadata:ra.stunned_enemy_hit,fields:[c(Le.ability_stun_)]}}],m1:[{type:"fields",fields:[{title:Re("m1_dazeInc_"),fieldRef:Le.m1_dazeInc_.tag},{title:Re("m1_fullCharge_dazeInc_"),fieldRef:Le.m1_fullCharge_dazeInc_.tag}]}],m4:[{type:"fields",fields:[{title:Re("m4_shield"),fieldRef:Zf.m4_shield.tag}]}],m6:[{type:"conditional",conditional:{label:Re("m6Cond"),metadata:ra.charged_hits,fields:[c(Le.m6_common_dmg_)]}}]}),Mn="Miyabi",[,H]=m("char",Mn),xe=h[Mn],G=f[Mn],Xf=M[Mn],eu=C(Mn,{perSkillAbility:{chain:{UltimateLingeringSnow:[{type:"conditional",conditional:{label:H("ultCond"),metadata:xe.ult_used,fields:[c(G.ult_ice_dmg_)]}}]}},core:[{type:"conditional",conditional:{label:H("frostbiteCond"),metadata:xe.frostbite,fields:[c(G.frostbite_crit_dmg_)]}},{type:"conditional",conditional:{label:H("coreIcefireCond"),metadata:xe.icefire,fields:[c(G.core_frost_anomBuildup_)]}},{type:"fields",fields:[{title:H("core_frostburnBreak_dmg"),fieldRef:Xf.core_frostburnBreak_dmg.tag}]},{type:"conditional",conditional:{label:H("coreFrostburnCond"),metadata:xe.frostburn,fields:[c(G.core_anomBuildup_)]}}],ability:[{type:"fields",fields:[{title:H("ability_dmg_"),fieldRef:G.ability_dmg_.tag}]},{type:"conditional",conditional:{label:H("abilityCond"),metadata:xe.disorder_triggered,fields:[{title:H("ability_ice_resIgn_"),fieldRef:G.ability_ice_resIgn_.tag}]}}],m1:[{type:"conditional",conditional:{label:H("m1Cond"),metadata:xe.fallen_frost,fields:[{title:H("m1_defIgn_"),fieldRef:G.m1_defIgn_.tag}]}},{type:"conditional",conditional:{label:H("m1Cond2"),metadata:xe.level_3_charge_hit,fields:[c(G.m1_anomBuildup_)]}}],m2:[{type:"fields",fields:[{title:H("m2_dmg_"),fieldRef:G.m2_dmg_.tag},c(G.m2_dodgeCounter_dmg_),c(G.m2_crit_)]}],m4:[{type:"fields",fields:[{title:H("m4_frostburnBreak_dmg_"),fieldRef:G.m4_frostburnBreak_dmg_.tag}]}],m6:[{type:"conditional",conditional:{label:H("m6Cond"),metadata:xe.polar,fields:[{title:H("m6_dmg_"),fieldRef:G.m6_dmg_.tag}]}}]}),wi="Nekomata",[,je]=m("char",wi),He=h[wi],Ke=f[wi],tu=C(wi,{core:[{type:"conditional",conditional:{label:je("coreCond"),metadata:He.dodgeCounter_quickAssist_hit,fields:[c(Ke.core_common_dmg_)]}}],ability:[{type:"conditional",conditional:{label:je("abilityCond"),metadata:He.assaults_inflicted,fields:[c(Ke.ability_exSpecial_dmg_)]}}],m1:[{type:"conditional",conditional:{label:je("m1Cond"),metadata:He.from_behind,fields:[c(Ke.m1_physical_resIgn_)]}}],m2:[{type:"conditional",conditional:{label:je("m2Cond"),metadata:He.one_enemy_onField,fields:[c(Ke.m2_enerRegen_)]}}],m4:[{type:"conditional",conditional:{label:je("m4Cond"),metadata:He.exSpecials_used,fields:[c(Ke.m4_crit_)]}}],m6:[{type:"conditional",conditional:{label:je("m6Cond"),metadata:He.chain_ult_used,fields:[c(Ke.m6_crit_dmg_)]}}]}),ki="Nicole",[,ma]=m("char",ki),ko=h[ki],un=f[ki],nu=C(ki,{core:[{type:"conditional",conditional:{label:ma("coreCond"),metadata:ko.bulletsOrFieldHit,fields:[c(un.core_defRed_)]}}],ability:[{type:"fields",fields:[c(un.ability_ether_dmg_)]}],m1:[{type:"fields",fields:[c(un.m1_exSpecial_dmg_),{title:ma("m1_exSpecial_anomBuildup"),fieldRef:un.m1_exSpecial_anomBuildup_.tag}]}],m6:[{type:"conditional",conditional:{label:ma("m6Cond"),metadata:ko.fieldHitsEnemy,fields:[c(un.m6_crit_)]}}]}),at="PanYinhu",[,Ie]=m("char",at),vo=h[at],fa=f[at],ua=M[at],Co=$.char[at],iu=C(at,{perSkillAbility:{chain:{UltimateAFeastFitForAnEmperor:[{type:"fields",fields:[{title:Ie("ultimate_heal"),fieldRef:ua.ultimate_heal.tag},{title:Ie("ultimate_healOverTime"),fieldRef:ua.ultimate_healOverTime.tag}]}]}},core:[{type:"conditional",conditional:{label:Ie("coreCond"),metadata:vo.meridian_flow,fields:[c(fa.core_sheerForce)]}}],ability:[{type:"conditional",conditional:{label:Ie("abilityCond"),metadata:vo.depleted_qi,fields:[c(fa.ability_dmgInc_)]}}],m1:[{type:"fields",fields:[c(fa.m1_dmgInc_)]}],m4:[{type:"fields",fields:[{title:Ie("m4_heal"),fieldRef:ua.m4_heal.tag}]}],m6:[{type:"fields",fields:[{title:Ie("m6_sheerForce"),fieldValue:Co.m6.sheerForce*100,unit:"%"},{title:Ie("m6_maxSheerForce"),fieldValue:Co.m6.max_sheerForce}]}]}),au="Piper",ou=C(au),su="Pulchra",cu=C(su),ot="Qingyi",[,hn]=m("char",ot),ha=h[ot],ne=f[ot],lu=M[ot],du=$.char[ot],ru=C(ot,{perSkillAbility:{basic:{BasicAttackEnchantedMoonlitBlossoms:[{type:"conditional",conditional:{label:hn("flashConnectCond"),metadata:ha.flash_connect_consumed,fields:[c(ne.flash_connect_dmg_),c(ne.flash_connect_dazeInc_)]}}]},chain:{ChainAttackTranquilSerenade:[{type:"fields",fields:[c(ne.chain_dmg_)]}]}},core:[{type:"conditional",conditional:{label:hn("subjugationCond"),metadata:ha.subjugation,fields:[c(ne.core_stun_)]}}],ability:[{type:"fields",fields:[c(ne.ability_basic_dazeInc_),c(ne.ability_atk)]}],m1:[{type:"fields",fields:[c(ne.m1_defRed_),c(ne.m1_crit_)]}],m2:[{type:"fields",fields:[{title:hn("m2_stun_"),fieldValue:du.m2.stun_mult_*100,unit:"%"},c(ne.m2_dazeInc_)]}],m4:[{type:"fields",fields:[{title:hn("m4_shield"),fieldRef:lu.m4_shield.tag}]}],m6:[{type:"fields",fields:[c(ne.m6_crit_dmg_)]},{type:"conditional",conditional:{label:hn("m6Cond"),metadata:ha.moonlit_blossoms_hit,fields:[c(ne.m6_resRed_)]}}]}),mu="Rina",fu=C(mu),uu="Seth",hu=C(uu),Tn="Soldier0Anby",[,Xn]=m("char",Tn),pa=h[Tn],We=f[Tn],pu=M[Tn],gu=C(Tn,{core:[{type:"conditional",conditional:{label:Xn("coreCond"),metadata:pa.markedWithSilverStar,fields:[c(We.core_common_dmg_),c(We.core_markedWithSilverStar_crit_dmg_)]}}],ability:[{type:"fields",fields:[c(We.ability_crit_),c(We.ability_aftershock_dmg_)]}],m2:[{type:"conditional",conditional:{label:Xn("coreCond"),metadata:pa.markedWithSilverStar,fields:[c(We.m2_crit_)]}}],m4:[{type:"conditional",conditional:{label:Xn("coreCond"),metadata:pa.markedWithSilverStar,fields:[c(We.m4_electric_resIgn_)]}}],m6:[{type:"fields",fields:[{title:Xn("m6_additional_dmg"),fieldRef:pu.m6_additional_dmg.tag}]}]}),vi="Soldier11",[,ze]=m("char",vi),ei=h[vi],Ne=f[vi],_u=C(vi,{core:[{type:"fields",fields:[{title:ze("core_common_dmg_"),fieldRef:Ne.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[c(Ne.ability_fire_dmg_)]}],m2:[{type:"conditional",conditional:{label:ze("m2Cond"),metadata:ei.m2_stacks,fields:[{title:ze("m2_common_dmg_"),fieldRef:Ne.m2_common_dmg_.tag},c(Ne.m2_dodgeCounter_dmg_)]}}],m4:[{type:"conditional",conditional:{label:ze("m4Cond"),metadata:ei.fireSuppression_triggered,fields:[c(Ne.m4_dmg_red_)]}},{type:"conditional",conditional:{label:ze("m4Cond2"),metadata:ei.fireSuppression_4th_hit}}],m6:[{type:"conditional",conditional:{label:ze("m6Cond"),metadata:ei.charge_consumed,fields:[{title:ze("m6_fire_resIgn_"),fieldRef:Ne.m6_fire_resIgn_.tag}]}}]}),Ci="Soukaku",[,Be]=m("char",Ci),Ue=h[Ci],pn=f[Ci],yu=C(Ci,{perSkillAbility:{chain:{UltimateJumboPuddingSlash:[{type:"conditional",conditional:{label:Be("ultCond"),metadata:Ue.masked,fields:[c(pn.ult_crit_)]}}]}},core:[{type:"conditional",conditional:{label:Be("coreCond"),metadata:Ue.flyTheFlag,fields:[c(pn.core_atk)]}},{type:"conditional",conditional:{label:Be("coreCond2"),metadata:Ue.vortexConsumed}}],ability:[{type:"conditional",conditional:{label:Be("coreCond2"),metadata:Ue.vortexConsumed,fields:[c(pn.ability_ice_dmg_)]}}],m4:[{type:"conditional",conditional:{label:Be("m4Cond"),metadata:Ue.flyTheFlagHit,fields:[c(pn.m4_ice_resRed_)]}}],m6:[{type:"conditional",conditional:{label:Be("m6Cond"),metadata:Ue.frostedBanner,fields:[{title:Be("m6_dmg_"),fieldRef:pn.m6_common_dmg_.tag}]}}]}),En="Trigger",[,Me]=m("char",En),So=h[En],gn=f[En],ga=M[En],$u=C(En,{core:[{type:"conditional",conditional:{label:Me("coreCond"),metadata:So.aftershock_hit,fields:[c(gn.core_stun_)]}}],ability:[{type:"fields",fields:[{title:Me("ability_dazeInc_"),fieldRef:gn.ability_aftershock_dazeInc_.tag}]}],m1:[{type:"fields",fields:[c(gn.m1_stun_)]}],m2:[{type:"conditional",conditional:{label:Me("m2Cond"),metadata:So.hunters_gaze,fields:[c(gn.m2_crit_dmg_)]}}],m4:[{type:"fields",fields:[{title:Me("m4_disconnect_dmg"),fieldRef:ga.m4_disconnect_dmg.tag},{title:Me("m4_disconnect_daze"),fieldRef:ga.m4_disconnect_daze.tag}]}],m6:[{type:"fields",fields:[{title:Me("m6_armor_break_rounds_dmg"),fieldRef:ga.m6_armor_break_rounds_dmg.tag},{title:Me("m6_armor_break_rounds_dmg_"),fieldRef:gn.m6_armor_break_rounds_dmg_.tag}]}]}),An="Vivian",[,Ge]=m("char",An),ti=h[An],K=f[An],bu=M[An],xu=C(An,{core:[{type:"conditional",conditional:{label:Ge("coreAbloom"),metadata:ti.abloom,fields:[c(K.core_ether_abloom),c(K.core_electric_abloom),c(K.core_fire_abloom),c(K.core_physical_abloom),c(K.core_ice_abloom)]}},{type:"fields",fields:[{title:Ge("core_prophecy_dmg"),fieldRef:bu.core_prophecy_dmg.tag}]}],ability:[{type:"fields",fields:[c(K.ability_corruption_dmg_),c(K.ability_corruption_disorder_dmg_)]}],m1:[{type:"conditional",conditional:{label:Ge("prophecyCond"),metadata:ti.prophecy,fields:[c(K.m1_anomaly_dmg_),c(K.m1_disorder_dmg_)]}}],m2:[{type:"fields",fields:[c(K.m2_ether_anomBuildup_)]},{type:"conditional",conditional:{label:Ge("coreAbloom"),metadata:ti.abloom,fields:[c(K.m2_anom_mv_mult_),c(K.m2_resIgn_)]}}],m4:[{type:"fields",fields:[{title:Ge("m4_crit_"),fieldRef:K.m4_crit_.tag}]},{type:"conditional",conditional:{label:Ge("m4Cond"),metadata:ti.fluttering_featherbloom_used,fields:[c(K.m4_atk_)]}}],m6:[{type:"fields",fields:[c(K.m6_ether_dmg_)]}]}),wu="Yanagi",ku=C(wu),Vn="Yixuan",[,we]=m("char",Vn),Do=h[Vn],J=f[Vn],_a=M[Vn],vu=C(Vn,{core:[{type:"fields",fields:[c(J.core_hpSheerForce),{title:we("core_dmg_"),fieldRef:J.core_dmg_.tag},c(J.core_exSpecial_dmg_),c(J.core_assistFollowUp_dmg_),c(J.core_chain_dmg_),c(J.core_ult_dmg_)]}],ability:[{type:"fields",fields:[{title:we("ability_dmg"),fieldRef:_a.ability_dmg.tag},{title:we("ability_dmg_"),fieldRef:J.ability_dmg_.tag}]},{type:"conditional",conditional:{label:we("meditationCond"),metadata:Do.meditation,fields:[c(J.ability_crit_dmg_)]}}],m1:[{type:"fields",fields:[c(J.m1_crit_),{title:we("m1_dmg"),fieldRef:_a.m1_dmg.tag}]}],m2:[{type:"fields",fields:[c(J.m2_ult_ether_resIgn_),c(J.m2_exSpecial_ether_resIgn_),{title:we("m2_dmg"),fieldRef:_a.m2_dmg.tag}]}],m4:[{type:"conditional",conditional:{label:we("m4Cond"),metadata:Do.tranquility,fields:[{title:we("m4_dmg_"),fieldRef:J.m4_dmg_.tag}]}}],m6:[{type:"fields",fields:[c(J.m6_sheer_dmg_)]}]}),Cu="Yuzuha",Su=C(Cu),Pn="ZhuYuan",[,Te]=m("char",Pn),ya=h[Pn],_n=f[Pn],Du=M[Pn],Ru=C(Pn,{core:[{type:"fields",fields:[{title:Te("core_dmg_"),fieldRef:_n.core_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:Te("abilityCond"),metadata:ya.ex_chain_ult_used,fields:[c(_n.ability_crit_)]}}],m2:[{type:"conditional",conditional:{label:Te("m2SuppresiveModeCond"),metadata:ya.suppresive_mode,fields:[c(_n.m2_dmg_red_)]}},{type:"conditional",conditional:{label:Te("m2BasicDashEtherCond"),metadata:ya.shotshells_hit,fields:[{title:Te("m2_basic_dash_ether_dmg_"),fieldRef:_n.m2_basic_dash_ether_dmg_.tag}]}}],m4:[{type:"fields",fields:[{title:Te("m4_ether_resIgn_"),fieldRef:_n.m4_basic_dash_ether_res_ign_.tag}]}],m6:[{type:"fields",fields:[{title:Te("m6_ether_afterglow"),fieldRef:Du.m6_ether_afterglow.tag}]}]}),Iu={Alice:yf,Anby:$f,Anton:xf,AstraYao:kf,Ben:vf,Billy:Cf,Burnice:Df,Caesar:zf,Corin:Mf,Ellen:Ef,Evelyn:Af,Grace:Vf,Harumasa:Of,Hugo:Ff,Jane:Lf,JuFufu:Hf,Koleda:Wf,Lighter:Gf,Lucy:Yf,Lycaon:Qf,Miyabi:eu,Nekomata:tu,Nicole:nu,PanYinhu:iu,Piper:ou,Pulchra:cu,Qingyi:ru,Rina:fu,Seth:hu,Soldier0Anby:gu,Soldier11:_u,Soukaku:yu,Trigger:$u,Vivian:xu,Yanagi:ku,Yixuan:vu,Yuzuha:Su,ZhuYuan:Ru},Si="AstralVoice",[Ro,zu]=m("disc",Si),Io=T(Si),Bu=h[Si],Mu=f[Si],Tu={2:{title:i(E,{}),img:Io,documents:[{type:"text",text:Ro("desc2")}]},4:{title:i(A,{}),img:Io,documents:[{type:"text",text:Ro("desc4")},{type:"conditional",conditional:{label:zu("set4_cond"),metadata:Bu.astral,fields:[d(Mu.set4_team_dmg_.tag)]}}]}},Di="BranchBladeSong",[zo,Eu]=m("disc",Di),Bo=T(Di),Au=h[Di],Mo=f[Di],Vu={2:{title:i(E,{}),img:Bo,documents:[{type:"text",text:zo("desc2")}]},4:{title:i(A,{}),img:Bo,documents:[{type:"text",text:zo("desc4")},{type:"fields",fields:[d(Mo.set4_passive.tag)]},{type:"conditional",conditional:{label:Eu("set4_cond"),metadata:Au.apply_or_trigger,fields:[d(Mo.set4_cond.tag)]}}]}},Ri="ChaosJazz",[To,Pu]=m("disc",Ri),Eo=T(Ri),Ou=h[Ri],ni=f[Ri],Fu={2:{title:i(E,{}),img:Eo,documents:[{type:"text",text:To("desc2")}]},4:{title:i(A,{}),img:Eo,documents:[{type:"text",text:To("desc4")},{type:"fields",fields:[d(ni.set4_passive_fire_dmg_.tag),d(ni.set4_passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:Pu("set4_cond"),metadata:Ou.while_off_field,fields:[{title:"EX Special Attack DMG",fieldRef:ni.set4_off_field_special_dmg_.tag},{title:"Assist Attack Attack DMG",fieldRef:ni.set4_off_field_assist_dmg_.tag}]}}]}},Ii="ChaoticMetal",[Ao,qu]=m("disc",Ii),Vo=T(Ii),Lu=h[Ii],Po=f[Ii],ju={2:{title:i(E,{}),img:Vo,documents:[{type:"text",text:Ao("desc2")}]},4:{title:i(A,{}),img:Vo,documents:[{type:"text",text:Ao("desc4")},{type:"fields",fields:[d(Po.set4_passive.tag)]},{type:"conditional",conditional:{label:qu("set4_cond"),metadata:Lu.trigger_corruption,fields:[d(Po.set4_cond_trigger_corruption.tag)]}}]}},zi="FangedMetal",[Oo,Hu]=m("disc",zi),Fo=T(zi),Ku=h[zi],Wu=f[zi],Nu={2:{title:i(E,{}),img:Fo,documents:[{type:"text",text:Oo("desc2")}]},4:{title:i(A,{}),img:Fo,documents:[{type:"text",text:Oo("desc4")},{type:"conditional",conditional:{label:Hu("set4_cond"),metadata:Ku.inflict_assault,fields:[d(Wu.set4_cond_inflict_assault.tag)]}}]}},Bi="FreedomBlues",[qo,Uu]=m("disc",Bi),Lo=T(Bi),Gu=h[Bi],Ju=f[Bi],Yu={2:{title:i(E,{}),img:Lo,documents:[{type:"text",text:qo("desc2")}]},4:{title:i(A,{}),img:Lo,documents:[{type:"text",text:qo("desc4")},{type:"conditional",conditional:{label:Uu("set4_cond"),metadata:Gu.exSpecialHit,fields:[d(Ju.anomBuildupRes_.tag)]}}]}},Mi="HormonePunk",[jo,Zu]=m("disc",Mi),Ho=T(Mi),Qu=h[Mi],Xu=f[Mi],eh={2:{title:i(E,{}),img:Ho,documents:[{type:"text",text:jo("desc2")}]},4:{title:i(A,{}),img:Ho,documents:[{type:"text",text:jo("desc4")},{type:"conditional",conditional:{label:Zu("set4_cond"),metadata:Qu.entering_combat,fields:[d(Xu.set4_cond_entering_combat.tag)]}}]}},Ti="InfernoMetal",[Ko,th]=m("disc",Ti),Wo=T(Ti),nh=h[Ti],ih=f[Ti],ah={2:{title:i(E,{}),img:Wo,documents:[{type:"text",text:Ko("desc2")}]},4:{title:i(A,{}),img:Wo,documents:[{type:"text",text:Ko("desc4")},{type:"conditional",conditional:{label:th("set4_cond"),metadata:nh.hitting_burning_enemy,fields:[d(ih.set4_cond_hitting_burning_enemy.tag)]}}]}},Ei="KingOfTheSummit",[No,Ab]=m("disc",Ei),Uo=T(Ei),oh=h[Ei],Go=f[Ei],sh={2:{title:i(E,{}),img:Uo,documents:[{type:"text",text:No("desc2")},{type:"fields",fields:[d(Go.set2.tag)]}]},4:{title:i(A,{}),img:Uo,documents:[{type:"text",text:No("desc4")},{type:"conditional",conditional:{metadata:oh.launchExSpecialOrChain,label:B("uponLaunch.2",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)"}),fields:[d(Go.set4_team_launchExSpecialOrChain_crit_dmg_.tag)]}}]}},Ai="PhaethonsMelody",[Jo,Yo]=m("disc",Ai),Zo=T(Ai),Qo=h[Ai],Xo=f[Ai],ch={2:{title:i(E,{}),img:Zo,documents:[{type:"text",text:Jo("desc2")}]},4:{title:i(A,{}),img:Zo,documents:[{type:"text",text:Jo("desc4")},{type:"conditional",conditional:{label:Yo("set4_cond_squad_use_ex"),metadata:Qo.squad_use_ex,fields:[d(Xo.set4_squad_anomProf.tag)]}},{type:"conditional",conditional:{label:Yo("set4_cond_not_char_use_ex"),metadata:Qo.not_char_use_ex,fields:[d(Xo.set4_not_self_ether_.tag)]}}]}},Vi="PolarMetal",[es,lh]=m("disc",Vi),ts=T(Vi),dh=h[Vi],ns=f[Vi],rh={2:{title:i(E,{}),img:ts,documents:[{type:"text",text:es("desc2")}]},4:{title:i(A,{}),img:ts,documents:[{type:"text",text:es("desc4")},{type:"conditional",conditional:{label:lh("set4_cond"),metadata:dh.freeze_shatter}},{type:"fields",fields:[{title:"Basic Attack DMG",fieldRef:ns.set4_basic_dmg_.tag},{title:"Dash Attack DMG",fieldRef:ns.set4_dash_dmg_.tag}]}]}},Pi="ProtoPunk",[is,mh]=m("disc",Pi),as=T(Pi),fh=h[Pi],uh=f[Pi],hh={2:{title:i(E,{}),img:as,documents:[{type:"text",text:is("desc2")}]},4:{title:i(A,{}),img:as,documents:[{type:"text",text:is("desc4")},{type:"conditional",conditional:{label:mh("set4_cond"),metadata:fh.def_assist_or_evasive_assist,fields:[d(uh.set4_cond_def_assist_or_evasive_assist_dmg_.tag)]}}]}},Oi="PufferElectro",[os,ph]=m("disc",Oi),ss=T(Oi),gh=h[Oi],cs=f[Oi],_h={2:{title:i(E,{}),img:ss,documents:[{type:"text",text:os("desc2")}]},4:{title:i(A,{}),img:ss,documents:[{type:"text",text:os("desc4")},{type:"fields",fields:[{title:"Ultimate DMG",fieldRef:cs.set4_dmg_.tag}]},{type:"conditional",conditional:{label:ph("set4_cond"),metadata:gh.launching_ult,fields:[d(cs.set4_cond_launching_ult_atk_.tag)]}}]}},Fi="ShadowHarmony",[ls,yh]=m("disc",Fi),ds=T(Fi),$h=h[Fi],rs=f[Fi],bh={2:{title:i(E,{}),img:ds,documents:[{type:"text",text:ls("desc2")}]},4:{title:i(A,{}),img:ds,documents:[{type:"text",text:ls("desc4")},{type:"conditional",conditional:{label:yh("set4_cond_stacks"),metadata:$h.stacks,fields:[d(rs.set4_stack_atk_.tag),d(rs.set4_stack_crit_.tag)]}}]}},Ga="ShockstarDisco",[ms,Vb]=m("disc",Ga),fs=T(Ga),$a=f[Ga],xh={2:{title:i(E,{}),img:fs,documents:[{type:"text",text:ms("desc2")}]},4:{title:i(A,{}),img:fs,documents:[{type:"text",text:ms("desc4")},{type:"fields",fields:[{title:"Basic Attack Daze",fieldRef:$a.set4_basic_daze_.tag},{title:"Dash Attack Daze",fieldRef:$a.set4_dash_daze_.tag},{title:"Dodge Counter Daze",fieldRef:$a.set4_dodgeCounter_daze_.tag}]}]}},Td="SoulRock",[us,Pb]=m("disc",Td),hs=T(Td),wh={2:{title:i(E,{}),img:hs,documents:[{type:"text",text:us("desc2")}]},4:{title:i(A,{}),img:hs,documents:[{type:"text",text:us("desc4")}]}},qi="SwingJazz",[ps,kh]=m("disc",qi),gs=T(qi),vh=h[qi],Ch=f[qi],Sh={2:{title:i(E,{}),img:gs,documents:[{type:"text",text:ps("desc2")}]},4:{title:i(A,{}),img:gs,documents:[{type:"text",text:ps("desc4")},{type:"conditional",conditional:{label:kh("set4_cond"),metadata:vh.chain_or_ult,fields:[d(Ch.set4_cond_chain_or_ult.tag)]}}]}},Li="ThunderMetal",[_s,Dh]=m("disc",Li),ys=T(Li),Rh=h[Li],Ih=f[Li],zh={2:{title:i(E,{}),img:ys,documents:[{type:"text",text:_s("desc2")}]},4:{title:i(A,{}),img:ys,documents:[{type:"text",text:_s("desc4")},{type:"conditional",conditional:{label:Dh("set4_cond"),metadata:Rh.enemy_shocked,fields:[d(Ih.set4_cond_enemy_shocked_atk_.tag)]}}]}},ji="WoodpeckerElectro",[$s,Bh]=m("disc",ji),bs=T(ji),Mh=h[ji],Th=f[ji],Eh={2:{title:i(E,{}),img:bs,documents:[{type:"text",text:$s("desc2")}]},4:{title:i(A,{}),img:bs,documents:[{type:"text",text:$s("desc4")},{type:"conditional",conditional:{label:Bh("set4_cond"),metadata:Mh.crit_basic_dodge_ex,fields:[d(Th.set4_cond_crit_basic_dodge_ex_atk_.tag)]}}]}},Hi="YunkuiTales",[xs,Ob]=m("disc",Hi),ws=T(Hi),Ah=h[Hi],ba=f[Hi],Vh={2:{title:i(E,{}),img:ws,documents:[{type:"text",text:xs("desc2")},{type:"fields",fields:[d(ba.set2.tag)]}]},4:{title:i(A,{}),img:ws,documents:[{type:"text",text:xs("desc4")},{type:"conditional",conditional:{metadata:Ah.uponLaunchExSpecialChainOrUlt,label:B("uponLaunch.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),fields:[d(ba.set4_crit_.tag),d(ba.set4_sheer_dmg_.tag)]}}]}},Ph={AstralVoice:Tu,BranchBladeSong:Vu,ChaosJazz:Fu,ChaoticMetal:ju,FangedMetal:Nu,FreedomBlues:Yu,HormonePunk:eh,InfernoMetal:ah,KingOfTheSummit:sh,PhaethonsMelody:ch,PolarMetal:rh,ProtoPunk:hh,PufferElectro:_h,ShadowHarmony:bh,ShockstarDisco:xh,SoulRock:wh,SwingJazz:Sh,ThunderMetal:zh,WoodpeckerElectro:Eh,YunkuiTales:Vh};function E(){return"2-Set"}function A(){return"4-Set"}function g({wKey:e,children:t}){const n=gi();let a=1;return n&&n.compute(L.common.count.sheet(e)).val&&(a=n.compute(L.wengine.phase).val??1),t(a)}const st="BashfulDemon",[ks,Oh]=m("wengine",st),Fh=$.wengine[st],qh=_(st,"icon"),Lh=h[st],vs=f[st],jh={title:ks("phase"),img:qh,documents:[{type:"text",text:i(g,{wKey:st,children:e=>ks(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(vs.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:Oh("cond"),metadata:Lh.launch_ex_attack,fields:[d(vs.team_atk_.tag),{title:"Duration",fieldValue:Fh.duration}]}}]},ct="BigCylinder",[Cs,Fb]=m("wengine",ct),Hh=$.wengine[ct],Kh=_(ct,"icon"),Wh=f[ct],Nh=M[ct],Uh={title:Cs("phase"),img:Kh,documents:[{type:"text",text:i(g,{wKey:ct,children:e=>Cs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Wh.passive_dmg_red_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:Nh.damage.tag},{title:"Cooldown",fieldValue:Hh.cooldown}]}]},lt="BlazingLaurel",[Ss,Ds]=m("wengine",lt),Rs=$.wengine[lt],Gh=_(lt,"icon"),Is=h[lt],xa=f[lt],Jh={title:Ss("phase"),img:Gh,documents:[{type:"text",text:i(g,{wKey:lt,children:e=>Ss(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ds("cond1"),metadata:Is.quickOrPerfectAssistUsed,fields:[d(xa.impact_.tag),{title:"Duration",fieldValue:Rs.duration}]}},{type:"conditional",conditional:{label:Ds("cond2"),metadata:Is.wilt,fields:[d(xa.crit_dmg_ice_.tag),d(xa.crit_dmg_fire_.tag),{title:"Duration",fieldValue:Rs.wilt_duration}]}}]},dt="BoxCutter",[zs,Yh]=m("wengine",dt),Zh=$.wengine[dt],Qh=_(dt,"icon"),Xh=h[dt],Bs=f[dt],ep={title:zs("phase"),img:Qh,documents:[{type:"text",text:i(g,{wKey:dt,children:e=>zs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Yh("cond"),metadata:Xh.launchedAftershock,fields:[d(Bs.physical_dmg_.tag),d(Bs.daze_.tag),{title:"Duration",fieldValue:Zh.duration}]}}]},On="BunnyBand",[Ms,tp]=m("wengine",On),np=_(On,"icon"),ip=h[On],Ts=f[On],ap={title:Ms("phase"),img:np,documents:[{type:"text",text:i(g,{wKey:On,children:e=>Ms(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ts.passive_hp_.tag)]},{type:"conditional",conditional:{label:tp("cond"),metadata:ip.wearerShielded,fields:[d(Ts.atk_.tag)]}}]},Pe="CannonRotor",[Es,qb]=m("wengine",Pe),op=$.wengine[Pe],sp=_(Pe,"icon"),cp=M[Pe],lp=f[Pe],dp={title:Es("phase"),img:sp,documents:[{type:"text",text:i(g,{wKey:Pe,children:e=>Es(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(lp.passive_atk_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:cp.damage.tag},{title:"Cooldown",fieldValue:i(g,{wKey:Pe,children:e=>op.cooldown[e]})}]}]},rt="CinderCobalt",[As]=m("wengine",rt),Vs=$.wengine[rt],rp=_(rt,"icon"),mp=h[rt],fp=f[rt],up={title:As("phase"),img:rp,documents:[{type:"text",text:i(g,{wKey:rt,children:e=>As(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:B("enterCombatOrSwitchIn"),metadata:mp.enteringCombatOrSwitchingIn,fields:[d(fp.enteringCombatOrSwitchingIn_atk_.tag),{title:B("duration"),fieldValue:Vs.duration},{title:B("cd"),fieldValue:Vs.cd}]}}]},mt="DeepSeaVisitor",[Ps,Os]=m("wengine",mt),Fs=$.wengine[mt],hp=_(mt,"icon"),qs=h[mt],wa=f[mt],pp={title:Ps("phase"),img:hp,documents:[{type:"text",text:i(g,{wKey:mt,children:e=>Ps(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(wa.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:Os("cond1"),metadata:qs.basicHit,fields:[d(wa.crit_.tag),{title:"Duration",fieldValue:Fs.duration}]}},{type:"conditional",conditional:{label:Os("cond2"),metadata:qs.iceDashAtkHit,fields:[d(wa.extra_crit_.tag),{title:"Duration",fieldValue:Fs.extra_duration}]}}]},ft="DemaraBatteryMarkII",[Ls,gp]=m("wengine",ft),_p=$.wengine[ft],yp=_(ft,"icon"),$p=h[ft],js=f[ft],bp={title:Ls("phase"),img:yp,documents:[{type:"text",text:i(g,{wKey:ft,children:e=>Ls(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(js.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:gp("cond"),metadata:$p.dodgeCounterOrAssistHit,fields:[d(js.enerRegen_.tag),{title:"Duration",fieldValue:_p.duration}]}}]},ut="DrillRigRedAxis",[Hs,xp]=m("wengine",ut),Ks=$.wengine[ut],wp=_(ut,"icon"),kp=h[ut],Ws=f[ut],vp={title:Hs("phase"),img:wp,documents:[{type:"text",text:i(g,{wKey:ut,children:e=>Hs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:xp("cond"),metadata:kp.exSpecialOrChainUsed,fields:[d(Ws.basic_eletric_dmg_.tag),d(Ws.dash_eletric_dmg_.tag),{title:"Duration",fieldValue:Ks.duration},{title:"Cooldown",fieldValue:Ks.cooldown}]}}]},Fn="ElectroLipGloss",[Ns,Cp]=m("wengine",Fn),Sp=_(Fn,"icon"),Dp=h[Fn],Us=f[Fn],Rp={title:Ns("phase"),img:Sp,documents:[{type:"text",text:i(g,{wKey:Fn,children:e=>Ns(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Cp("cond"),metadata:Dp.anomalyOnEnemy,fields:[d(Us.atk_.tag),d(Us.common_dmg_.tag)]}}]},ht="ElegantVanity",[Gs,Ip]=m("wengine",ht),zp=$.wengine[ht],Bp=_(ht,"icon"),Mp=h[ht],Tp=f[ht],Ep={title:Gs("phase"),img:Bp,documents:[{type:"text",text:i(g,{wKey:ht,children:e=>Gs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ip("cond"),metadata:Mp.consumed25Energy,fields:[d(Tp.common_dmg_.tag),{title:"Duration",fieldValue:zp.buffDuration}]}}]},pt="FlamemakerShaker",[Js,Ys]=m("wengine",pt),ka=$.wengine[pt],Ap=_(pt,"icon"),Zs=h[pt],va=f[pt],Vp={title:Js("phase"),img:Ap,documents:[{type:"text",text:i(g,{wKey:pt,children:e=>Js(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ys("cond1"),metadata:Zs.offField,fields:[d(va.enerRegen.tag)]}},{type:"conditional",conditional:{label:Ys("cond2"),metadata:Zs.exSpecialAssistHits,fields:[d(va.common_dmg_.tag),{title:"Duration",fieldValue:ka.duration},{title:"Cooldown",fieldValue:ka.cooldown},d(va.anomProf.tag),{title:"Duration",fieldValue:ka.anomProfDuration}]}}]},gt="FlightOfFancy",[Qs,Pp]=m("wengine",gt),Xs=$.wengine[gt],Op=_(gt,"icon"),Fp=h[gt],ec=f[gt],qp={title:Qs("phase"),img:Op,documents:[{type:"text",text:i(g,{wKey:gt,children:e=>Qs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ec.anomBuildup_.tag)]},{type:"conditional",conditional:{label:Pp("cond"),metadata:Fp.etherDmg,fields:[d(ec.etherDmg_anomProf.tag),{title:"Duration",fieldValue:Xs.duration},{title:"Cooldown",fieldValue:Xs.cd}]}}]},_t="FusionCompiler",[tc,Lp]=m("wengine",_t),jp=$.wengine[_t],Hp=_(_t,"icon"),Kp=h[_t],nc=f[_t],Wp={title:tc("phase"),img:Hp,documents:[{type:"text",text:i(g,{wKey:_t,children:e=>tc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(nc.passive_atk_.tag)]},{type:"conditional",conditional:{label:Lp("cond"),metadata:Kp.specialUsed,fields:[d(nc.anomProf.tag),{title:"Duration",fieldValue:jp.duration}]}}]},Ki="GildedBlossom",[ic,Lb]=m("wengine",Ki),Np=_(Ki,"icon"),ac=f[Ki],Up={title:ic("phase"),img:Np,documents:[{type:"text",text:i(g,{wKey:Ki,children:e=>ic(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ac.passive_atk_.tag),d(ac.passive_exSpecial_dmg_.tag)]}]},yt="HailstormShrine",[oc,Gp]=m("wengine",yt),Jp=$.wengine[yt],Yp=_(yt,"icon"),Zp=h[yt],sc=f[yt],Qp={title:oc("phase"),img:Yp,documents:[{type:"text",text:i(g,{wKey:yt,children:e=>oc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(sc.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:Gp("cond"),metadata:Zp.exSpecialOrAnomaly,fields:[d(sc.ice_dmg_.tag),{title:"Duration",fieldValue:Jp.duration}]}}]},$t="HeartstringNocturne",[cc,Xp]=m("wengine",$t),eg=$.wengine[$t],tg=_($t,"icon"),ng=h[$t],Ca=f[$t],ig={title:cc("phase"),img:tg,documents:[{type:"text",text:i(g,{wKey:$t,children:e=>cc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ca.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:Xp("cond"),metadata:ng.heartstring,fields:[d(Ca.chain_resIgn_fire_.tag),d(Ca.ult_resIgn_fire_.tag),{title:"Duration",fieldValue:eg.duration}]}}]},bt="HellfireGears",[lc,dc]=m("wengine",bt),ag=$.wengine[bt],og=_(bt,"icon"),rc=h[bt],mc=f[bt],sg={title:lc("phase"),img:og,documents:[{type:"text",text:i(g,{wKey:bt,children:e=>lc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:dc("cond1"),metadata:rc.offField,fields:[d(mc.enerRegen.tag)]}},{type:"conditional",conditional:{label:dc("cond1"),metadata:rc.exSpecialUsed,fields:[d(mc.impact_.tag),{title:"Duration",fieldValue:ag.duration}]}}]},xt="Housekeeper",[fc,uc]=m("wengine",xt),cg=$.wengine[xt],lg=_(xt,"icon"),hc=h[xt],pc=f[xt],dg={title:fc("phase"),img:lg,documents:[{type:"text",text:i(g,{wKey:xt,children:e=>fc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:uc("cond1"),metadata:hc.offField,fields:[d(pc.enerRegen.tag)]}},{type:"conditional",conditional:{label:uc("cond2"),metadata:hc.exSpecialHits,fields:[d(pc.physical_dmg_.tag),{title:"Duration",fieldValue:cg.duration}]}}]},wt="IceJadeTeapot",[gc,rg]=m("wengine",wt),_c=$.wengine[wt],mg=_(wt,"icon"),fg=h[wt],yc=f[wt],ug={title:gc("phase"),img:mg,documents:[{type:"text",text:i(g,{wKey:wt,children:e=>gc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:rg("cond"),metadata:fg.teariffic,fields:[d(yc.impact_.tag),{title:"Duration",fieldValue:_c.duration},d(yc.common_dmg_.tag),{title:"Duration",fieldValue:_c.teamBuffDuration}]}}]},kt="IdentityBase",[$c,hg]=m("wengine",kt),pg=$.wengine[kt],gg=_(kt,"icon"),_g=h[kt],yg=f[kt],$g={title:$c("phase"),img:gg,documents:[{type:"text",text:i(g,{wKey:kt,children:e=>$c(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:hg("cond"),metadata:_g.equipperAttacked,fields:[d(yg.def_.tag),{title:"Duration",fieldValue:pg.duration}]}}]},Ja="IdentityInflection",[bc,jb]=m("wengine",Ja),bg=_(Ja,"icon"),xg={title:bc("phase"),img:bg,documents:[{type:"text",text:i(g,{wKey:Ja,children:e=>bc(`phaseDescs.${e-1}`)})}]},vt="KaboomTheCannon",[xc,wg]=m("wengine",vt),kg=$.wengine[vt],vg=_(vt,"icon"),Cg=h[vt],Sg=f[vt],Dg={title:xc("phase"),img:vg,documents:[{type:"text",text:i(g,{wKey:vt,children:e=>xc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:wg("cond"),metadata:Cg.allyHitsEnemy,fields:[d(Sg.atk_.tag),{title:"Duration",fieldValue:kg.duration}]}}]},Ct="LunarDecrescent",[wc,Rg]=m("wengine",Ct),Ig=$.wengine[Ct],zg=_(Ct,"icon"),Bg=h[Ct],Mg=f[Ct],Tg={title:wc("phase"),img:zg,documents:[{type:"text",text:i(g,{wKey:Ct,children:e=>wc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Rg("cond"),metadata:Bg.chainOrUltUsed,fields:[d(Mg.common_dmg_.tag),{title:"Duration",fieldValue:Ig.duration}]}}]},Ya="LunarNoviluna",[kc,Hb]=m("wengine",Ya),Eg=_(Ya,"icon"),Ag={title:kc("phase"),img:Eg,documents:[{type:"text",text:i(g,{wKey:Ya,children:e=>kc(`phaseDescs.${e-1}`)})}]},Wi="LunarPleniluna",[vc,Kb]=m("wengine",Wi),Vg=_(Wi,"icon"),Sa=f[Wi],Pg={title:vc("phase"),img:Vg,documents:[{type:"text",text:i(g,{wKey:Wi,children:e=>vc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Sa.basic_dmg_.tag),d(Sa.dash_dmg_.tag),d(Sa.dodgeCounter_dmg_.tag)]}]},St="MagneticStormAlpha",[Cc,Og]=m("wengine",St),Sc=$.wengine[St],Fg=_(St,"icon"),qg=h[St],Lg=f[St],jg={title:Cc("phase"),img:Fg,documents:[{type:"text",text:i(g,{wKey:St,children:e=>Cc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Og("cond"),metadata:qg.anomalyBuildupIncreased,fields:[d(Lg.anomMas.tag),{title:"Duration",fieldValue:Sc.duration},{title:"Cooldown",fieldValue:Sc.cooldown}]}}]},Dt="MagneticStormBravo",[Dc,Hg]=m("wengine",Dt),Rc=$.wengine[Dt],Kg=_(Dt,"icon"),Wg=h[Dt],Ng=f[Dt],Ug={title:Dc("phase"),img:Kg,documents:[{type:"text",text:i(g,{wKey:Dt,children:e=>Dc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Hg("cond"),metadata:Wg.anomalyBuildupIncreased,fields:[d(Ng.anomProf.tag),{title:"Duration",fieldValue:Rc.duration},{title:"Cooldown",fieldValue:Rc.cooldown}]}}]},Za="MagneticStormCharlie",[Ic,Wb]=m("wengine",Za),Gg=_(Za,"icon"),Jg={title:Ic("phase"),img:Gg,documents:[{type:"text",text:i(g,{wKey:Za,children:e=>Ic(`phaseDescs.${e-1}`)})}]},Rt="MarcatoDesire",[zc,Bc]=m("wengine",Rt),Yg=$.wengine[Rt],Zg=_(Rt,"icon"),Mc=h[Rt],Qg=f[Rt],Xg={title:zc("phase"),img:Zg,documents:[{type:"text",text:i(g,{wKey:Rt,children:e=>zc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Bc("cond1"),metadata:Mc.exSpecialOrChainHitsEnemy,fields:[d(Qg.atk_.tag),{title:"Duration",fieldValue:Yg.duration}]}},{type:"conditional",conditional:{label:Bc("cond2"),metadata:Mc.attributeAnomalyInflicted}}]},It="Metanukimorphosis",[Tc,e_]=m("wengine",It),Ec=$.wengine[It],t_=_(It,"icon"),Ac=h[It],Vc=f[It],n_={title:Tc("phase"),img:t_,documents:[{type:"text",text:i(g,{wKey:It,children:e=>Tc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{metadata:Ac.physical_exSpecial_ult,label:e_("physical_exSpecial_ult_cond"),fields:[d(Vc.physical_exSpecial_ult_anomMas.tag),{title:B("duration"),fieldValue:Ec.amDuration}]}},{type:"conditional",conditional:{metadata:Ac.aftershock,label:B("uponHit.1",{val1:"$t(skills.aftershock)"}),fields:[d(Vc.aftershock_team_anomProf.tag),{title:B("duration"),fieldValue:Ec.apDuration}]}}]},zt="MyriadEclipse",[Pc,i_]=m("wengine",zt),a_=$.wengine[zt],o_=_(zt,"icon"),s_=h[zt],Oc=f[zt],c_={title:Pc("phase"),img:o_,documents:[{type:"text",text:i(g,{wKey:zt,children:e=>Pc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Oc.crit_dmg_.tag)]},{type:"conditional",conditional:{label:i_("cond"),metadata:s_.deathSentence,fields:[d(Oc.deathSentence_defIgn_.tag),{title:"Duration",fieldValue:a_.duration}]}}]},Bt="OriginalTransmorpher",[Fc,l_]=m("wengine",Bt),d_=$.wengine[Bt],r_=_(Bt,"icon"),m_=h[Bt],qc=f[Bt],f_={title:Fc("phase"),img:r_,documents:[{type:"text",text:i(g,{wKey:Bt,children:e=>Fc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(qc.passive_hp_.tag)]},{type:"conditional",conditional:{label:l_("cond"),metadata:m_.equipperHit,fields:[d(qc.impact_.tag),{title:"Duration",fieldValue:d_.duration}]}}]},qn="PeacekeeperSpecialized",[Lc,u_]=m("wengine",qn),h_=_(qn,"icon"),p_=h[qn],Da=f[qn],g_={title:Lc("phase"),img:h_,documents:[{type:"text",text:i(g,{wKey:qn,children:e=>Lc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:u_("cond"),metadata:p_.shielded,fields:[d(Da.enerRegen.tag)]}},{type:"fields",fields:[d(Da.passive_exSpecial_anomBuildup_.tag),d(Da.passive_assist_anomBuildup_.tag)]}]},Mt="PracticedPerfection",[jc,Nb]=m("wengine",Mt),__=$.wengine[Mt],y_=_(Mt,"icon"),$_=h[Mt],Hc=f[Mt],b_={title:jc("phase"),img:y_,documents:[{type:"text",text:i(g,{wKey:Mt,children:e=>jc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Hc.anomMas.tag)]},{type:"conditional",conditional:{metadata:$_.stacks,label:B("stacks"),fields:[d(Hc.stacks_phys_dmg_.tag),{title:B("duration"),fieldValue:__.duration}]}}]},Ln="PreciousFossilizedCore",[Kc,Wc]=m("wengine",Ln),x_=_(Ln,"icon"),Nc=h[Ln],w_=f[Ln],k_={title:Kc("phase"),img:x_,documents:[{type:"text",text:i(g,{wKey:Ln,children:e=>Kc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Wc("cond1"),metadata:Nc.enemyHpGE50,fields:[d(w_.daze_.tag)]}},{type:"conditional",conditional:{label:Wc("cond2"),metadata:Nc.enemyHpGE75}}]},Tt="PuzzleSphere",[Uc]=m("wengine",Tt),Gc=$.wengine[Tt],v_=_(Tt,"icon"),Jc=h[Tt],Yc=f[Tt],C_={title:Uc("phase"),img:v_,documents:[{type:"text",text:i(g,{wKey:Tt,children:e=>Uc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:B("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:Jc.launchingExSpecial,fields:[d(Yc.launchingExSpecial_crit_dmg_.tag),{title:B("duration"),fieldValue:Gc.duration}]}},{type:"conditional",conditional:{label:B("targetHpLe",{val:Gc.hpThresh*100}),metadata:Jc.targetHpBelow50,fields:[d(Yc.targetHpBelow50_exSpecial_dmg_.tag)]}}]},Et="QingmingBirdcage",[Zc,S_]=m("wengine",Et),D_=$.wengine[Et],R_=_(Et,"icon"),I_=h[Et],ii=f[Et],z_={title:Zc("phase"),img:R_,documents:[{type:"text",text:i(g,{wKey:Et,children:e=>Zc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ii.crit_.tag)]},{type:"conditional",conditional:{metadata:I_.qingmingCompanionStacks,label:S_("cond"),fields:[d(ii.qingmingCompanionStacks_ether_dmg_.tag),d(ii.qingmingCompanionStacks_ult_ether_sheer_dmg_.tag),d(ii.qingmingCompanionStacks_exSpecial_ether_sheer_dmg_.tag),{title:B("cd"),fieldValue:D_.duration}]}}]},At="RadiowaveJourney",[Qc]=m("wengine",At),B_=$.wengine[At],M_=_(At,"icon"),T_=h[At],E_=f[At],A_={title:Qc("phase"),img:M_,documents:[{type:"text",text:i(g,{wKey:At,children:e=>Qc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{metadata:T_.launchingChainOrUlt,label:B("uponLaunch.2",{val1:"$t(skills.chain)",val2:"$t(skills.ult)"}),fields:[d(E_.launchingChainOrUlt_sheerForce.tag),{title:B("duration"),fieldValue:B_.duration}]}}]},Vt="RainforestGourmet",[Xc,V_]=m("wengine",Vt),P_=$.wengine[Vt],O_=_(Vt,"icon"),F_=h[Vt],q_=f[Vt],L_={title:Xc("phase"),img:O_,documents:[{type:"text",text:i(g,{wKey:Vt,children:e=>Xc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:V_("cond"),metadata:F_.energyConsumed,fields:[d(q_.atk_.tag),{title:"Duration",fieldValue:P_.duration}]}}]},Qa="ReelProjector",[el]=m("wengine",Qa),j_=_(Qa,"icon"),H_={title:el("phase"),img:j_,documents:[{type:"text",text:i(g,{wKey:Qa,children:e=>el(`phaseDescs.${e-1}`)})}]},Pt="ReverbMarkI",[tl,K_]=m("wengine",Pt),W_=$.wengine[Pt],N_=_(Pt,"icon"),U_=h[Pt],G_=f[Pt],J_={title:tl("phase"),img:N_,documents:[{type:"text",text:i(g,{wKey:Pt,children:e=>tl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:K_("cond"),metadata:U_.exSpecialUsed,fields:[d(G_.impact_.tag),{title:"Duration",fieldValue:W_.duration}]}}]},Ot="ReverbMarkII",[nl,Y_]=m("wengine",Ot),Z_=$.wengine[Ot],Q_=_(Ot,"icon"),X_=h[Ot],il=f[Ot],ey={title:nl("phase"),img:Q_,documents:[{type:"text",text:i(g,{wKey:Ot,children:e=>nl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Y_("cond"),metadata:X_.exSpecialOrChainUsed,fields:[d(il.anomMas.tag),d(il.anomProf.tag),{title:"Duration",fieldValue:Z_.duration}]}}]},Ft="ReverbMarkIII",[al,ty]=m("wengine",Ft),ny=$.wengine[Ft],iy=_(Ft,"icon"),ay=h[Ft],oy=f[Ft],sy={title:al("phase"),img:iy,documents:[{type:"text",text:i(g,{wKey:Ft,children:e=>al(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ty("cond"),metadata:ay.chainOrUltUsed,fields:[d(oy.atk_.tag),{title:"Duration",fieldValue:ny.duration}]}}]},jn="RiotSuppressorMarkVI",[ol,cy]=m("wengine",jn),ly=_(jn,"icon"),dy=h[jn],sl=f[jn],ry={title:ol("phase"),img:ly,documents:[{type:"text",text:i(g,{wKey:jn,children:e=>ol(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(sl.passive_crit_.tag)]},{type:"conditional",conditional:{label:cy("cond"),metadata:dy.charge,fields:[d(sl.basic_ether_dmg_.tag)]}}]},qt="RoaringFurnace",[cl,my]=m("wengine",qt),fy=$.wengine[qt],uy=_(qt,"icon"),hy=h[qt],ai=f[qt],py={title:cl("phase"),img:uy,documents:[{type:"text",text:i(g,{wKey:qt,children:e=>cl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ai.exSpecial_dazeInc_.tag),d(ai.chain_dazeInc_.tag),d(ai.ult_dazeInc_.tag)]},{type:"conditional",conditional:{metadata:hy.chainOrUlt,label:my("cond"),fields:[d(ai.team_chainOrUlt_fire_dmg_.tag),{title:B("duration"),fieldValue:fy.duration}]}}]},Lt="RoaringRide",[ll,Ra]=m("wengine",Lt),Ia=$.wengine[Lt],gy=_(Lt,"icon"),za=h[Lt],Ba=f[Lt],_y={title:ll("phase"),img:gy,documents:[{type:"text",text:i(g,{wKey:Lt,children:e=>ll(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ra("cond_atk_"),metadata:za.atk_,fields:[d(Ba.atk_.tag),{title:"Duration",fieldValue:Ia.duration}]}},{type:"conditional",conditional:{label:Ra("cond_anomProf"),metadata:za.anomProf,fields:[d(Ba.anomProf.tag),{title:"Duration",fieldValue:Ia.duration}]}},{type:"conditional",conditional:{label:Ra("cond_anomBuildup_"),metadata:za.anomBuildup_,fields:[d(Ba.anomBuildup_.tag),{title:"Duration",fieldValue:Ia.duration}]}}]},jt="SeveredInnocence",[dl,yy]=m("wengine",jt),$y=$.wengine[jt],by=_(jt,"icon"),xy=h[jt],Ma=f[jt],wy={title:dl("phase"),img:by,documents:[{type:"text",text:i(g,{wKey:jt,children:e=>dl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ma.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:yy("cond"),metadata:xy.basicSpecialAftershockHit,fields:[d(Ma.crit_dmg_.tag),d(Ma.electric_dmg_.tag),{title:"Duration",fieldValue:$y.duration}]}}]},Ht="SharpenedStinger",[rl,ky]=m("wengine",Ht),vy=$.wengine[Ht],Cy=_(Ht,"icon"),Sy=h[Ht],ml=f[Ht],Dy={title:rl("phase"),img:Cy,documents:[{type:"text",text:i(g,{wKey:Ht,children:e=>rl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ky("cond"),metadata:Sy.predatoryInstinct,fields:[d(ml.physical_dmg_.tag),{title:"Duration",fieldValue:vy.duration}]}},{type:"fields",fields:[d(ml.anomBuildup_.tag)]}]},Hn="SixShooter",[fl,Ry]=m("wengine",Hn),Iy=_(Hn,"icon"),zy=h[Hn],By=f[Hn],My={title:fl("phase"),img:Iy,documents:[{type:"text",text:i(g,{wKey:Hn,children:e=>fl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ry("cond"),metadata:zy.charge,fields:[d(By.exSpecial_daze_.tag)]}}]},Xa="SliceOfTime",[ul,Ub]=m("wengine",Xa),Ty=_(Xa,"icon"),Ey={title:ul("phase"),img:Ty,documents:[{type:"text",text:i(g,{wKey:Xa,children:e=>ul(`phaseDescs.${e-1}`)})}]},Kt="SpectralGaze",[hl,pl]=m("wengine",Kt),gl=$.wengine[Kt],Ay=_(Kt,"icon"),_l=h[Kt],yl=f[Kt],Vy={title:hl("phase"),img:Ay,documents:[{type:"text",text:i(g,{wKey:Kt,children:e=>hl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:pl("cond1"),metadata:_l.hit_aftershock_electric,fields:[d(yl.cond_defRed_.tag),{title:"Duration",fieldValue:gl.duration1}]}},{type:"conditional",conditional:{label:pl("cond2"),metadata:_l.spiritLock,fields:[d(yl.cond_impact_.tag),{title:"Duration",fieldValue:gl.duration2}]}}]},Wt="SpringEmbrace",[$l,Py]=m("wengine",Wt),Oy=$.wengine[Wt],Fy=_(Wt,"icon"),qy=h[Wt],bl=f[Wt],Ly={title:$l("phase"),img:Fy,documents:[{type:"text",text:i(g,{wKey:Wt,children:e=>$l(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(bl.passive_dmg_red_.tag)]},{type:"conditional",conditional:{label:Py("cond"),metadata:qy.when_attacked,fields:[d(bl.cond_enerRegen_.tag),{title:"Duration",fieldValue:Oy.duration}]}}]},Nt="StarlightEngine",[xl,jy]=m("wengine",Nt),Hy=$.wengine[Nt],Ky=_(Nt,"icon"),Wy=h[Nt],Ny=f[Nt],Uy={title:xl("phase"),img:Ky,documents:[{type:"text",text:i(g,{wKey:Nt,children:e=>xl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:jy("cond"),metadata:Wy.dodgecounter_quickassist,fields:[d(Ny.cond_dmg_.tag),{title:"Duration",fieldValue:Hy.duration}]}}]},Ut="StarlightEngineReplica",[wl,Gy]=m("wengine",Ut),Jy=$.wengine[Ut],Yy=_(Ut,"icon"),Zy=h[Ut],Qy=f[Ut],Xy={title:wl("phase"),img:Yy,documents:[{type:"text",text:i(g,{wKey:Ut,children:e=>wl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Gy("cond"),metadata:Zy.hit_away,fields:[d(Qy.cond_dmg_.tag),{title:"Duration",fieldValue:Jy.duration}]}}]},Gt="SteamOven",[kl,e$]=m("wengine",Gt),t$=$.wengine[Gt],n$=_(Gt,"icon"),i$=h[Gt],a$=f[Gt],o$={title:kl("phase"),img:n$,documents:[{type:"text",text:i(g,{wKey:Gt,children:e=>kl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:e$("cond"),metadata:i$.stacks,fields:[d(a$.cond_impact_.tag),{title:"Duration",fieldValue:t$.duration}]}}]},Kn="SteelCushion",[vl,s$]=m("wengine",Kn),c$=_(Kn,"icon"),l$=h[Kn],Cl=f[Kn],d$={title:vl("phase"),img:c$,documents:[{type:"text",text:i(g,{wKey:Kn,children:e=>vl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Cl.passive_physical_dmg_.tag)]},{type:"conditional",conditional:{label:s$("cond"),metadata:l$.hit_behind,fields:[d(Cl.cond_dmg_.tag)]}}]},Wn="StreetSuperstar",[Sl,r$]=m("wengine",Wn),m$=_(Wn,"icon"),f$=h[Wn],u$=f[Wn],h$={title:Sl("phase"),img:m$,documents:[{type:"text",text:i(g,{wKey:Wn,children:e=>Sl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:r$("cond"),metadata:f$.charge,fields:[d(u$.cond_ult_dmg_.tag)]}}]},Jt="TheBrimstone",[Dl,p$]=m("wengine",Jt),g$=$.wengine[Jt],_$=_(Jt,"icon"),y$=h[Jt],$$=f[Jt],b$={title:Dl("phase"),img:_$,documents:[{type:"text",text:i(g,{wKey:Jt,children:e=>Dl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:p$("cond"),metadata:y$.hit_basic_dash_dodge,fields:[d($$.cond_atk_.tag),{title:"Duration",fieldValue:g$.duration}]}}]},Yt="TheRestrained",[Rl,x$]=m("wengine",Yt),w$=$.wengine[Yt],k$=_(Yt,"icon"),v$=h[Yt],Il=f[Yt],C$={title:Rl("phase"),img:k$,documents:[{type:"text",text:i(g,{wKey:Yt,children:e=>Rl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:x$("cond"),metadata:v$.dmg_daze_,fields:[d(Il.basic_dmg_.tag),d(Il.basic_daze_.tag),{title:"Duration",fieldValue:w$.duration}]}}]},Zt="TheVault",[zl,S$]=m("wengine",Zt),D$=$.wengine[Zt],R$=_(Zt,"icon"),I$=h[Zt],z$=f[Zt],B$={title:zl("phase"),img:R$,documents:[{type:"text",text:i(g,{wKey:Zt,children:e=>zl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:S$("cond"),metadata:I$.ether_hit,fields:[d(z$.cond_dmg_.tag),{title:"Duration",fieldValue:D$.duration}]}}]},Qt="Timeweaver",[Bl,M$]=m("wengine",Qt),T$=$.wengine[Qt],E$=_(Qt,"icon"),A$=h[Qt],Ta=f[Qt],V$={title:Bl("phase"),img:E$,documents:[{type:"text",text:i(g,{wKey:Qt,children:e=>Bl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ta.passive_electric_anomBuildup_.tag),d(Ta.passive_disorder_dmg_.tag)]},{type:"conditional",conditional:{label:M$("cond"),metadata:A$.hit_anomaly,fields:[d(Ta.cond_anomProf.tag),{title:"Duration",fieldValue:T$.duration}]}}]},Ni="TremorTrigramVessel",[Ml]=m("wengine",Ni),P$=_(Ni,"icon"),Tl=f[Ni],O$={title:Ml("phase"),img:P$,documents:[{type:"text",text:i(g,{wKey:Ni,children:e=>Ml(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Tl.exSpecial_dmg_.tag),d(Tl.ult_dmg_.tag)]}]},Xt="TusksOfFury",[El,F$]=m("wengine",Xt),q$=$.wengine[Xt],L$=_(Xt,"icon"),j$=h[Xt],Ea=f[Xt],H$={title:El("phase"),img:L$,documents:[{type:"text",text:i(g,{wKey:Xt,children:e=>El(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Ea.passive_shield_.tag)]},{type:"conditional",conditional:{label:F$("cond"),metadata:j$.interrupt_perfdodge,fields:[d(Ea.cond_dmg_.tag),d(Ea.daze_.tag),{title:"Duration",fieldValue:q$.duration}]}}]},en="UnfetteredGameBall",[Al,K$]=m("wengine",en),W$=$.wengine[en],N$=_(en,"icon"),U$=h[en],G$=f[en],J$={title:Al("phase"),img:N$,documents:[{type:"text",text:i(g,{wKey:en,children:e=>Al(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:K$("cond"),metadata:U$.anomaly_counter,fields:[d(G$.cond_crit_.tag),{title:"Duration",fieldValue:W$.duration}]}}]},Ui="VortexArrow",[Vl,Gb]=m("wengine",Ui),Y$=_(Ui,"icon"),Z$=f[Ui],Q$={title:Vl("phase"),img:Y$,documents:[{type:"text",text:i(g,{wKey:Ui,children:e=>Vl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Z$.passive_daze_.tag)]}]},tn="VortexHatchet",[Pl,X$]=m("wengine",tn),Ol=$.wengine[tn],eb=_(tn,"icon"),tb=h[tn],nb=f[tn],ib={title:Pl("phase"),img:eb,documents:[{type:"text",text:i(g,{wKey:tn,children:e=>Pl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:X$("cond"),metadata:tb.entering,fields:[d(nb.cond_impact_.tag),{title:"Duration",fieldValue:Ol.duration},{title:"Cooldown",fieldValue:Ol.cooldown}]}}]},Gi="VortexRevolver",[Fl,Jb]=m("wengine",Gi),ab=_(Gi,"icon"),ob=f[Gi],sb={title:Fl("phase"),img:ab,documents:[{type:"text",text:i(g,{wKey:Gi,children:e=>Fl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ob.passive_exSpecial_daze_.tag)]}]},nn="WeepingCradle",[ql,Ll]=m("wengine",nn),cb=$.wengine[nn],lb=_(nn,"icon"),jl=h[nn],db=f[nn],rb={title:ql("phase"),img:lb,documents:[{type:"text",text:i(g,{wKey:nn,children:e=>ql(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ll("cond_atk"),metadata:jl.attack}},{type:"conditional",conditional:{label:Ll("cond_stacks"),metadata:jl.stacks,fields:[d(db.cond_dmg_.tag),{title:"Duration",fieldValue:cb.duration}]}}]},Nn="WeepingGemini",[Hl,mb]=m("wengine",Nn),fb=_(Nn,"icon"),ub=h[Nn],hb=f[Nn],pb={title:Hl("phase"),img:fb,documents:[{type:"text",text:i(g,{wKey:Nn,children:e=>Hl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:mb("cond"),metadata:ub.anomaly_stack,fields:[d(hb.anomProf.tag)]}}]},an="ZanshinHerbCase",[Kl,gb]=m("wengine",an),_b=$.wengine[an],yb=_(an,"icon"),$b=h[an],Aa=f[an],bb={title:Kl("phase"),img:yb,documents:[{type:"text",text:i(g,{wKey:an,children:e=>Kl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Aa.passive_crit_.tag),d(Aa.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:gb("cond"),metadata:$b.apply_anom_stun,fields:[d(Aa.cond_crit_.tag),{title:"Duration",fieldValue:_b.duration}]}}]},xb={BashfulDemon:jh,BigCylinder:Uh,BlazingLaurel:Jh,BoxCutter:ep,BunnyBand:ap,CannonRotor:dp,CinderCobalt:up,DeepSeaVisitor:pp,DemaraBatteryMarkII:bp,DrillRigRedAxis:vp,ElectroLipGloss:Rp,ElegantVanity:Ep,FlamemakerShaker:Vp,FlightOfFancy:qp,FusionCompiler:Wp,GildedBlossom:Up,HailstormShrine:Qp,HeartstringNocturne:ig,HellfireGears:sg,Housekeeper:dg,IceJadeTeapot:ug,IdentityBase:$g,IdentityInflection:xg,KaboomTheCannon:Dg,LunarDecrescent:Tg,LunarNoviluna:Ag,LunarPleniluna:Pg,MagneticStormAlpha:jg,MagneticStormBravo:Ug,MagneticStormCharlie:Jg,MarcatoDesire:Xg,Metanukimorphosis:n_,MyriadEclipse:c_,OriginalTransmorpher:f_,PeacekeeperSpecialized:g_,PracticedPerfection:b_,PreciousFossilizedCore:k_,PuzzleSphere:C_,QingmingBirdcage:z_,RadiowaveJourney:A_,RainforestGourmet:L_,ReelProjector:H_,ReverbMarkI:J_,ReverbMarkII:ey,ReverbMarkIII:sy,RiotSuppressorMarkVI:ry,RoaringFurnace:py,RoaringRide:_y,SeveredInnocence:wy,SharpenedStinger:Dy,SixShooter:My,SliceOfTime:Ey,SpectralGaze:Vy,SpringEmbrace:Ly,StarlightEngine:Uy,StarlightEngineReplica:Xy,SteamOven:o$,SteelCushion:d$,StreetSuperstar:h$,TheBrimstone:b$,TheRestrained:C$,TheVault:B$,Timeweaver:V$,TremorTrigramVessel:O$,TusksOfFury:H$,UnfetteredGameBall:J$,VortexArrow:Q$,VortexHatchet:ib,VortexRevolver:sb,WeepingCradle:rb,WeepingGemini:pb,ZanshinHerbCase:bb};function wb(e){const{attribute:t}=e;if(t)return t}function kb(e){const{q:t}=e;return["standardDmg","anomalyDmg"].includes(t)}function vb(e){const{damageType1:t,damageType2:n}=e,a=[];return kb(e)?(t&&a.push(t),n&&a.push(n),a):[]}const fi={basic:"Basic",dash:"Dash",dodgeCounter:"Dodge Counter",special:"Special",exSpecial:"EX Special",chain:"Chain",ult:"Ultimate",quickAssist:"Quick Assist",defensiveAssist:"Defensive Assist",evasiveAssist:"Evasive Assist",assistFollowUp:"Assist Follow Up",anomaly:"Anomaly",disorder:"Disorder",aftershock:"Aftershock",elemental:"Elemental",sheer:"Sheer"},Ed=["crit_","crit_dmg_","impact","pen","pen_","enerRegen","anomProf","anomMas","anom_crit_","anom_crit_dmg_"].map(e=>{if(tm.includes(e)){const t={...L.final.dmg_.tag,attribute:e.slice(0,-5)};return{title:i(yn,{statKey:e}),fieldRef:t}}return e==="crit_"?{fieldRef:L.common.cappedCrit_.tag,title:i(yn,{statKey:e})}:e==="anom_crit_"?{fieldRef:L.common.anom_cappedCrit_.tag,title:i(yn,{statKey:e})}:{fieldRef:L.final[e].tag,title:i(yn,{statKey:e})}});Ed.push(...Je.map(e=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,name:"standardDmgInst"},title:x(Ye,{color:e,children:[Ee[e]," Damage"]})})),...Je.map(e=>({fieldRef:{et:"own",qt:"formula",q:"sheerDmg",attribute:e,name:"sheerDmgInst"},title:x(Ye,{color:e,children:[Ee[e]," Damage"]})})),...Je.flatMap(e=>nm.map(t=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,damageType1:t,name:"standardDmgInst"},title:x(Ye,{color:e,children:[Ee[e]," ",fi[t]," Damage"]})}))),...Je.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomalyDmg",attribute:e,damageType1:"anomaly",name:"anomalyDmgInst"},title:x(Ye,{color:e,children:[Ee[e]," Anomaly Damage"]})})),...Je.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomBuildup",attribute:e,name:"anomalyBuildupInst"},title:x(Ye,{color:e,children:[Ee[e]," Anomaly Buildup"]})})),{fieldRef:{et:"own",qt:"formula",q:"dazeBuildup",name:"dazeInst"},title:"Daze Buildup"});const eo=[];Object.values(Iu).forEach(e=>Object.values(e).forEach(t=>t.documents.forEach(n=>n.type==="fields"&&n.fields.forEach(a=>Wm(a)&&eo.push({tag:a.fieldRef,value:a})))));Ed.forEach(e=>{eo.push({tag:e.fieldRef,value:e})});const Cb=Bm(eo),Pa=new Map;function Ad(e,t){if(Pa.get(e))throw new Error(`Duplicate conditional ${e}`);Pa.set(e,t)}Object.values(xb).forEach(({documents:e})=>{e.forEach(t=>{t.type==="conditional"&&Ad(`${t.conditional.metadata.sheet}:${t.conditional.metadata.name}`,t.conditional)})});Object.values(Ph).forEach(e=>Object.values(e).forEach(({documents:t})=>{t.forEach(n=>{n.type==="conditional"&&Ad(`${n.conditional.metadata.sheet}:${n.conditional.metadata.name}`,n.conditional)})}));export{Tm as A,Eb as C,po as D,Bb as F,_i as T,xn as a,vd as b,bm as c,_m as d,Ph as e,fi as f,nf as g,gi as h,lf as i,Tb as j,Mb as k,Em as l,pi as m,Mm as n,zb as o,Fm as p,af as q,Om as r,Bd as s,wm as u,xb as w};
