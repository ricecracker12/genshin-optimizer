import{W as f,p as e,q as s,B as l,T as g,z as m,af as C,a4 as T,r as p,y as b,A as u}from"./index-Bdm8F2og.js";import{u as v,a as w}from"./useMediaQueryUp-B-m6K708.js";import{C as y,G as d}from"./ReadOnlyTextArea-CqX2gHDL.js";import{I as k}from"./InfoTooltip-CNoyBpwG.js";import{C as S}from"./CardActionArea-Cgy1GwaT.js";import{C as D}from"./CardHeader-DxoxOwq7.js";function $({teamId:i,bgTheme:c="light",onClick:a}){const{database:h}=f(),t=h.teams.get(i);return e(m,{bgt:c,sx:{height:"100%",border:"1px rgba(200,200,200,0.4) solid"},children:s(l,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e(l,{sx:{display:"flex",flexDirection:"row"},children:e(S,{onClick:()=>a(),sx:{p:1},children:s(g,{sx:{display:"flex",gap:1,alignItems:"center"},variant:"h6",children:[e("span",{children:t.name})," ",t.description&&e(k,{title:t.description})]})})}),e(y,{children:e(d,{container:!0,columns:4,gap:1,children:t.teamMetadata.map((r,o)=>e(m,{sx:{flexGrow:1},children:s(g,{children:[(r==null?void 0:r.characterKey)??"Empty"," "]})},`${o}-${r==null?void 0:r.characterKey}`))})})]})})}const I={xs:1,sm:2,md:3,lg:3,xl:4},M={xs:5,sm:5,md:10,lg:10,xl:10};function z(){const{database:i}=f(),c=C(),a=T(i.teams),h=v(),{numShow:t,setTriggerElement:r}=w(M[h],a.length),o=p.useMemo(()=>a.slice(0,t),[a,t]);return e(p.Suspense,{fallback:e(u,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:s(m,{bgt:"dark",children:[e(D,{title:"Teams"}),s(y,{children:[e(b,{onClick:()=>i.teams.new(),children:"Create Team"}),s(l,{sx:{overflow:"auto",maxHeight:"50vh"},my:1,display:"flex",flexDirection:"column",gap:1,children:[e(d,{container:!0,spacing:1,columns:I,children:o.map(n=>e(d,{item:!0,xs:1,children:e($,{teamId:n,onClick:x=>c(`${n}${x?`/${x}`:""}`)})},n))}),a.length!==o.length&&e(u,{ref:n=>{n&&r(n)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})]})]})})}function j(){return e(l,{sx:{mt:1},children:e(z,{})})}export{j as default};
