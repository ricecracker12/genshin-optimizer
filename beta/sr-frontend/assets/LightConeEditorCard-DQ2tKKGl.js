import{n as p,q as n,p as r,I as y,z as l,r as $,T as L,A as b,aX as k,aY as D,a8 as t}from"./index-DiaH1NYg.js";import{M as u,D as f}from"./StatDisplay-BZosCiqp.js";import{b as w}from"./BusinessCenter-Bvfx8EjL.js";import"./UploadCard-CxXXPbAh.js";import{a as K}from"./LightConeTrans-ulShdazp.js";import{L as S}from"./LocationAutocomplete-BS3VSakB.js";import{C as A}from"./CardHeader-Byk1gng3.js";import{C as I,G as i}from"./Grid-C60ACQe4.js";function z({onClose:c,lightCone:e,setLightCone:d,footer:m,hideLocation:a=!1}){const{t:o}=p(["lightCone","common"]);return n(l,{bgt:"dark",children:[r(A,{title:"Light Cone Editor",action:r(y,{onClick:c,children:r(w,{})})}),n(I,{sx:{display:"flex",flexDirection:"column",gap:1},children:[n(i,{container:!0,spacing:1,columns:{xs:1,md:2},children:[r(i,{item:!0,xs:1,md:!0,display:"flex",flexDirection:"column",children:r(K,{lcKey:(e==null?void 0:e.key)??"",setLCKey:s=>d({key:s}),label:e!=null&&e.key?"":o("editor.unknownLightCone")})}),r(i,{item:!0,xs:!0,md:"auto",display:"flex",children:r(T,{superimpose:(e==null?void 0:e.superimpose)??1,setSuperimposition:s=>d({superimpose:s}),disabled:!(e!=null&&e.key)})})]}),n(i,{container:!0,spacing:1,columns:{xs:1,md:4},marginBottom:1,children:[r(i,{item:!0,xs:1,display:"flex",flexDirection:"row",gap:1,children:r(B,{level:e==null?void 0:e.level,ascension:e==null?void 0:e.ascension,setLevelAscension:(s,x)=>{d({level:s,ascension:x})},disabled:!(e!=null&&e.key)})}),r(i,{item:!0,xs:1,display:"flex",gap:1,children:r(l,{bgt:"light",sx:{p:1,flexGrow:1,alignContent:"center"},children:r($.Suspense,{fallback:r(b,{width:"60%"}),children:n(L,{color:"text.secondary",align:"center",children:[o("editor.ascension")," ",(e==null?void 0:e.ascension)||0]})})})}),!a&&r(i,{item:!0,xs:1,md:2,display:"flex",flexDirection:"column",gap:1,children:r(S,{locKey:(e==null?void 0:e.location)??"",setLocKey:s=>d({location:s})})})]}),m]})]})}function T({superimpose:c,setSuperimposition:e,disabled:d=!1}){const{t:m}=p("lightCone_gen");return r(f,{title:`${m("superimpose")} ${c}`,color:"primary",disabled:d,fullWidth:!0,children:k.map(a=>n(u,{selected:c===a,disabled:c===a,onClick:()=>e(a),children:[m("superimpose")," ",a]},a))})}function B({level:c,ascension:e,setLevelAscension:d,disabled:m=!1}){const{t:a}=p(["common_gen","common"]);return r(f,{title:c?`${a("lv")} ${c}/${t[e??0]}`:a("common:selectlevel"),color:"primary",disabled:m,fullWidth:!0,children:D.map(([o,s])=>r(u,{selected:c===o&&e===s,disabled:c===o&&e===s,onClick:()=>d(o,s),children:o===t[s]?`${a("lv")} ${o}`:`${a("lv")} ${o}/${t[s]}`},`${o}/${s}`))})}export{z as L};
