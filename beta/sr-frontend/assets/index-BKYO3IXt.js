import{W as C,X as y,r,q as h,p as e,B as u,z as b,A as m,a4 as v}from"./index-DNbk3e3K.js";import"./UploadCard-CTHaIBpn.js";import{u as S,a as k}from"./useInfScroll-CUsG4-wB.js";import{C as w,a as D}from"./CharacterEditor-CY6VyFjg.js";import{C as E}from"./CardHeader-CLY9ReZw.js";import{G as d}from"./Grid-Qy8gEjS0.js";import"./StatDisplay-RM3kwbV4.js";import"./CardActionArea-DrwP2ba9.js";const z={xs:1,sm:2,md:3,lg:3,xl:4},I={xs:5,sm:5,md:10,lg:10,xl:10};function M(){const{database:t}=C(),[c,n]=y();r.useEffect(()=>t.chars.followAny(n),[t,n]);const{characters:s}=r.useMemo(()=>{const a=t.chars.values;return c&&{characters:a}},[t.chars.values,c]),p=S(),{numShow:o,setTriggerElement:f}=k(I[p],s.length),i=r.useMemo(()=>s.slice(0,o),[s,o]),[g,l]=r.useState(void 0);return h(v,{children:[e(w,{characterKey:g,onClose:()=>l(void 0)}),e(r.Suspense,{fallback:e(m,{variant:"rectangular",sx:{widht:"100%",height:"100%",minHeight:300}}),children:h(u,{display:"flex",flexDirection:"column",gap:1,children:[e(b,{bgt:"dark",children:e(E,{title:"Characters"})}),e(d,{container:!0,spacing:1,columns:z,children:i.map((a,x)=>e(d,{item:!0,xs:1,children:e(D,{character:a,onClick:()=>l(a.key)})},x))}),s.length!==i.length&&e(m,{ref:a=>{a&&f(a)},sx:{borderRadius:1},variant:"rectangular",width:"100%",height:100})]})})]})}function T(){return e(u,{my:1,children:e(M,{})})}export{T as default};
