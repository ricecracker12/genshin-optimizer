import{c4 as bl,J as xl,H as wl,d as v,K as vl,_ as kl,O as Be,c5 as Ha,X as Nn,W as Xn,V as Ne,c6 as J,Y as Cl,c7 as bd,c8 as xd,T as O,y as Sl,c9 as Ka,ca as Dl,cb as wd,a4 as vd,cc as kd,a7 as Cd,cd as Rl,u as ge,aN as Il,aL as Sd,ce as Dd,cf as Rd,cg as Id,ch as zl,ci as zd,b3 as Bl,b2 as Ml,cj as q,ck as Bd,cl as Md,bA as F,b8 as Td,b9 as Ed,cm as Un,cn as Vd,co as Od,cp as Tl,cq as Gn,cr as Ad,j as i,cs as Jn,ct as ze,bs as ue,bB as $a,cu as Pd,e as x,am as ie,aA as hn,cv as Yn,i as Q,ax as te,bV as El,cw as qd,cx as Vl,cy as Ol,cz as ba,cA as we,ae as xa,o as z,cB as Fd,cC as Al,a as Pl,bI as jd,l as ql,b_ as Ld,f as fe,G as Y,C as Ue,S as Me,P as Hd,bM as Kd,bf as _a,b$ as Wa,bq as Fl,aX as Ke,c0 as Wd,c1 as Nd,I as wa,s as va,c2 as Ud,cD as Gd,v as rn,M as ka,aM as ei,ac as jl,ad as Ll,cE as Jd,m as Yd,k as Zd,n as Qd,be as Xd,D as er,c3 as tr,cF as nr,w as Hl,r as ir,b as ar,c as or,g as sr,bw as Kl,bE as Wl,bC as Nl,cG as cr,cH as lr,E as dr,cI as rr,z as un,B as Ge,cJ as Ca,F as fn,cK as Ul,cL as mr,ah as Sa,ag as hr,aY as We,ap as ur,b5 as fr,cM as gr,cN as pr,cO as _r,aH as Gl,aF as ln,ai as yr,cP as $r,by as br,cQ as xr,aK as wr,cR as vr,cS as kr,bY as Cr,cT as Sr,cU as Dr,cV as ce,cW as Jl,a5 as Na,b7 as Ua,cX as Rr,cY as Ir,bd as Yl,cZ as zr,c_ as b,c$ as A,a_ as f,aZ as u,ay as B,aD as _,d0 as Br,bH as Mr}from"./index-HgsoX_rn.js";import{i as Tr,d as Er}from"./discSortUtil-DSTpdoik.js";function Vr(e){const{badgeContent:t,invisible:n=!1,max:a=99,showZero:o=!1}=e,c=bl({badgeContent:t,max:a});let s=n;n===!1&&t===0&&!o&&(s=!0);const{badgeContent:r,max:h=a}=s?c:e,g=r&&Number(r)>h?`${h}+`:r;return{badgeContent:r,invisible:s,max:h,displayValue:g}}function Or(e){return wl("MuiBadge",e)}const pe=xl("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Ar=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Oi=10,Ai=4,Pr=e=>{const{color:t,anchorOrigin:n,invisible:a,overlap:o,variant:c,classes:s={}}=e,r={root:["root"],badge:["badge",c,a&&"invisible",`anchorOrigin${J(n.vertical)}${J(n.horizontal)}`,`anchorOrigin${J(n.vertical)}${J(n.horizontal)}${J(o)}`,`overlap${J(o)}`,t!=="default"&&`color${J(t)}`]};return Cl(r,Or,s)},qr=Xn("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Fr=Xn("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${J(n.anchorOrigin.vertical)}${J(n.anchorOrigin.horizontal)}${J(n.overlap)}`],n.color!=="default"&&t[`color${J(n.color)}`],n.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:Oi*2,lineHeight:1,padding:"0 6px",height:Oi*2,borderRadius:Oi,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(n=>{var a,o;return((a=e.vars)!=null?a:e).palette[n].main&&((o=e.vars)!=null?o:e).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ai,height:Ai*2,minWidth:Ai*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${pe.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}}),Ga=v.forwardRef(function(t,n){var a,o,c,s,r,h;const g=vl({props:t,name:"MuiBadge"}),{anchorOrigin:w={vertical:"top",horizontal:"right"},className:D,component:S,components:y={},componentsProps:$={},children:k,overlap:R="rectangular",color:j="default",invisible:W=!1,max:le=99,badgeContent:de,slots:K,slotProps:I,showZero:E=!1,variant:P="standard"}=g,re=kl(g,Ar),{badgeContent:Oa,invisible:md,max:hd,displayValue:ud}=Vr({max:le,invisible:W,badgeContent:de,showZero:E}),fd=bl({anchorOrigin:w,color:j,overlap:R,variant:P,badgeContent:de}),Aa=md||Oa==null&&P!=="dot",{color:gd=j,overlap:pd=R,anchorOrigin:_d=w,variant:Pa=P}=Aa?fd:g,qa=Pa!=="dot"?ud:void 0,Ti=Be({},g,{badgeContent:Oa,invisible:Aa,max:hd,displayValue:qa,showZero:E,anchorOrigin:_d,color:gd,overlap:pd,variant:Pa}),Fa=Pr(Ti),ja=(a=(o=K==null?void 0:K.root)!=null?o:y.Root)!=null?a:qr,La=(c=(s=K==null?void 0:K.badge)!=null?s:y.Badge)!=null?c:Fr,Ei=(r=I==null?void 0:I.root)!=null?r:$.root,Vi=(h=I==null?void 0:I.badge)!=null?h:$.badge,yd=Ha({elementType:ja,externalSlotProps:Ei,externalForwardedProps:re,additionalProps:{ref:n,as:S},ownerState:Ti,className:Nn(Ei==null?void 0:Ei.className,Fa.root,D)}),$d=Ha({elementType:La,externalSlotProps:Vi,ownerState:Ti,className:Nn(Fa.badge,Vi==null?void 0:Vi.className)});return Ne.jsxs(ja,Be({},yd,{children:[k,Ne.jsx(La,Be({},$d,{children:qa}))]}))});function jr(e){return wl("MuiFormControlLabel",e)}const dn=xl("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Lr=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Hr=e=>{const{classes:t,disabled:n,labelPlacement:a,error:o,required:c}=e,s={root:["root",n&&"disabled",`labelPlacement${J(a)}`,o&&"error",c&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return Cl(s,jr,t)},Kr=Xn("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${dn.label}`]:t.label},t.root,t[`labelPlacement${J(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>Be({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${dn.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${dn.label}`]:{[`&.${dn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Wr=Xn("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${dn.error}`]:{color:(e.vars||e).palette.error.main}})),Nr=v.forwardRef(function(t,n){var a,o;const c=vl({props:t,name:"MuiFormControlLabel"}),{className:s,componentsProps:r={},control:h,disabled:g,disableTypography:w,label:D,labelPlacement:S="end",required:y,slotProps:$={}}=c,k=kl(c,Lr),R=bd(),j=(a=g??h.props.disabled)!=null?a:R==null?void 0:R.disabled,W=y??h.props.required,le={disabled:j,required:W};["checked","name","onChange","value","inputRef"].forEach(re=>{typeof h.props[re]>"u"&&typeof c[re]<"u"&&(le[re]=c[re])});const de=xd({props:c,muiFormControl:R,states:["error"]}),K=Be({},c,{disabled:j,labelPlacement:S,required:W,error:de.error}),I=Hr(K),E=(o=$.typography)!=null?o:r.typography;let P=D;return P!=null&&P.type!==O&&!w&&(P=Ne.jsx(O,Be({component:"span"},E,{className:Nn(I.label,E==null?void 0:E.className),children:P}))),Ne.jsxs(Kr,Be({className:Nn(I.root,s),ownerState:K,ref:n},k,{children:[v.cloneElement(h,le),W?Ne.jsxs(Sl,{display:"block",children:[P,Ne.jsxs(Wr,{ownerState:K,"aria-hidden":!0,className:I.asterisk,children:["â€‰","*"]})]}):P]}))}),Ur={};class Zl{constructor(t,n){this.root=new Gr(t,n)}subset(t){const n=[];return this._subset(t,a=>n.push(...a[Ka].map(o=>o.value))),n}entries(t){const n=[];return this._subset(t,a=>n.push(...a[Ka])),n}_subset(t,n){const a=t.length;function o(c,s){c<a?s.subset(t[c]).forEach(r=>o(c+1,r)):n(s.leaf)}o(0,this.root)}}let Gr=class Ql{constructor(t,n){if(this.children=[],t>0)for(const[a,o]of Object.entries(n)){const c=new Map;for(const[s,r]of Object.entries(o))c.set(+s,new Ql(t-1,r));this.children.push({mask:+a,map:c})}else this.leaf=n}subset(t){return this.children.map(({mask:n,map:a})=>a.get(t&n)).filter(n=>!!n)}};class Ja{constructor(t){this.root=new Da(void 0),this.keys=t}at(t){const n=this.keys.get(t),a=n.reduce((o,c)=>o.child(c),this.root);return a.leaf||(a.leaf=new Ra(t,n,this.keys,a)),a.leaf}}class Da{constructor(t){this.children=new Map,this.parent=t}child(t){let n=this.children.get(t);return n||(n=new Da(this),this.children.set(t,n),n)}}class Ra{constructor(t,n,a,o){this.tag=Object.fromEntries(Object.entries(t).filter(([c,s])=>s!=null)),this.id=n,this.keys=a,this.internal=o}with(t){const{keys:n}=this,{id:a,firstReplacedByte:o}=n.combine(this.id,t);let c=this.internal;for(let s=o;s<n.tagLen;s++)c=c.parent;for(let s=o;s<n.tagLen;s++)c=c.child(a[s]);return c.leaf||(c.leaf=new Ra({...this.tag,...t},a,n,c)),c.leaf}}class Jr{constructor(t,n){this.keys=new Dl(t),this.values=new Zl(t.tagLen,n)}subset(t){return this.values.subset(this.keys.get(t))}}const mn={sum:e=>e.reduce((t,n)=>t+n,0),prod:e=>e.reduce((t,n)=>t*n,1),min:e=>Math.min(...e),max:e=>Math.max(...e),sumfrac:([e,t])=>e/(e+t),unique:([e])=>e},Xl={match:([e,t])=>e===t?0:1,thres:([e,t])=>e>=t?0:1,lookup:([e],t)=>t[e]??0},Vn=e=>kd(e,"val");let ed=class{constructor(t,...n){const a=new Dl(t);this.nodes=new Zl(a.tagLen,wd(n)),this.cache=new Ja(a).at({}),this.calc=new Ja(a).at({}),this.calc.val=this}withTag(t){const n=this.calc.with(t);return n.val??(n.val=Object.assign(new this.constructor(this.cache.keys),this,{cache:this.cache.with(t),calc:n}))}gather(t){return this._gather(this.cache.with(t)).pre}compute(t){return this._compute(t,this.cache)}_gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:a,value:o})=>o.op==="reread"?this._gather(t.with(o.tag)).pre:[this.markGathered(t.tag,a,o,this._compute(o,t))]);return t.val={pre:n}}_compute(t,n){const a=(c,s,r,h)=>Object.freeze({val:c,meta:this.computeMeta(t,c,s,r,h)}),{op:o}=t;switch(o){case"const":return a(t.ex,[],[]);case"sum":case"prod":case"min":case"max":case"sumfrac":{const c=t.x.map(s=>this._compute(s,n));return a(mn[o](Vn(c)),c,[])}case"thres":case"match":case"lookup":{const c=t.br.map(g=>this._compute(g,n)),s=Xl[o](Vn(c),t.ex),r=[...Array(t.x.length)],h=r[s]=this._compute(t.x[s],n);return a(h.val,r,c)}case"subscript":{const c=this._compute(t.br[0],n);return a(t.ex[c.val],[],[c])}case"vtag":return a(n.tag[t.ex]??"",[],[]);case"tag":{const c=n.with(t.tag),s=this._compute(t.x[0],c);return a(s.val,[s],[],c.tag)}case"dtag":{const c=t.br.map(h=>this._compute(h,n)),s=n.with(Object.fromEntries(c.map((h,g)=>[t.ex[g],h.val]))),r=this._compute(t.x[0],s);return a(r.val,[r],c,s.tag)}case"read":{const c=n.with(t.tag),s=this._gather(c),{pre:r}=s,h=t.ex??this.defaultAccu(c.tag)??"unique";if(h!==t.ex&&(t={...t,ex:h}),s[h])return s[h];if(Cd()&&h==="unique"&&r.length!==1)throw new Error(`Ill-form read for ${Rl(c.tag)}`);const g=mn[h](Vn(r));return s[h]=a(g,r,[],c.tag)}case"custom":{const c=t.x.map(s=>this._compute(s,n));return a(Ur[t.ex].calc(Vn(c)),c,[])}default:vd(o)}}defaultAccu(t){}markGathered(t,n,a,o){return o}computeMeta(t,n,a,o,c){}toDebug(){throw new Error("not implemented")}};const Yr={arithmetic:mn,branching:Xl};class Zr extends ed{constructor(t,n=Rl,a=()=>!0){super(t.cache.keys),this.gathering=new Set,this.nodes=t.nodes,this.tagStr=n,this.filter=a,this.defaultAccu=o=>t.defaultAccu(o),this.cache=this.cache.with(t.cache.tag)}withTag(t){throw new Error("Unimplemented")}_gather(t){if(this.gathering.has(t))throw new Error(`Loop detected for ${this.tagStr(t.tag)}`);this.gathering.add(t);const n=this.__gather(t);return this.gathering.delete(t),n}__gather(t){if(t.val)return t.val;const n=this.nodes.entries(t.id).flatMap(({tag:a,value:o})=>o.op==="reread"?this._gather(t.with(o.tag)).pre.map(c=>{const s=`${this.tagStr(a)} <= ${this.tagStr(o.tag)} : ${c.meta.readSeq}`;return Object.freeze({...c,meta:{...c.meta,readSeq:s}})}):[this.markGathered(t.tag,a,o,this._compute(o,t))]);return t.val={pre:n}}_compute(t,n){try{return super._compute(t,n)}catch(a){return Object.freeze({val:NaN,meta:{formula:`${a}`,deps:[],omitted:[],val:NaN,x:[],br:[],comp:"ERR",pivot:!0,toJSON:Za}})}}markGathered(t,n,a,o){const c=`${this.tagStr(n)} <- ${this.tagStr(t)}`;return{...o,meta:{...o.meta,readSeq:c,pivot:!0}}}computeMeta(t,n,a,o,c){let s,r;const h=a.filter(y=>y).map(y=>y.meta),g=o.map(y=>y.meta),w=[],D=t.op==="read"?t.ex:t.op,S=[];if(D in mn){const y=mn[D]([]);for(const $ of[...g,...h])$.val!==y||this.filter($)?w.push($):S.push($)}else w.push(...g,...h);switch(t.op){case"const":s=Ya(t.ex);break;case"read":r=`gather ${h.length} node(s)`,r+=` matching ${this.tagStr(c,t.ex)}`,r+=` (for ${this.tagStr(t.tag)})`,S.length&&(r+=` <${S.length} omitted>`),s=`${this.tagStr(t.tag)}`;break;default:{const y=[];t.ex&&t.op!=="subscript"&&y.push(JSON.stringify(t.ex)),t.tag&&y.push(this.tagStr(t.tag)),y.push(...w.map($=>$.comp)),S.length&&y.push(`<${S.length} omitted>`),s=`${t.op}(`+y.join(", ")+")"}}return S.push(...w.flatMap(y=>y.pivot?[]:y.omitted)),Object.freeze({formula:`[${Ya(n)}] ${r??s}`,deps:[...new Set(w.flatMap(y=>y.pivot?[y]:y.deps))],omitted:[...new Set(S)],val:n,x:h,br:g,comp:s,pivot:t.op==="read",toJSON:Za})}}const Ya=e=>typeof e=="string"?`"${e}"`:e.toString();function Za(){const{formula:e,readSeq:t,deps:n}=this,a={readSeq:t,formula:e,deps:n};return a.readSeq||delete a.readSeq,a.deps.length||delete a.deps,Object.keys(a).length===1?a.formula:a}function ti(e){const{database:t}=ge();return Il(t.chars,e)}function Qr(e){const{database:t}=ge();return Il(t.charOpts,e)}const{arithmetic:Xr}=Yr;let em=class extends ed{computeMeta({op:t,ex:n,tag:a},o,c,s,r){let h=c.filter(y=>!!y);const g=tm(h,s);function w(y){return Object.freeze(r&&!y.tag?{tag:r,...y}:y)}function D(y,$){return w({op:y,ops:$,...g})}function S(y,$){let{meta:k}=y;return $!=null&&$.some(R=>!k.usedCats.has(R))&&(k={...k,usedCats:new Set([...k.usedCats,...$])}),w(k.conds===g.conds?k:{...k,...g})}if(t==="read"&&(r==null?void 0:r.qt)==="cond"){const{src:y,dst:$,sheet:k,q:R}=r;y&&k&&R&&(g.conds=Zn(g.conds,{[$??"All"]:{[y]:{[k]:{[R]:o}}}}))}switch(t==="read"&&n!=="unique"&&([t,n]=[n,void 0]),t){case"sum":case"prod":case"min":case"max":case"sumfrac":if(h.length>1){const y=Xr[t]([]);h=h.filter($=>$.val!==y)}return h.length===1?S(h[0]):D(h.length?t:"const",h);case"const":case"subscript":return D("const",[]);case"vtag":return g.usedCats=new Set([n]),D("const",[]);case"match":case"thres":case"lookup":case"read":return S(h[0]);case"tag":return S(h[0],Object.keys(a));case"dtag":return S(h[0],n);case"custom":return D(n,h);default:Sd(t)}}markGathered(t,n,a,o){const{val:c}=o,s={...o.meta};let r=!1;const h=new Set([...s.usedCats,...Object.keys(n)]);return s.usedCats.size!==h.size&&(s.usedCats=h,r=!0),r?{val:c,meta:Object.freeze(s)}:o}listFormulas(t){return this.gather(t.tag).filter(n=>n.val).map(({val:n,meta:a})=>Dd.withTag(a.tag)[n])}listCondFormulas(t){return this.listFormulas(t).map(n=>this.compute(n).meta.conds).reduce(Zn,{})}};function tm(e,t){var s;const n=[...e.map(r=>r.meta),...t.map(r=>r.meta)];let a={},o=new Set;for(const r of n)a=Zn(a,r.conds),r.usedCats.forEach(h=>o.add(h));const c=o.size;return o=((s=n.find(r=>r.usedCats.size===c))==null?void 0:s.usedCats)??o,{usedCats:o,conds:a}}function Zn(e,t){if(e===t)return e;if(typeof e!="object")throw new Error(`cannot merge ${e} and ${t}`);if(Object.keys(t).length>Object.keys(e).length&&([e,t]=[t,e]),!Object.keys(t).length)return e;let n=!1;const a={...e};for(const[o,c]of Object.entries(t)){const s=a[o],r=o in a?Zn(s,c):c;s!==r&&(a[o]=r,n=!0)}return Object.freeze(n?a:e)}function nm(e){const t=new Set(e);return n=>!im(n,t)}function im(e,t){const n=e.formula.match(/(\S+) (\S+) common.count/);if(!n)return!1;const[,a,o]=n;return o==="own"&&t.has(a)}class am extends em{toDebug(){return new Zr(this,Rd,nm([...Bl,...Ml]))}defaultAccu(t){var o,c,s,r;const{qt:n,q:a}=t;if(!(!n||!a))switch(t.et){case"own":case"target":return(c=(o=zl[n])==null?void 0:o[a])==null?void 0:c.accu;case"enemy":return(r=(s=Id[n])==null?void 0:s[a])==null?void 0:r.accu;case"team":if(n==="common"&&a==="count")return"sum";throw new Error("non-explicit team value accumulator")}}listFormulas(t){return super.listFormulas(t).filter(n=>zd)}}function Wn(e,...t){return t.map(({tag:n,value:a})=>({tag:{...n,preset:e},value:a}))}function td(e,...t){return t.map(({tag:n,value:a})=>({tag:{...n,src:e},value:a}))}function nd(e){const{lvl:t,promotion:n,basic:a,dodge:o,special:c,chain:s,assist:r,core:h,mindscape:g}=F.char,{char:w,iso:D,[e.key]:S}=q.withAll("sheet",[]);return[w.reread(S),D.reread(S),t.add(e.level),a.add(e.basic),o.add(e.dodge),c.add(e.special),s.add(e.chain),r.add(e.assist),h.add(e.core),n.add(e.promotion),g.add(e.mindscape),Un.base.crit_.add(.05),Un.base.crit_dmg_.add(.5)]}function om(e){return[q.sheet("agg").reread(q.sheet("wengine")),...e?[F.common.count.sheet(e.key).add(1),F.wengine.lvl.add(e.level),F.wengine.modification.add(e.modification),F.wengine.phase.add(e.phase)]:[]]}function id(e,t){const{common:{count:n},initial:a}=Vd(zl,{sheet:"disc",et:"own"});return[q.sheet("agg").reread(q.sheet("disc")),q.withTag({sheet:"disc",qt:"initial"}).reread(q.sheet("dyn")),...Object.entries(e).map(([o,c])=>Od(a,o).sheet("dyn").add(c)),...Object.entries(t).map(([o,c])=>n.sheet(o).add(c))]}function sm(e){const t={},n={};return e.forEach(({setKey:a,mainStatKey:o,substats:c,level:s,rarity:r})=>{t[a]=(t[a]??0)+1,n[o]=(n[o]??0)+Td(r,o,s),c.forEach(({key:h,upgrades:g})=>{!h||!g||(n[h]=(n[h]??0)+Ed(h,r)*g)})}),id(n,t)}function ad(e){const t=q.with("et","team"),{own:n,enemy:a,teamBuff:o,notOwnBuff:c}=q.sheet("agg").withAll("et",[]);return[e.map(s=>q.withTag({et:"target",dst:s}).reread(q.withTag({et:"own",dst:null,src:s}))),e.flatMap(s=>{const r=n.with("src",s);return e.map(h=>r.reread(o.withTag({dst:s,src:h,name:null})))}),e.flatMap(s=>{const r=n.with("src",s);return e.filter(h=>h!==s).map(h=>r.reread(c.withTag({dst:s,src:h,name:null})))}),e.map(s=>a.reread(q.withTag({et:"enemyDeBuff",dst:null,src:s,name:null}))),e.flatMap((s,r)=>{const{stackIn:h,stackTmp:g}=q.withAll("qt",[]),w=q.withTag({src:s,et:"own"});return[w.with("qt","stackTmp").add(Bd(h,0,r+1)),w.with("qt","stackOut").add(Md(g.max.with("et","team"),r+1,h))]}),e.map(s=>t.add(q.withTag({src:s,et:"own"})))].flat()}function od(e){const t=Tl(Gn,e);return new am(Gn,Ad,t)}function cm(e){return new Jr(Gn,Tl(Gn,e))}function lm({characterKey:e}){return i(Jn,{ns:"charNames_gen",key18:e})}function dm({attribute:e}){return ze[e]}function rm({characterKey:e,onClick:t,charCardConfig:n}){const{level:a=0,promotion:o=0}=ti(e)??{},c=ue(e),s=n||{cardWidth:"100%",charImgWidth:"100%",iconsSize:1.7,isEditing:!1,charNameWidth:"191px",charNameVariant:"h6",scrollingBgSize:"200px"},r=v.useCallback(()=>e&&(t==null?void 0:t(e)),[e,t]),h=v.useCallback(g=>i($a,{onClick:r,sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:g}),[r]);return i(hn,{children:i(Pd,{condition:!!t,wrapper:h,children:x(ie,{sx:{display:"flex",flexDirection:"column",width:s.cardWidth},children:[i(mm,{characterKey:e,characterStat:c,charCardConfig:s}),i(hm,{characterKey:e,characterStat:c,promotion:o,level:a,charCardConfig:s})]})})})}function mm({characterKey:e,characterStat:t,charCardConfig:n}){const{attribute:a,id:o}=t;return x(ie,{sx:s=>({width:"100%",height:"100%",position:"relative",display:"flex",background:`${s.palette[a].main}`,zIndex:1,overflow:"hidden"}),children:[x(ie,{sx:{position:"absolute",left:"0",right:"0",display:"flex",transform:"rotate(5deg) translateX(-50%)",zIndex:2},children:[i(Qa,{characterKey:e,charCardConfig:n}),i(Qa,{characterKey:e,charCardConfig:n})]}),i(ie,{src:`https://act-webstatic.hoyoverse.com/game_record/zzzv2/role_vertical_painting/role_vertical_painting_${o}.png`,component:Yn?Yn:"img",width:n.charImgWidth,height:"auto",position:"relative",zIndex:"2"})]})}function hm({characterKey:e,characterStat:t,promotion:n,level:a,charCardConfig:o}){const{t:c}=Q("page_characters"),{attribute:s,rarity:r,specialty:h}=t,g=ti(e);return i(ie,{sx:{width:"100%",height:"100%",padding:"8px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:x(ie,{sx:{display:"flex",flexDirection:"column"},children:[x(ie,{gap:1,sx:{display:"flex",alignItems:"center"},children:[i(te,{size:o.iconsSize,src:El(r)}),i(O,{variant:o.charNameVariant,sx:{fontWeight:"900",maxWidth:o.charNameWidth,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:i(lm,{characterKey:e})}),i(qd,{ele:s,iconProps:{sx:{fontSize:`${o.iconsSize}em`}}}),i(te,{size:o.iconsSize,src:Vl(h)}),o.isEditing?"":i(O,{variant:"h5",color:"primary",sx:{fontWeight:"900"},children:c("mindscape",{level:g?g.mindscape:0})})]}),o.isEditing?"":x(ie,{sx:{mt:"12px",display:"flex",gap:"14px",flexWrap:"wrap"},children:[x(ie,{sx:w=>({border:`2px solid ${w.palette.contentZzz.main}`,borderRadius:"20px",display:"flex"}),children:[i(O,{sx:{fontWeight:"900",paddingLeft:"12px",fontSize:"16px"},children:c("charLevel",{level:a})}),x(O,{color:"primary",sx:{fontWeight:"900",paddingLeft:"4px",pr:"10px"},children:["/ ",Ol[n]]})]}),x(ie,{gap:1.5,sx:{display:"flex",alignItems:"center"},children:[ba.map((w,D)=>i(Ga,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${g?g[w]:0}`,color:"primary",children:i(te,{size:1.9,src:we(w)})},D)),i(Ga,{anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:`${g?g.core:0}`,color:"primary",children:i(te,{size:1.9,src:we("core")})},6)]})]})]})})}function Qa({characterKey:e,charCardConfig:t}){const{t:n}=Q("charNames_gen"),a={animation:"scroll 16s infinite linear","@keyframes scroll":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(0)"}}};return i(ie,{component:"span",sx:{color:"#000",marginTop:"20px",fontStyle:"italic",fontSize:t.scrollingBgSize,lineHeight:"150px",whiteSpace:"nowrap",textTransform:"uppercase",display:"flex",justifyContent:"center",fontFamily:"Impact",opacity:.1,...a},children:n(`${e}`)})}function um({mindscape:e,setMindscape:t}){const{t:n}=Q("page_characters");return i(z,{sx:{display:"flex",flexWrap:"wrap",gap:2,mt:"12px"},children:xa(1,6).map(a=>i(z,{children:i(hn,{sx:{position:"relative",borderRadius:"40px"},children:i(Nr,{control:i(Fd,{checked:e>=a,onChange:()=>t(a===e?a-1:a)}),label:x(z,{sx:{position:"absolute",top:9,left:e>=a?75:16,transition:"left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",textAlign:"center"},children:[i(O,{variant:"subtitle1",sx:o=>({fontWeight:900,color:e>=a?o.palette.mindscapeActive.main:o.palette.mindscapeInactive.main}),children:n("mindscape",{level:a})}),i(O,{variant:"subtitle2",sx:o=>({lineHeight:.2,fontWeight:900,color:e>=a?o.palette.mindscapeActive.main:o.palette.mindscapeInactive.main}),children:n("mindscapeTitle")})]}),sx:{margin:0}})})},a))})}function fm(e){return{new:t=>e.chars.get(t)?0:1,name:t=>Al.t(t).toString(),level:t=>{const n=e.chars.get(t);return n?n.level*(n.promotion+1):0},rarity:t=>ue(t).rarity??0}}function gm(e){return{attribute:(t,n)=>n.includes(ue(t).attribute),specialtyType:(t,n)=>n.includes(ue(t).specialty),rarity:(t,n)=>n.includes(ue(t).rarity),name:(t,n)=>n===void 0||Al.t(t).toLowerCase().includes(n.toLowerCase()),new:(t,n)=>n===void 0||n===(e.chars.get(t)?"no":"yes")}}const sd={name:["name"],level:["level","rarity","name"],rarity:["rarity","level","name"]};function Q$({show:e,onHide:t,onSelect:n,newFirst:a=!1}){const{database:o}=ge(),c=Pl(o.displayCharacter),[s,r]=v.useState(""),h=v.useDeferredValue(s),g=v.useDeferredValue(c),w=v.useMemo(()=>{const{attribute:y,specialtyType:$,sortType:k,ascending:R}=g,j=[...a?["new"]:[],...sd[k]??[]];return jd.filter(ql({attribute:y,specialtyType:$,name:h},gm(o))).sort(Ld(j,R,fm(o),["new"]))},[g,a,h,o]);return i(_m,{show:e,charactersToShow:w,filterSearchSortProps:{searchTerm:s,onChangeSpecialtyFilter:y=>{o.displayCharacter.set({specialtyType:y})},onChangeAttributeFilter:y=>{o.displayCharacter.set({attribute:y})},onChangeSearch:y=>{r(y.target.value)},onChangeSort:y=>{o.displayCharacter.set({sortType:y})},onChangeAsc:y=>{o.displayCharacter.set({ascending:y})}},onClose:()=>{r(""),t()},children:i(fe,{sx:{flex:"1",overflow:"auto"},children:i(v.Suspense,{fallback:i(Me,{variant:"rectangular",width:"100%",height:1e3}),children:i(Y,{container:!0,spacing:.5,columns:{xs:2,sm:3,md:4,lg:5},children:w.map(y=>i(Y,{item:!0,xs:1,children:i(Ue,{bgt:"light",sx:$=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",borderRadius:"40px 16px 16px 40px",border:`3px solid ${$.palette.contentZzz.main}`}),children:i(ym,{characterKey:y,onClick:()=>{t(),n(y)}})})},y))})})})})}const pm=Object.keys(sd);function _m({show:e,charactersToShow:t,filterSearchSortProps:n,onClose:a,children:o}){const{t:c}=Q("page_characters"),{database:s}=ge(),r=Pl(s.displayCharacter),h=v.useMemo(()=>Wa(Fl,$=>s.chars.entries.forEach(([k,R])=>{const j=ue(R.key).specialty;$[j].total++,t.includes(k)&&$[j].current++})),[t,s.chars.entries]),g=v.useMemo(()=>Wa(Ke,$=>Object.entries(s.chars.data).forEach(([k])=>{const R=ue(k).attribute;$[R].total++,t.includes(k)&&$[R].current++})),[t,s.chars.data]),{specialtyType:w,attribute:D,sortType:S,ascending:y}=r;return i(ka,{open:e,onClose:a,containerProps:{sx:{height:"100vh",p:{xs:1}}},children:x(Ue,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[x(fe,{sx:{display:"flex",flexDirection:"column",gap:1},children:[x(z,{sx:{display:"flex",justifyContent:"space-between"},children:[x(z,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[i(Wd,{onChange:$=>s.displayCharacter.set({specialtyType:$}),value:w,totals:h,size:"small"}),i(Nd,{onChange:$=>s.displayCharacter.set({attribute:$}),value:D,totals:g,size:"small"})]}),i(wa,{sx:{ml:"auto"},onClick:()=>a(),children:i(va,{})})]}),x(z,{display:"flex",gap:1,children:[i(Ud,{autoFocus:!0,value:n.searchTerm,onChange:$=>n.onChangeSearch($),label:c("characterName"),size:"small",sx:{height:"100%",mr:"auto"},InputProps:{sx:{height:"100%"}}}),i(Gd,{sortKeys:pm,value:S,onChange:$=>n.onChangeSort($),ascending:y,onChangeAsc:$=>n.onChangeAsc($)})]})]}),i(rn,{}),o]})})}function ym({characterKey:e,onClick:t}){const{t:n}=Q(["page_characters","charNames_gen"]),a=Hd(),o=ti(e),{rarity:c,attribute:s}=ue(e),{level:r=1,promotion:h=0,mindscape:g=0}=o??{},w=s==="electric"?a.palette[s].light:a.palette[s].main;return i($a,{onClick:t,children:x(z,{sx:{position:"relative",width:"100%",display:"flex",padding:"3px",gap:.5,"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.7,background:w}},children:[i(z,{sx:{maxWidth:{xs:"33%",lg:"30%"},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,flexShrink:1},children:i(z,{component:Yn?Yn:"img",src:Kd(e,"interknot")})}),x(z,{sx:{display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly"},children:[x(z,{sx:{display:"flex",alignItems:"center",gap:.5},children:[i(te,{size:1.5,src:El(c)}),i(O,{variant:"subtitle2",sx:D=>({flexGrow:1,color:D.palette.contentNormal.main,fontWeight:"900"}),children:n(`charNames_gen:${e}`)})]}),o?x(z,{sx:D=>({display:"flex",gap:1,alignItems:"center",background:D.palette.contentNormal.main,padding:"4px 12px",borderRadius:"20px"}),children:[x(z,{sx:{textShadow:"0 0 5px gray"},children:[i(O,{variant:"body2",component:"span",whiteSpace:"nowrap",children:n("charLevel",{level:r})}),x(O,{variant:"body2",component:"span",color:"text.secondary",children:["/",Ol[h]]})]}),x(O,{variant:"body2",children:["M",g]})]}):i(O,{component:"span",variant:"body2",children:i(_a,{color:"electric",children:n("characterEditor.new")})})]})]})})}function $m(){const{t:e}=Q("page_characters"),{database:t}=ge(),n=ei(),{core:a=0,promotion:o=0,key:c}=n??{},s=v.useCallback(r=>c&&t.chars.set(c,{core:r}),[t,c]);return i(Ll,{fullWidth:!0,title:e("core",{level:a}),color:"primary",startIcon:i(te,{src:we("core"),size:1.75,sideMargin:!0}),children:xa(0,Jd[o]).map(r=>i(jl,{selected:a===r,disabled:a===r,onClick:()=>s(r),children:e("core",{level:r})},r))})}const bm={xs:2*3,sm:2*3,md:3*3,lg:4*3,xl:4*3};function cd({disc:e,onChangeId:t,slotKey:n,show:a,onClose:o}){const{t:c}=Q(["page_characters","disc"]),{database:s}=ge(),r=e==null?void 0:e.id,h=v.useCallback((I,E)=>({...I,...E,slotKeys:[n]}),[n]),[g,w]=v.useReducer(h,{...Tr(),slotKeys:[n]}),D=Yd(),S=v.useMemo(()=>Er(),[]),y=Zd(s.discs),$=y.filter(I=>I.slotKey===g.slotKeys[0]).length,k=v.useMemo(()=>{const I=ql(g,S);let E=y.filter(I).map(P=>P.id);return r&&s.discs.get(r)&&(E=E.filter(P=>P!==r),E.unshift(r)),E},[g,S,y,r,s.discs]),{numShow:R,setTriggerElement:j}=Qd(bm[D],k.length),W=v.useMemo(()=>k.slice(0,R),[k,R]),le=k.length!==$?`${k.length}/${$}`:`${$}`,de={numShowing:W.length,total:le,t:c,namespace:"disc"},K=v.useCallback(I=>{Xd.includes(I)?t(null):I&&t(I),o()},[t,o]);return i(ka,{open:a,onClose:o,containerProps:{maxWidth:"xl"},children:x(Ue,{children:[x(fe,{sx:{py:1,display:"flex",alignItems:"center"},children:[i(O,{variant:"h6",children:c("tabEquip.swapDisc")}),i(wa,{onClick:o,sx:{ml:"auto"},children:i(va,{})})]}),i(rn,{}),i(fe,{children:i(v.Suspense,{fallback:i(Me,{variant:"rectangular",width:"100%",height:200}),children:i(er,{filterOption:g,filterOptionDispatch:w,filteredIds:k,disableSlotFilter:!0})})}),i(rn,{}),x(fe,{children:[i(z,{pb:1,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",children:i(tr,{showingTextProps:de})}),i(z,{mt:1,children:i(v.Suspense,{fallback:i(Me,{variant:"rectangular",width:"100%",height:1e3}),children:x(Y,{container:!0,spacing:1,columns:{xs:2,md:3,lg:4},children:[r&&i(Y,{item:!0,xs:1,children:i(Ue,{bgt:"light",sx:{width:"100%",height:"100%"},children:i($a,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>K(n),children:x(z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[i(nr,{sx:{fontSize:"10em"}}),i(O,{children:c("disc:button.unequipDisc")})]})})})}),W.map(I=>i(Y,{item:!0,xs:1,sx:E=>({...r===I&&{"> .MuiCard-root":{outline:`${E.spacing(.5)} solid ${E.palette.warning.main}`}}}),children:i(Hl,{disc:s.discs.get(I),onClick:r===I?void 0:()=>K(I)})},I))]})})}),k.length!==W.length&&i(Me,{ref:I=>{I&&j(I)},sx:{borderRadius:1,mt:1},variant:"rectangular",width:"100%",height:100})]})]})})}function xm(e){return"fieldRef"in e}var Zt={},Xa;function wm(){if(Xa)return Zt;Xa=1;var e=ir();Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.default=void 0;var t=e(ar()),n=or(),a=(0,t.default)((0,n.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");return Zt.default=a,Zt}var vm=wm();const gn=sr(vm),km={xs:1,sm:2,md:3,lg:3,xl:3};function Cm({setWengine:e,setDisc:t}){const{database:n}=ge(),a=v.useContext(Kl),[o,c]=v.useState(),[s,r]=v.useState(""),h=v.useCallback($=>{r($)},[]),g=v.useCallback($=>{c($)},[]),w=Wl(a==null?void 0:a.equippedWengine),D=a?ue(a.key).specialty:Fl[0],S=Nl(a==null?void 0:a.equippedDiscs),y=cr(o);return i(z,{children:x(Sl,{spacing:2,children:[i(v.Suspense,{fallback:!1,children:s&&i(lr,{wengineId:s,footer:!0,onClose:()=>r(""),extraButtons:i(zm,{wengineId:(w==null?void 0:w.id)||"",wengineTypeKey:D,onChangeId:e})})}),i(v.Suspense,{fallback:!1,children:y&&i(dr,{disc:y,show:!!o,onShow:()=>c(o),onClose:()=>c(void 0),cancelEdit:()=>c(void 0)})}),i(z,{children:w!=null&&w.id?i(rr,{wengine:w,onEdit:()=>h(w.id),extraButtons:i(Im,{wengineId:w.id,wengineTypeKey:D,onChangeId:e})}):i(Sm,{wengineId:"",wengineTypeKey:D,onChangeId:e})}),i(z,{children:i(Y,{item:!0,columns:km,container:!0,spacing:1,children:!!S&&Object.entries(S).map(([$,k])=>i(Y,{item:!0,xs:1,children:k!=null&&k.id?i(Hl,{disc:k,extraButtons:i(Rm,{disc:k,slotKey:$,onChangeId:R=>t($,R)}),onEdit:()=>g(k.id),onLockToggle:()=>n.discs.set(k.id,({lock:R})=>({lock:!R}))}):i(Dm,{slotKey:$,onChangeId:R=>t($,R)})},(k==null?void 0:k.id)||$))})})]})})}function Sm({wengineId:e,wengineTypeKey:t,onChangeId:n}){const[a,o,c]=un();return x(hn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i(fe,{children:x(O,{children:[i(te,{src:Vl(t)})," "]})}),i(rn,{}),x(z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i(Ca,{wengineId:e,wengineTypeKey:t,show:a,onClose:c,onChangeId:n}),i(Ge,{onClick:o,color:"info",sx:{borderRadius:"1em"},children:i(gn,{sx:{height:100,width:100}})})]})]})}function Dm({slotKey:e,onChangeId:t}){const[n,a,o]=un(),{t:c}=Q("disc");return x(hn,{bgt:"light",sx:{height:"100%",width:"100%",minHeight:300,display:"flex",flexDirection:"column"},children:[i(fe,{children:i(O,{children:c("slotName",{slotKey:e})})}),i(rn,{}),x(z,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[i(cd,{disc:void 0,slotKey:e,show:n,onClose:o,onChangeId:t}),i(Ge,{onClick:a,color:"info",sx:{borderRadius:"1em"},children:i(gn,{sx:{height:100,width:100}})})]})]})}function Rm({disc:e,slotKey:t,onChangeId:n}){const{t:a}=Q("page_characters"),[o,c,s]=un();return x(fn,{children:[i(Ul,{title:i(O,{children:a("tabEquip.swapDisc")}),placement:"top",arrow:!0,children:i(Ge,{color:"info",size:"small",onClick:c,"aria-label":a("tabEquip.swapDisc"),children:i(gn,{})})}),i(cd,{disc:e,slotKey:t,show:o,onClose:s,onChangeId:n})]})}function Im({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:a}=Q("page_characters"),[o,c,s]=un();return x(fn,{children:[i(Ul,{title:i(O,{children:a("tabEquip.swapWengine")}),placement:"top",arrow:!0,children:i(Ge,{color:"info",size:"small",onClick:c,children:i(gn,{})})}),i(Ca,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:o,onClose:s})]})}function zm({wengineId:e,wengineTypeKey:t,onChangeId:n}){const{t:a}=Q("page_characters"),[o,c,s]=un();return x(fn,{children:[i(Ge,{color:"info",onClick:c,startIcon:i(gn,{}),children:a("tabEquip.swapWengine")}),i(Ca,{wengineId:e,wengineTypeKey:t,onChangeId:n,show:o,onClose:s})]})}function Bm({skillKey:e}){const{database:t}=ge(),{t:n}=Q("page_characters"),a=ei(),{[e]:o=0,promotion:c=0,key:s}=a??{},r=v.useCallback(h=>s&&t.chars.set(s,{[e]:h}),[t,s,e]);return i(Ll,{fullWidth:!0,title:n(e,{level:o}),color:"primary",startIcon:i(te,{src:we(e),size:1.75,sideMargin:!0}),children:xa(1,mr[c]).map(h=>i(jl,{selected:o===h,disabled:o===h,onClick:()=>r(h),children:n(e,{level:h})},h))})}function ni(){const e=v.useContext(Sa),t=v.useContext(hr);return v.useMemo(()=>e==null?void 0:e.withTag(t),[e,t])}const Z=(e,t)=>i(Jn,{ns:"sheet",key18:e,values:t});function m(e,t){return[(n,a)=>i(Jn,{ns:`${e}_${t}_gen`,key18:n,values:a}),(n,a)=>i(Jn,{ns:`${e}_${t}`,key18:n,values:a})]}function d(e){return{title:i(ii,{tag:e}),fieldRef:e}}function Mm(e){if(!e)return"";const{et:t,q:n,qt:a,name:o}=e;return t==="own"&&a==="formula"&&n!=="base"?o??n??"":n??""}const Tm={initial:"Initial",combat:"Combat",final:"Final",base:"Base"};function ii({tag:e,showPercent:t,preventRecursion:n}){return i(We,{color:K$(e),children:i(Om,{tag:e,showPercent:t,preventRecursion:n})})}function X$({tag:e,showPercent:t}){return x(fn,{children:[i(ii,{tag:e,showPercent:t}),N$(e).map(n=>i(_a,{children:Qn[n]},n)),e.attribute&&i(_a,{color:e.attribute,children:i(dm,{attribute:e.attribute})})]})}const Em=["hp","hp_","atk","atk_","def","def_"],Vm=e=>Em.includes(e),eo={dmg_:"DMG",common_dmg_:"DMG",defIgn_:"DEF Ignore",resIgn_:"Res Ignore",dazeInc_:"Daze Increase",buff_:"Buff Bonus"};function Om({tag:e,showPercent:t,preventRecursion:n}){var s;const a=ni(),o=(s=U$.subset(e)[0])==null?void 0:s.title;if(o&&!n)return o;if(e.qt==="cond"&&e.q&&e.sheet&&a){const r=ya.get(`${e.sheet}:${e.q}`);if(r)return ur(r.label,a,a==null?void 0:a.compute(new fr(e,"max")).val)}const c=Mm(e);if(Vm(c))return x("span",{children:[i(pr,{statKey:c,iconProps:gr})," ",x("span",{children:[(e.qt&&Tm[e.qt])??e.qt," ",_r[c],t&&Gl(c)]})]});if(eo[c]){const r=[...e.attribute?[ze[e.attribute]]:[],...e.damageType1?[Qn[e.damageType1]]:[],...e.damageType2?[Qn[e.damageType2]]:[],eo[c]];return i("span",{children:r.join(" ")})}return i(ln,{statKey:c,showPercent:t})}function Am(){const e=ni();return i(hn,{children:i(fe,{children:e==null?void 0:e.listFormulas(F.listing.formulas).map((t,n)=>i(Pm,{read:t},n))})})}function Pm({read:e}){var k,R,j,W,le,de,K;const t=ni(),{setRead:n}=v.useContext(yr),a=ei(),o=Qr(a==null?void 0:a.key),c=e.tag.sheet===((k=o==null?void 0:o.target)==null?void 0:k.sheet)&&e.tag.name===((R=o==null?void 0:o.target)==null?void 0:R.name)||((j=o==null?void 0:o.target)==null?void 0:j.q)===e.tag.q,s=v.useMemo(()=>{var I,E,P,re;return e.tag.sheet===((I=o==null?void 0:o.target)==null?void 0:I.sheet)&&e.tag.name===((E=o==null?void 0:o.target)==null?void 0:E.name)?$r(e.tag,(P=o==null?void 0:o.target)==null?void 0:P.damageType1,(re=o==null?void 0:o.target)==null?void 0:re.damageType2):e.tag},[e.tag,(W=o==null?void 0:o.target)==null?void 0:W.sheet,(le=o==null?void 0:o.target)==null?void 0:le.name,(de=o==null?void 0:o.target)==null?void 0:de.damageType1,(K=o==null?void 0:o.target)==null?void 0:K.damageType2]),r=v.useMemo(()=>({...e,tag:s}),[s,e]),h=t==null?void 0:t.compute(r),g=s.name||s.q,{statHighlight:w,setStatHighlight:D}=v.useContext(br),S=s.name?"":s.attribute?`${s.attribute}_${s.q}`:s.q==="cappedCrit_"?"crit_":s.q==="anom_cappedCrit_"?"anom_crit_":s.q,y=S?xr(w,S):!1;if(!h)return null;const $=wr(h.val,Gl(g??""));return x(z,{onMouseEnter:()=>S&&D(S),onMouseLeave:()=>D(""),sx:{display:"flex",gap:1,alignItems:"center",p:.5,borderRadius:.5,backgroundColor:c?"rgba(0,200,0,0.2)":void 0,position:"relative","::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:.5,backgroundColor:vr(y),transition:"background-color 0.3s ease-in-out",pointerEvents:"none"}},children:[i(z,{sx:{flexGrow:1},children:i(ii,{tag:s})}),$,i(kr,{tag:s,onClick:()=>{n(r)}})]})}function eb({characterKey:e,onClose:t}){return i(ka,{open:!!e,onClose:t,children:i(v.Suspense,{fallback:i(Me,{variant:"rectangular",width:"100%",height:1e3}),children:e&&i(qm,{characterKey:e,onClose:t},e)})})}function qm({characterKey:e,onClose:t}){const n=ti(e);return i(Ue,{children:i(fe,{sx:{display:"flex",flexDirection:"column",gap:1},children:i(v.Suspense,{fallback:i(Me,{variant:"rectangular",width:"100%",height:1e3}),children:n?i(Kl.Provider,{value:n,children:i(jm,{onClose:t})}):i(Me,{variant:"rectangular",width:"100%",height:1e3})})})})}const Fm={cardWidth:"500px",charImgWidth:"75%",iconsSize:1.5,isEditing:!0,charNameWidth:"166px",charNameVariant:"h6",scrollingBgSize:"220px"};function jm({onClose:e}){const{t}=Q(["page_characters"]),n=Cr(),{database:a}=ge(),o=ei(),{key:c,equippedDiscs:s,equippedWengine:r}=o,h=v.useCallback(async()=>{const g=t(`${c}`);window.confirm(t("removeCharacter",{value:g}))&&(a.chars.remove(c),n("/characters"))},[a,n,c,t]);return x(z,{display:"flex",flexDirection:"column",gap:1,children:[x(z,{display:"flex",gap:1,children:[i(Ge,{color:"error",onClick:()=>h(),startIcon:i(Sr,{}),sx:{marginLeft:"auto"},children:t("characterEditor.delete")}),!!e&&i(wa,{onClick:e,children:i(va,{})})]}),i(z,{children:x(Y,{container:!0,spacing:1,sx:{justifyContent:"center"},children:[i(Y,{item:!0,xs:6,sm:4,md:4,lg:4,xl:4,children:x(Ue,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[i(rm,{characterKey:c,charCardConfig:Fm}),i(z,{sx:{px:1},children:i(Dr,{level:o.level,milestone:o.promotion,setBoth:({level:g,milestone:w})=>a.chars.set(c,{level:g,promotion:w})})}),i(Am,{}),i(um,{mindscape:o.mindscape,setMindscape:g=>a.chars.set(c,{mindscape:g})})]})}),x(Y,{item:!0,xs:6,sm:8,md:8,lg:8,xl:8,sx:{display:"flex",flexDirection:"column",gap:1},children:[i(z,{children:x(Y,{container:!0,columns:3,spacing:1,children:[ba.map(g=>i(Y,{item:!0,xs:1,children:i(Bm,{skillKey:g},g)},g)),i(Y,{item:!0,xs:1,children:i($m,{})},"core")]})}),i(z,{children:i(Cm,{setWengine:g=>{g?a.wengines.set(g,{location:c}):r&&a.wengines.set(r,{location:""})},setDisc:(g,w)=>{w?a.discs.set(w,{location:c}):s[g]&&a.discs.set(s[g],{location:""})}})})]})]})})]})}function tb({character:e,charOpt:t,wengineId:n,discIds:a,children:o}){const c=Lm(e,n,a),s=v.useMemo(()=>od([...ad([e.key]),...c,Un.common.critMode.add(t.critMode),ce.common.lvl.add(t.enemyLvl),ce.common.def.add(t.enemyDef),ce.common.isStunned.add(t.enemyisStunned?1:0),ce.common.stun_.add(t.enemyStunMultiplier/100),ce.common.unstun_.add(1),...t.conditionals.flatMap(({sheet:h,src:g,dst:w,condKey:D,condValue:S})=>Wn("preset0",Jl(h,g,w)(D,S))),...t.bonusStats.filter(({disabled:h})=>!h).flatMap(({tag:h,value:g})=>Wn("preset0",{tag:{...h,src:e.key,sheet:"agg",et:"own"},value:Na(Ua(g,h.q??""))})),...t.enemyStats.flatMap(({tag:h,value:g})=>Wn("preset0",{tag:{...h,qt:"common",et:"enemy",sheet:"agg"},value:Na(Ua(g,h.q??""))}))]),[c,t,e.key]),r=v.useMemo(()=>s&&new Map,[s]);return i(Rr.Provider,{value:r,children:i(Sa.Provider,{value:s,children:o})})}function Lm(e,t,n){const a=Wl(t),o=Nl(n),c=v.useMemo(()=>om(a),[a]),s=v.useMemo(()=>sm(Object.values(o).filter(Ir)),[o]);return v.useMemo(()=>td(e.key,...nd(e),...c,...s),[e,c,s])}function nb({character:e,conditionals:t,children:n}){const a=v.useMemo(()=>od([...ad([e.key]),...td(e.key,...nd(e),...id({},Yl(Ml,()=>4)),q.sheet("agg").reread(q.sheet("wengine")),F.wengine.lvl.add(60),F.wengine.modification.add(5),F.wengine.phase.add(1),...Bl.map(o=>F.common.count.sheet(o).add(1))),Un.common.critMode.add("avg"),ce.common.lvl.add(100),ce.common.def.add(900),ce.common.isStunned.add(0),ce.common.stun_.add(1.5),ce.common.unstun_.add(1),...t.flatMap(({sheet:o,src:c,dst:s,condKey:r,condValue:h})=>Wn("preset0",Jl(o,c,s)(r,h)))]),[e,t]);return i(Sa.Provider,{value:a,children:n})}function C(e,t={}){return{...Hm(e,t==null?void 0:t.perSkillAbility),core:Wm(e,t==null?void 0:t.core,t==null?void 0:t.ability),m1:Ee(e,1,t==null?void 0:t.m1),m2:Ee(e,2,t==null?void 0:t.m2),m3:Ee(e,3,t==null?void 0:t.m3),m4:Ee(e,4,t==null?void 0:t.m4),m5:Ee(e,5,t==null?void 0:t.m5),m6:Ee(e,6,t==null?void 0:t.m6)}}function l(e){return{title:i(ii,{tag:e.tag,preventRecursion:!0}),fieldRef:e.tag}}function Hm(e,t){const n=b.char[e],a=A[e],[o,c]=m("char",e);return Yl(ba,s=>({title:s,img:we(`${s}Flat`),documents:Object.keys(n[s]).flatMap(r=>{var h;return[{type:"text",header:{icon:i(te,{src:we(`${s}Flat`),size:1.5}),text:o(`${s}.${r}.name`)},text:o(`${s}.${r}.desc`)},{type:"fields",fields:Object.values(a).filter(g=>g.name.includes(r)).map(g=>({title:Km(e,s,g.name),fieldRef:g.tag}))},...((h=t==null?void 0:t[s])==null?void 0:h[r])??[]]})}))}function Km(e,t,n){const[a,o,c]=n.split("_");return Z(c,{val:`$t(char_${e}_gen:${t}.${a}.params.${o})`})}function Wm(e,t=[],n=[]){const[a,o]=m("char",e);return{title:"core",documents:[{type:"text",header:{icon:i(te,{src:we("coreFlat"),size:1.5}),text:a("core.name")},text:c=>a(`core.desc.${c.compute(F.char.core).val}`)},...t,{type:"text",header:{icon:i(te,{src:we("coreFlat"),size:1.5}),text:a("ability.name")},text:a("ability.desc")},...n]}}function Ee(e,t,n=[]){const[a,o]=m("char",e);return{title:`mindscape${t}`,documents:[{type:"text",header:{icon:i(te,{src:zr(t),size:1.5}),text:a(`mindscapes.${t}.name`)},text:x(fn,{children:[a(`mindscapes.${t}.desc`),i("br",{}),i("br",{}),i("i",{children:a(`mindscapes.${t}.flavor`)})]})},...n]}}const ai="Anby",[,On]=m("char",ai),Pi=f[ai],Ve=u[ai],Nm=C(ai,{core:[{type:"conditional",conditional:{label:On("coreCond"),metadata:Pi.core_after3rdBasic,fields:[{title:On("core_dazeInc_"),fieldRef:Ve.core_after3rdBasic_dazeInc_.tag}]}}],m1:[{type:"conditional",conditional:{label:On("m1Cond"),metadata:Pi.m1After4thBasicHit,fields:[l(Ve.m1_after4thHit_energyRegen_)]}}],m2:[{type:"fields",fields:[l(Ve.m2_stunned_basic_dmg_),l(Ve.m2_unstunned_ex_dazeInc_)]}],m6:[{type:"conditional",conditional:{label:On("m6Cond"),metadata:Pi.m6ChargeConsumed,fields:[l(Ve.m6_charge_basic_dmg_),l(Ve.m6_charge_exSpecial_dmg_)]}}]}),Um="Anton",Gm=C(Um),Je="AstraYao",[,me]=m("char",Je),qi=f[Je],ae=u[Je],Jm=A[Je],to=b.char[Je],Ym=C(Je,{perSkillAbility:{special:{IdyllicCadenza:[{type:"conditional",conditional:{label:me("idyllic_cadenzaCond"),metadata:qi.idyllic_cadenza,fields:[l(ae.common_dmg_),l(ae.crit_dmg_)]}}]},chain:{UltimateFantasianSonata:[{type:"fields",fields:[{title:me("ult_heal"),fieldRef:Jm.ultimate_heal.tag}]}]}},core:[{type:"fields",fields:[l(ae.core_atk)]}],m1:[{type:"conditional",conditional:{label:me("m1Cond"),metadata:qi.attack_hits,fields:[l(ae.m1_resRed_)]}}],m2:[{type:"fields",fields:[{title:me("m2_atkBuffInc_"),fieldValue:to.m2.atk_*100,unit:"%"},{title:me("m2_maxIncrease"),fieldValue:to.m2.max_increase}]}],m4:[{type:"fields",fields:[l(ae.m4_attack_quickAssist_extraDmg),l(ae.m4_anomaly_quickAssist_anomBuildup_),l(ae.m4_stun_quickAssist_dazeInc_)]}],m6:[{type:"fields",fields:[{title:me("m6_mv_mult_"),fieldRef:ae.m6_mv_mult_.tag},{title:me("m6_crit_"),fieldRef:ae.m6_crit_.tag}]},{type:"conditional",conditional:{label:me("m6Cond"),metadata:qi.precise_assist_triggered,fields:[{title:me("m6_capriccio_crit_"),fieldRef:ae.m6_capriccio_crit_.tag}]}}]}),Zm="Ben",Qm=C(Zm),oi="Billy",[,An]=m("char",oi),Fi=f[oi],Qt=u[oi],Xm=C(oi,{core:[{type:"fields",fields:[{title:An("core_common_dmg_"),fieldRef:Qt.core_common_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:An("abilityCond"),metadata:Fi.ult_dmg_stacks,fields:[l(Qt.ability_ult_dmg_)]}}],m2:[{type:"fields",fields:[l(Qt.m2_dodgeCounter_dmg_)]}],m4:[{type:"conditional",conditional:{label:An("m4Cond"),metadata:Fi.distance,fields:[l(Qt.m4_exSpecial_crit_)]}}],m6:[{type:"conditional",conditional:{label:An("m6Cond"),metadata:Fi.m6_stacks,fields:[l(Qt.m6_common_dmg_)]}}]}),Ye="Burnice",[,X]=m("char",Ye),ji=f[Ye],he=u[Ye],Li=A[Ye],eh=b.char[Ye],th=C(Ye,{core:[{type:"fields",fields:[{title:X("core_afterburn_dmg"),fieldRef:Li.core_afterburn_dmg.tag},{title:X("core_afterburn_anomBuildup"),fieldRef:Li.core_afterburn_anomBuildup.tag},{title:X("core_afterburn_dmg_"),fieldRef:he.core_afterburn_dmg_.tag}]}],ability:[{type:"fields",fields:[l(he.ability_fire_anomBuildup_)]}],m1:[{type:"fields",fields:[{title:X("m1_afterburn_mv_mult"),fieldValue:eh.m1.afterburn_dmg*100,unit:"%"},{title:X("m1_afterburn_anomBuildup"),fieldRef:he.m1_afterburn_fire_anomBuildup_.tag}]}],m2:[{type:"conditional",conditional:{label:X("m2Cond"),metadata:ji.thermal_penetration,fields:[l(he.m2_pen_)]}}],m4:[{type:"fields",fields:[{title:X("m4_exSpecial_crit_"),fieldRef:he.m4_exSpecial_crit_.tag},{title:X("m4_assistSkill_crit_"),fieldRef:he.m4_assistSkill_crit_.tag}]}],m6:[{type:"fields",fields:[{title:X("m6_additional_afterburn_dmg"),fieldRef:Li.m6_additional_afterburn_dmg.tag}]},{type:"conditional",conditional:{label:X("m6Cond"),metadata:ji.exSpecial_active,fields:[l(he.m6_burn_fire_resIgn_),{title:X("m6_fire_resIgn"),fieldRef:he.m6_fire_resIgn_.tag}]}},{type:"conditional",conditional:{label:X("m6CondBurn"),metadata:ji.additional_burn,fields:[l(he.m6_fire_anom_mv_mult_)]}}]}),Ze="Caesar",[,ee]=m("char",Ze),_e=f[Ze],oe=u[Ze],nh=A[Ze],ih=b.char[Ze],ah=C(Ze,{perSkillAbility:{special:{StanceSwitch:[{type:"conditional",conditional:{label:ee("stanceSwitchCond"),metadata:_e.stance_switch,fields:[l(oe.stance_switch_impact_)]}}]},chain:{UltimateSavageSmash:[{type:"conditional",conditional:{label:ee("ultCond"),metadata:_e.enemy_shielded,fields:[l(oe.ult_dazeInc_)]}}]}},core:[{type:"fields",fields:[{title:ee("core_shield"),fieldRef:nh.core_shield.tag}]},{type:"conditional",conditional:{label:ee("coreCond"),metadata:_e.radiant_aegis,fields:[l(oe.core_atk)]}}],ability:[{type:"conditional",conditional:{label:ee("abilityTeamCond"),metadata:_e.can_defensive_assist}},{type:"conditional",conditional:{label:ee("abilityCond"),metadata:_e.ability_debuff,fields:[l(oe.ability_dmgInc_)]}}],m1:[{type:"conditional",conditional:{label:ee("coreCond"),metadata:_e.radiant_aegis,fields:[l(oe.m1_resRed_)]}}],m2:[{type:"conditional",conditional:{label:ee("coreCond"),metadata:_e.radiant_aegis,fields:[l(oe.m2_enerRegen_),{title:ee("m2_atkInc_"),fieldValue:ih.m2.atk_increase_*100,unit:"%"}]}}],m6:[{type:"fields",fields:[{title:ee("m6_exSpecial_assistFollowup_crit_"),fieldRef:oe.m6_exSpecial_assistFollowup_crit_.tag},{title:ee("m6_dmg_"),fieldRef:oe.m6_dmg_.tag}]},{type:"conditional",conditional:{label:ee("m6Cond"),metadata:_e.exSpecial_assistFollowup_used,fields:[l(oe.m6_crit_),l(oe.m6_crit_dmg_)]}}]}),pn="Corin",[,Xt]=m("char",pn),Hi=f[pn],Pn=u[pn],oh=A[pn],sh=C(pn,{core:[{type:"fields",fields:[{title:Xt("core_common_dmg_"),fieldRef:Pn.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[l(Pn.ability_common_dmg_)]}],m1:[{type:"conditional",conditional:{label:Xt("m1Cond"),metadata:Hi.chain_ult_hit,fields:[l(Pn.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:Xt("m2Cond"),metadata:Hi.exSpecial_chain_ult_hits,fields:[l(Pn.m2_physical_resRed_)]}}],m6:[{type:"conditional",conditional:{label:Xt("m6Cond"),metadata:Hi.charge,fields:[{title:Xt("m6_dmg"),fieldRef:oh.m6_dmg.tag}]}}]}),ch="Ellen",lh=C(ch),_n="Evelyn",[,ve]=m("char",_n),Ki=f[_n],Oe=u[_n],no=A[_n],dh=C(_n,{core:[{type:"conditional",conditional:{label:ve("coreCond"),metadata:Ki.binding_seal,fields:[l(Oe.core_crit_)]}}],ability:[{type:"fields",fields:[{title:ve("ability_dmg_"),fieldRef:Oe.ability_chain_ult_dmg_.tag},{title:ve("ability_mv_mult"),fieldRef:Oe.ability_chainSkill_mv_mult.tag}]}],m1:[{type:"conditional",conditional:{label:ve("m1Cond"),metadata:Ki.enemy_bound,fields:[l(Oe.m1_defIgn_)]}}],m2:[{type:"fields",fields:[l(Oe.m2_atk_)]}],m4:[{type:"fields",fields:[{title:ve("m4_shield"),fieldRef:no.m4_shield.tag}]},{type:"conditional",conditional:{label:ve("m4Cond"),metadata:Ki.m4_shield_exists,fields:[l(Oe.m4_crit_dmg_)]}}],m6:[{type:"fields",fields:[{title:ve("m6_follow_up_dmg"),fieldRef:no.m6_follow_up_dmg_.tag}]}]}),rh="Grace",mh=C(rh),hh="Harumasa",uh=C(hh),si="Hugo",[,en]=m("char",si),tn=f[si],V=u[si],fh=C(si,{core:[{type:"conditional",conditional:{label:en("coreDarkAbyssReverb"),metadata:tn.dark_abyss_reverb,fields:[l(V.core_crit_),l(V.core_crit_dmg_)]}},{type:"fields",fields:[l(V.core_atk)]},{type:"conditional",conditional:{label:en("coreStunLeft"),metadata:tn.stun_left,fields:[l(V.core_exSpecial_mv_mult_),l(V.core_ult_mv_mult_)]}},{type:"fields",fields:[l(V.core_exSpecial_dazeInc_)]}],ability:[{type:"conditional",conditional:{label:en("abilityCond"),metadata:tn.normal_enemy,fields:[l(V.ability_chain_dmg_)]}},{type:"fields",fields:[l(V.ability_exSpecial_dmg_),l(V.ability_ult_dmg_)]}],m1:[{type:"conditional",conditional:{label:en("coreDarkAbyssReverb"),metadata:tn.dark_abyss_reverb,fields:[l(V.m1_exSpecial_crit_),l(V.m1_exSpecial_crit_dmg_),l(V.m1_ult_crit_),l(V.m1_ult_crit_dmg_)]}}],m2:[{type:"fields",fields:[l(V.m2_exSpecial_defIgn_),l(V.m2_ult_defIgn_)]}],m4:[{type:"conditional",conditional:{label:en("m4Cond"),metadata:tn.charged_shot_hit,fields:[l(V.m4_ice_resIgn_)]}}],m6:[{type:"fields",fields:[l(V.m6_exSpecial_dmg_),l(V.m6_ult_dmg_),l(V.m6_exSpecial_mv_mult_)]}]}),yn="Jane",[,ye]=m("char",yn),ke=f[yn],N=u[yn],gh=A[yn],ph=C(yn,{perSkillAbility:{basic:{Passion:[{type:"conditional",conditional:{label:ye("passionCond"),metadata:ke.passion,fields:[l(N.passion_physical_anomBuildup_),l(N.passion_atk)]}}]}},core:[{type:"conditional",conditional:{label:ye("gnawedCond"),metadata:ke.gnawed,fields:[l(N.core_assault_crit_),l(N.core_assault_crit_dmg_)]}}],ability:[{type:"conditional",conditional:{label:ye("abilityCond"),metadata:ke.enemy_suffering_anomaly,fields:[l(N.ability_physical_anomBuildup_)]}}],m1:[{type:"conditional",conditional:{label:ye("passionCond"),metadata:ke.passion,fields:[l(N.m1_physical_anomBuildup_),l(N.m1_common_dmg_)]}}],m2:[{type:"conditional",conditional:{label:ye("gnawedCond"),metadata:ke.gnawed,fields:[l(N.m2_defIgn_),l(N.m2_assault_defIgn_),l(N.m2_assault_crit_dmg_)]}}],m4:[{type:"conditional",conditional:{label:ye("m4Cond"),metadata:ke.assault_or_disorder_triggered,fields:[l(N.m4_anomaly_dmg_)]}}],m6:[{type:"conditional",conditional:{label:ye("passionCond"),metadata:ke.passion,fields:[l(N.m6_crit_),l(N.m6_crit_dmg_)]}},{type:"fields",fields:[{title:ye("m6_additional_dmg"),fieldRef:gh.m6_additional_dmg.tag}]}]}),_h="JuFufu",yh=C(_h),$h="Koleda",bh=C($h),Qe="Lighter",[,$e]=m("char",Qe),nn=f[Qe],se=u[Qe],xh=A[Qe],wh=b.char[Qe],vh=C(Qe,{core:[{type:"conditional",conditional:{label:$e("coreCond.morale_consumed"),metadata:nn.morale_consumed,fields:[l(se.core_impact_)]}},{type:"conditional",conditional:{label:$e("coreCond.morale_burst_hit"),metadata:nn.morale_burst_hit,fields:[l(se.core_ice_resRed_),l(se.core_fire_resRed_)]}}],ability:[{type:"conditional",conditional:{label:$e("abilityCond"),metadata:nn.elation,fields:[l(se.ability_ice_dmg_),l(se.ability_fire_dmg_)]}}],m1:[{type:"conditional",conditional:{label:$e("collapseCond"),metadata:nn.collapse,fields:[l(se.m1_ice_resRed_),l(se.m1_fire_resRed_)]}},{type:"fields",fields:[{title:$e("m1_finishing_move_dmg_"),fieldRef:se.m1_finishing_move_dmg_.tag}]}],m2:[{type:"conditional",conditional:{label:$e("collapseCond"),metadata:nn.collapse,fields:[l(se.m2_stun_)]}},{type:"fields",fields:[{title:$e("m2_elation_inc_"),fieldValue:wh.m2.ability_buff_inc_*100,unit:"%"}]}],m4:[{type:"fields",fields:[l(se.m4_enerRegen_)]}],m6:[{type:"fields",fields:[{title:$e("m6_blazing_impact_dmg"),fieldRef:xh.m6_blazing_impact_dmg.tag}]}]}),kh="Lucy",Ch=C(kh),$n="Lycaon",[,Ce]=m("char",$n),Wi=f[$n],Ae=u[$n],Sh=A[$n],Dh=C($n,{core:[{type:"fields",fields:[{title:Ce("core_dazeInc_"),fieldRef:Ae.core_dazeInc_.tag}]},{type:"conditional",conditional:{label:Ce("coreCond"),metadata:Wi.exSpecial_assistFollowUp_hit,fields:[l(Ae.core_ice_resRed_)]}}],ability:[{type:"conditional",conditional:{label:Ce("abilityCond"),metadata:Wi.stunned_enemy_hit,fields:[l(Ae.ability_stun_)]}}],m1:[{type:"fields",fields:[{title:Ce("m1_dazeInc_"),fieldRef:Ae.m1_dazeInc_.tag},{title:Ce("m1_fullCharge_dazeInc_"),fieldRef:Ae.m1_fullCharge_dazeInc_.tag}]}],m4:[{type:"fields",fields:[{title:Ce("m4_shield"),fieldRef:Sh.m4_shield.tag}]}],m6:[{type:"conditional",conditional:{label:Ce("m6Cond"),metadata:Wi.charged_hits,fields:[l(Ae.m6_common_dmg_)]}}]}),bn="Miyabi",[,L]=m("char",bn),be=f[bn],U=u[bn],Rh=A[bn],Ih=C(bn,{perSkillAbility:{chain:{UltimateLingeringSnow:[{type:"conditional",conditional:{label:L("ultCond"),metadata:be.ult_used,fields:[l(U.ult_ice_dmg_)]}}]}},core:[{type:"conditional",conditional:{label:L("frostbiteCond"),metadata:be.frostbite,fields:[l(U.frostbite_crit_dmg_)]}},{type:"conditional",conditional:{label:L("coreIcefireCond"),metadata:be.icefire,fields:[l(U.core_frost_anomBuildup_)]}},{type:"fields",fields:[{title:L("core_frostburnBreak_dmg"),fieldRef:Rh.core_frostburnBreak_dmg.tag}]},{type:"conditional",conditional:{label:L("coreFrostburnCond"),metadata:be.frostburn,fields:[l(U.core_anomBuildup_)]}}],ability:[{type:"fields",fields:[{title:L("ability_dmg_"),fieldRef:U.ability_dmg_.tag}]},{type:"conditional",conditional:{label:L("abilityCond"),metadata:be.disorder_triggered,fields:[{title:L("ability_ice_resIgn_"),fieldRef:U.ability_ice_resIgn_.tag}]}}],m1:[{type:"conditional",conditional:{label:L("m1Cond"),metadata:be.fallen_frost,fields:[{title:L("m1_defIgn_"),fieldRef:U.m1_defIgn_.tag}]}},{type:"conditional",conditional:{label:L("m1Cond2"),metadata:be.level_3_charge_hit,fields:[l(U.m1_anomBuildup_)]}}],m2:[{type:"fields",fields:[{title:L("m2_dmg_"),fieldRef:U.m2_dmg_.tag},l(U.m2_dodgeCounter_dmg_),l(U.m2_crit_)]}],m4:[{type:"fields",fields:[{title:L("m4_frostburnBreak_dmg_"),fieldRef:U.m4_frostburnBreak_dmg_.tag}]}],m6:[{type:"conditional",conditional:{label:L("m6Cond"),metadata:be.polar,fields:[{title:L("m6_dmg_"),fieldRef:U.m6_dmg_.tag}]}}]}),ci="Nekomata",[,Pe]=m("char",ci),qe=f[ci],Fe=u[ci],zh=C(ci,{core:[{type:"conditional",conditional:{label:Pe("coreCond"),metadata:qe.dodgeCounter_quickAssist_hit,fields:[l(Fe.core_common_dmg_)]}}],ability:[{type:"conditional",conditional:{label:Pe("abilityCond"),metadata:qe.assaults_inflicted,fields:[l(Fe.ability_exSpecial_dmg_)]}}],m1:[{type:"conditional",conditional:{label:Pe("m1Cond"),metadata:qe.from_behind,fields:[l(Fe.m1_physical_resIgn_)]}}],m2:[{type:"conditional",conditional:{label:Pe("m2Cond"),metadata:qe.one_enemy_onField,fields:[l(Fe.m2_enerRegen_)]}}],m4:[{type:"conditional",conditional:{label:Pe("m4Cond"),metadata:qe.exSpecials_used,fields:[l(Fe.m4_crit_)]}}],m6:[{type:"conditional",conditional:{label:Pe("m6Cond"),metadata:qe.chain_ult_used,fields:[l(Fe.m6_crit_dmg_)]}}]}),li="Nicole",[,Ni]=m("char",li),io=f[li],an=u[li],Bh=C(li,{core:[{type:"conditional",conditional:{label:Ni("coreCond"),metadata:io.bulletsOrFieldHit,fields:[l(an.core_defRed_)]}}],ability:[{type:"fields",fields:[l(an.ability_ether_dmg_)]}],m1:[{type:"fields",fields:[l(an.m1_exSpecial_dmg_),{title:Ni("m1_exSpecial_anomBuildup"),fieldRef:an.m1_exSpecial_anomBuildup_.tag}]}],m6:[{type:"conditional",conditional:{label:Ni("m6Cond"),metadata:io.fieldHitsEnemy,fields:[l(an.m6_crit_)]}}]}),Xe="PanYinhu",[,Se]=m("char",Xe),ao=f[Xe],Ui=u[Xe],Gi=A[Xe],oo=b.char[Xe],Mh=C(Xe,{perSkillAbility:{chain:{UltimateAFeastFitForAnEmperor:[{type:"fields",fields:[{title:Se("ultimate_heal"),fieldRef:Gi.ultimate_heal.tag},{title:Se("ultimate_healOverTime"),fieldRef:Gi.ultimate_healOverTime.tag}]}]}},core:[{type:"conditional",conditional:{label:Se("coreCond"),metadata:ao.meridian_flow,fields:[l(Ui.core_sheerForce)]}}],ability:[{type:"conditional",conditional:{label:Se("abilityCond"),metadata:ao.depleted_qi,fields:[l(Ui.ability_dmgInc_)]}}],m1:[{type:"fields",fields:[l(Ui.m1_dmgInc_)]}],m4:[{type:"fields",fields:[{title:Se("m4_heal"),fieldRef:Gi.m4_heal.tag}]}],m6:[{type:"fields",fields:[{title:Se("m6_sheerForce"),fieldValue:oo.m6.sheerForce*100,unit:"%"},{title:Se("m6_maxSheerForce"),fieldValue:oo.m6.max_sheerForce}]}]}),Th="Piper",Eh=C(Th),Vh="Pulchra",Oh=C(Vh),et="Qingyi",[,on]=m("char",et),Ji=f[et],ne=u[et],Ah=A[et],Ph=b.char[et],qh=C(et,{perSkillAbility:{basic:{BasicAttackEnchantedMoonlitBlossoms:[{type:"conditional",conditional:{label:on("flashConnectCond"),metadata:Ji.flash_connect_consumed,fields:[l(ne.flash_connect_dmg_),l(ne.flash_connect_dazeInc_)]}}]},chain:{ChainAttackTranquilSerenade:[{type:"fields",fields:[l(ne.chain_dmg_)]}]}},core:[{type:"conditional",conditional:{label:on("subjugationCond"),metadata:Ji.subjugation,fields:[l(ne.core_stun_)]}}],ability:[{type:"fields",fields:[l(ne.ability_basic_dazeInc_),l(ne.ability_atk)]}],m1:[{type:"fields",fields:[l(ne.m1_defRed_),l(ne.m1_crit_)]}],m2:[{type:"fields",fields:[{title:on("m2_stun_"),fieldValue:Ph.m2.stun_mult_*100,unit:"%"},l(ne.m2_dazeInc_)]}],m4:[{type:"fields",fields:[{title:on("m4_shield"),fieldRef:Ah.m4_shield.tag}]}],m6:[{type:"fields",fields:[l(ne.m6_crit_dmg_)]},{type:"conditional",conditional:{label:on("m6Cond"),metadata:Ji.moonlit_blossoms_hit,fields:[l(ne.m6_resRed_)]}}]}),Fh="Rina",jh=C(Fh),Lh="Seth",Hh=C(Lh),xn="Soldier0Anby",[,qn]=m("char",xn),Yi=f[xn],je=u[xn],Kh=A[xn],Wh=C(xn,{core:[{type:"conditional",conditional:{label:qn("coreCond"),metadata:Yi.markedWithSilverStar,fields:[l(je.core_common_dmg_),l(je.core_markedWithSilverStar_crit_dmg_)]}}],ability:[{type:"fields",fields:[l(je.ability_crit_),l(je.ability_aftershock_dmg_)]}],m2:[{type:"conditional",conditional:{label:qn("coreCond"),metadata:Yi.markedWithSilverStar,fields:[l(je.m2_crit_)]}}],m4:[{type:"conditional",conditional:{label:qn("coreCond"),metadata:Yi.markedWithSilverStar,fields:[l(je.m4_electric_resIgn_)]}}],m6:[{type:"fields",fields:[{title:qn("m6_additional_dmg"),fieldRef:Kh.m6_additional_dmg.tag}]}]}),di="Soldier11",[,De]=m("char",di),Fn=f[di],Le=u[di],Nh=C(di,{core:[{type:"fields",fields:[{title:De("core_common_dmg_"),fieldRef:Le.core_common_dmg_.tag}]}],ability:[{type:"fields",fields:[l(Le.ability_fire_dmg_)]}],m2:[{type:"conditional",conditional:{label:De("m2Cond"),metadata:Fn.m2_stacks,fields:[{title:De("m2_common_dmg_"),fieldRef:Le.m2_common_dmg_.tag},l(Le.m2_dodgeCounter_dmg_)]}}],m4:[{type:"conditional",conditional:{label:De("m4Cond"),metadata:Fn.fireSuppression_triggered,fields:[l(Le.m4_dmg_red_)]}},{type:"conditional",conditional:{label:De("m4Cond2"),metadata:Fn.fireSuppression_4th_hit}}],m6:[{type:"conditional",conditional:{label:De("m6Cond"),metadata:Fn.charge_consumed,fields:[{title:De("m6_fire_resIgn_"),fieldRef:Le.m6_fire_resIgn_.tag}]}}]}),Uh="Soukaku",Gh=C(Uh),wn="Trigger",[,Re]=m("char",wn),so=f[wn],sn=u[wn],Zi=A[wn],Jh=C(wn,{core:[{type:"conditional",conditional:{label:Re("coreCond"),metadata:so.aftershock_hit,fields:[l(sn.core_stun_)]}}],ability:[{type:"fields",fields:[{title:Re("ability_dazeInc_"),fieldRef:sn.ability_aftershock_dazeInc_.tag}]}],m1:[{type:"fields",fields:[l(sn.m1_stun_)]}],m2:[{type:"conditional",conditional:{label:Re("m2Cond"),metadata:so.hunters_gaze,fields:[l(sn.m2_crit_dmg_)]}}],m4:[{type:"fields",fields:[{title:Re("m4_disconnect_dmg"),fieldRef:Zi.m4_disconnect_dmg.tag},{title:Re("m4_disconnect_daze"),fieldRef:Zi.m4_disconnect_daze.tag}]}],m6:[{type:"fields",fields:[{title:Re("m6_armor_break_rounds_dmg"),fieldRef:Zi.m6_armor_break_rounds_dmg.tag},{title:Re("m6_armor_break_rounds_dmg_"),fieldRef:sn.m6_armor_break_rounds_dmg_.tag}]}]}),vn="Vivian",[,He]=m("char",vn),jn=f[vn],H=u[vn],Yh=A[vn],Zh=C(vn,{core:[{type:"conditional",conditional:{label:He("coreAbloom"),metadata:jn.abloom,fields:[l(H.core_ether_abloom),l(H.core_electric_abloom),l(H.core_fire_abloom),l(H.core_physical_abloom),l(H.core_ice_abloom)]}},{type:"fields",fields:[{title:He("core_prophecy_dmg"),fieldRef:Yh.core_prophecy_dmg.tag}]}],ability:[{type:"fields",fields:[l(H.ability_corruption_dmg_),l(H.ability_corruption_disorder_dmg_)]}],m1:[{type:"conditional",conditional:{label:He("prophecyCond"),metadata:jn.prophecy,fields:[l(H.m1_anomaly_dmg_),l(H.m1_disorder_dmg_)]}}],m2:[{type:"fields",fields:[l(H.m2_ether_anomBuildup_)]},{type:"conditional",conditional:{label:He("coreAbloom"),metadata:jn.abloom,fields:[l(H.m2_anom_mv_mult_),l(H.m2_resIgn_)]}}],m4:[{type:"fields",fields:[{title:He("m4_crit_"),fieldRef:H.m4_crit_.tag}]},{type:"conditional",conditional:{label:He("m4Cond"),metadata:jn.fluttering_featherbloom_used,fields:[l(H.m4_atk_)]}}],m6:[{type:"fields",fields:[l(H.m6_ether_dmg_)]}]}),Qh="Yanagi",Xh=C(Qh),kn="Yixuan",[,xe]=m("char",kn),co=f[kn],G=u[kn],Qi=A[kn],eu=C(kn,{core:[{type:"fields",fields:[l(G.core_hpSheerForce),{title:xe("core_dmg_"),fieldRef:G.core_dmg_.tag},l(G.core_exSpecial_dmg_),l(G.core_assistFollowUp_dmg_),l(G.core_chain_dmg_),l(G.core_ult_dmg_)]}],ability:[{type:"fields",fields:[{title:xe("ability_dmg"),fieldRef:Qi.ability_dmg.tag},{title:xe("ability_dmg_"),fieldRef:G.ability_dmg_.tag}]},{type:"conditional",conditional:{label:xe("meditationCond"),metadata:co.meditation,fields:[l(G.ability_crit_dmg_)]}}],m1:[{type:"fields",fields:[l(G.m1_crit_),{title:xe("m1_dmg"),fieldRef:Qi.m1_dmg.tag}]}],m2:[{type:"fields",fields:[l(G.m2_ult_ether_resIgn_),l(G.m2_exSpecial_ether_resIgn_),{title:xe("m2_dmg"),fieldRef:Qi.m2_dmg.tag}]}],m4:[{type:"conditional",conditional:{label:xe("m4Cond"),metadata:co.tranquility,fields:[{title:xe("m4_dmg_"),fieldRef:G.m4_dmg_.tag}]}}],m6:[{type:"fields",fields:[l(G.m6_sheer_dmg_)]}]}),Cn="ZhuYuan",[,Ie]=m("char",Cn),Xi=f[Cn],cn=u[Cn],tu=A[Cn],nu=C(Cn,{core:[{type:"fields",fields:[{title:Ie("core_dmg_"),fieldRef:cn.core_dmg_.tag}]}],ability:[{type:"conditional",conditional:{label:Ie("abilityCond"),metadata:Xi.ex_chain_ult_used,fields:[l(cn.ability_crit_)]}}],m2:[{type:"conditional",conditional:{label:Ie("m2SuppresiveModeCond"),metadata:Xi.suppresive_mode,fields:[l(cn.m2_dmg_red_)]}},{type:"conditional",conditional:{label:Ie("m2BasicDashEtherCond"),metadata:Xi.shotshells_hit,fields:[{title:Ie("m2_basic_dash_ether_dmg_"),fieldRef:cn.m2_basic_dash_ether_dmg_.tag}]}}],m4:[{type:"fields",fields:[{title:Ie("m4_ether_resIgn_"),fieldRef:cn.m4_basic_dash_ether_res_ign_.tag}]}],m6:[{type:"fields",fields:[{title:Ie("m6_ether_afterglow"),fieldRef:tu.m6_ether_afterglow.tag}]}]}),iu={Anby:Nm,Anton:Gm,AstraYao:Ym,Ben:Qm,Billy:Xm,Burnice:th,Caesar:ah,Corin:sh,Ellen:lh,Evelyn:dh,Grace:mh,Harumasa:uh,Hugo:fh,Jane:ph,JuFufu:yh,Koleda:bh,Lighter:vh,Lucy:Ch,Lycaon:Dh,Miyabi:Ih,Nekomata:zh,Nicole:Bh,Piper:Eh,Pulchra:Oh,Qingyi:qh,Rina:jh,Seth:Hh,Soldier0Anby:Wh,Soldier11:Nh,Soukaku:Gh,Trigger:Jh,Vivian:Zh,Yanagi:Xh,PanYinhu:Mh,Yixuan:eu,ZhuYuan:nu},ri="AstralVoice",[lo,au]=m("disc",ri),ro=B(ri),ou=f[ri],su=u[ri],cu={2:{title:i(M,{}),img:ro,documents:[{type:"text",text:lo("desc2")}]},4:{title:i(T,{}),img:ro,documents:[{type:"text",text:lo("desc4")},{type:"conditional",conditional:{label:au("set4_cond"),metadata:ou.astral,fields:[d(su.set4_team_dmg_.tag)]}}]}},mi="BranchBladeSong",[mo,lu]=m("disc",mi),ho=B(mi),du=f[mi],uo=u[mi],ru={2:{title:i(M,{}),img:ho,documents:[{type:"text",text:mo("desc2")}]},4:{title:i(T,{}),img:ho,documents:[{type:"text",text:mo("desc4")},{type:"fields",fields:[d(uo.set4_passive.tag)]},{type:"conditional",conditional:{label:lu("set4_cond"),metadata:du.apply_or_trigger,fields:[d(uo.set4_cond.tag)]}}]}},hi="ChaosJazz",[fo,mu]=m("disc",hi),go=B(hi),hu=f[hi],Ln=u[hi],uu={2:{title:i(M,{}),img:go,documents:[{type:"text",text:fo("desc2")}]},4:{title:i(T,{}),img:go,documents:[{type:"text",text:fo("desc4")},{type:"fields",fields:[d(Ln.set4_passive_fire_dmg_.tag),d(Ln.set4_passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:mu("set4_cond"),metadata:hu.while_off_field,fields:[{title:"EX Special Attack DMG",fieldRef:Ln.set4_off_field_special_dmg_.tag},{title:"Assist Attack Attack DMG",fieldRef:Ln.set4_off_field_assist_dmg_.tag}]}}]}},ui="ChaoticMetal",[po,fu]=m("disc",ui),_o=B(ui),gu=f[ui],yo=u[ui],pu={2:{title:i(M,{}),img:_o,documents:[{type:"text",text:po("desc2")}]},4:{title:i(T,{}),img:_o,documents:[{type:"text",text:po("desc4")},{type:"fields",fields:[d(yo.set4_passive.tag)]},{type:"conditional",conditional:{label:fu("set4_cond"),metadata:gu.trigger_corruption,fields:[d(yo.set4_cond_trigger_corruption.tag)]}}]}},fi="FangedMetal",[$o,_u]=m("disc",fi),bo=B(fi),yu=f[fi],$u=u[fi],bu={2:{title:i(M,{}),img:bo,documents:[{type:"text",text:$o("desc2")}]},4:{title:i(T,{}),img:bo,documents:[{type:"text",text:$o("desc4")},{type:"conditional",conditional:{label:_u("set4_cond"),metadata:yu.inflict_assault,fields:[d($u.set4_cond_inflict_assault.tag)]}}]}},gi="FreedomBlues",[xo,xu]=m("disc",gi),wo=B(gi),wu=f[gi],vu=u[gi],ku={2:{title:i(M,{}),img:wo,documents:[{type:"text",text:xo("desc2")}]},4:{title:i(T,{}),img:wo,documents:[{type:"text",text:xo("desc4")},{type:"conditional",conditional:{label:xu("set4_cond"),metadata:wu.exSpecialHit,fields:[d(vu.anomBuildupRes_.tag)]}}]}},pi="HormonePunk",[vo,Cu]=m("disc",pi),ko=B(pi),Su=f[pi],Du=u[pi],Ru={2:{title:i(M,{}),img:ko,documents:[{type:"text",text:vo("desc2")}]},4:{title:i(T,{}),img:ko,documents:[{type:"text",text:vo("desc4")},{type:"conditional",conditional:{label:Cu("set4_cond"),metadata:Su.entering_combat,fields:[d(Du.set4_cond_entering_combat.tag)]}}]}},_i="InfernoMetal",[Co,Iu]=m("disc",_i),So=B(_i),zu=f[_i],Bu=u[_i],Mu={2:{title:i(M,{}),img:So,documents:[{type:"text",text:Co("desc2")}]},4:{title:i(T,{}),img:So,documents:[{type:"text",text:Co("desc4")},{type:"conditional",conditional:{label:Iu("set4_cond"),metadata:zu.hitting_burning_enemy,fields:[d(Bu.set4_cond_hitting_burning_enemy.tag)]}}]}},yi="KingOfTheSummit",[Do,ib]=m("disc",yi),Ro=B(yi),Tu=f[yi],Io=u[yi],Eu={2:{title:i(M,{}),img:Ro,documents:[{type:"text",text:Do("desc2")},{type:"fields",fields:[d(Io.set2.tag)]}]},4:{title:i(T,{}),img:Ro,documents:[{type:"text",text:Do("desc4")},{type:"conditional",conditional:{metadata:Tu.launchExSpecialOrChain,label:Z("uponLaunch.2",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)"}),fields:[d(Io.set4_team_launchExSpecialOrChain_crit_dmg_.tag)]}}]}},$i="PhaethonsMelody",[zo,Bo]=m("disc",$i),Mo=B($i),To=f[$i],Eo=u[$i],Vu={2:{title:i(M,{}),img:Mo,documents:[{type:"text",text:zo("desc2")}]},4:{title:i(T,{}),img:Mo,documents:[{type:"text",text:zo("desc4")},{type:"conditional",conditional:{label:Bo("set4_cond_squad_use_ex"),metadata:To.squad_use_ex,fields:[d(Eo.set4_squad_anomProf.tag)]}},{type:"conditional",conditional:{label:Bo("set4_cond_not_char_use_ex"),metadata:To.not_char_use_ex,fields:[d(Eo.set4_not_self_ether_.tag)]}}]}},bi="PolarMetal",[Vo,Ou]=m("disc",bi),Oo=B(bi),Au=f[bi],Ao=u[bi],Pu={2:{title:i(M,{}),img:Oo,documents:[{type:"text",text:Vo("desc2")}]},4:{title:i(T,{}),img:Oo,documents:[{type:"text",text:Vo("desc4")},{type:"conditional",conditional:{label:Ou("set4_cond"),metadata:Au.freeze_shatter}},{type:"fields",fields:[{title:"Basic Attack DMG",fieldRef:Ao.set4_basic_dmg_.tag},{title:"Dash Attack DMG",fieldRef:Ao.set4_dash_dmg_.tag}]}]}},xi="ProtoPunk",[Po,qu]=m("disc",xi),qo=B(xi),Fu=f[xi],ju=u[xi],Lu={2:{title:i(M,{}),img:qo,documents:[{type:"text",text:Po("desc2")}]},4:{title:i(T,{}),img:qo,documents:[{type:"text",text:Po("desc4")},{type:"conditional",conditional:{label:qu("set4_cond"),metadata:Fu.def_assist_or_evasive_assist,fields:[d(ju.set4_cond_def_assist_or_evasive_assist_dmg_.tag)]}}]}},wi="PufferElectro",[Fo,Hu]=m("disc",wi),jo=B(wi),Ku=f[wi],Lo=u[wi],Wu={2:{title:i(M,{}),img:jo,documents:[{type:"text",text:Fo("desc2")}]},4:{title:i(T,{}),img:jo,documents:[{type:"text",text:Fo("desc4")},{type:"fields",fields:[{title:"Ultimate DMG",fieldRef:Lo.set4_dmg_.tag}]},{type:"conditional",conditional:{label:Hu("set4_cond"),metadata:Ku.launching_ult,fields:[d(Lo.set4_cond_launching_ult_atk_.tag)]}}]}},vi="ShadowHarmony",[Ho,Nu]=m("disc",vi),Ko=B(vi),Uu=f[vi],Wo=u[vi],Gu={2:{title:i(M,{}),img:Ko,documents:[{type:"text",text:Ho("desc2")}]},4:{title:i(T,{}),img:Ko,documents:[{type:"text",text:Ho("desc4")},{type:"conditional",conditional:{label:Nu("set4_cond_stacks"),metadata:Uu.stacks,fields:[d(Wo.set4_stack_atk_.tag),d(Wo.set4_stack_crit_.tag)]}}]}},Ia="ShockstarDisco",[No,ab]=m("disc",Ia),Uo=B(Ia),ea=u[Ia],Ju={2:{title:i(M,{}),img:Uo,documents:[{type:"text",text:No("desc2")}]},4:{title:i(T,{}),img:Uo,documents:[{type:"text",text:No("desc4")},{type:"fields",fields:[{title:"Basic Attack Daze",fieldRef:ea.set4_basic_daze_.tag},{title:"Dash Attack Daze",fieldRef:ea.set4_dash_daze_.tag},{title:"Dodge Counter Daze",fieldRef:ea.set4_dodgeCounter_daze_.tag}]}]}},ld="SoulRock",[Go,ob]=m("disc",ld),Jo=B(ld),Yu={2:{title:i(M,{}),img:Jo,documents:[{type:"text",text:Go("desc2")}]},4:{title:i(T,{}),img:Jo,documents:[{type:"text",text:Go("desc4")}]}},ki="SwingJazz",[Yo,Zu]=m("disc",ki),Zo=B(ki),Qu=f[ki],Xu=u[ki],ef={2:{title:i(M,{}),img:Zo,documents:[{type:"text",text:Yo("desc2")}]},4:{title:i(T,{}),img:Zo,documents:[{type:"text",text:Yo("desc4")},{type:"conditional",conditional:{label:Zu("set4_cond"),metadata:Qu.chain_or_ult,fields:[d(Xu.set4_cond_chain_or_ult.tag)]}}]}},Ci="ThunderMetal",[Qo,tf]=m("disc",Ci),Xo=B(Ci),nf=f[Ci],af=u[Ci],of={2:{title:i(M,{}),img:Xo,documents:[{type:"text",text:Qo("desc2")}]},4:{title:i(T,{}),img:Xo,documents:[{type:"text",text:Qo("desc4")},{type:"conditional",conditional:{label:tf("set4_cond"),metadata:nf.enemy_shocked,fields:[d(af.set4_cond_enemy_shocked_atk_.tag)]}}]}},Si="WoodpeckerElectro",[es,sf]=m("disc",Si),ts=B(Si),cf=f[Si],lf=u[Si],df={2:{title:i(M,{}),img:ts,documents:[{type:"text",text:es("desc2")}]},4:{title:i(T,{}),img:ts,documents:[{type:"text",text:es("desc4")},{type:"conditional",conditional:{label:sf("set4_cond"),metadata:cf.crit_basic_dodge_ex,fields:[d(lf.set4_cond_crit_basic_dodge_ex_atk_.tag)]}}]}},Di="YunkuiTales",[ns,sb]=m("disc",Di),is=B(Di),rf=f[Di],ta=u[Di],mf={2:{title:i(M,{}),img:is,documents:[{type:"text",text:ns("desc2")},{type:"fields",fields:[d(ta.set2.tag)]}]},4:{title:i(T,{}),img:is,documents:[{type:"text",text:ns("desc4")},{type:"conditional",conditional:{metadata:rf.uponLaunchExSpecialChainOrUlt,label:Z("uponLaunch.3",{val1:"$t(skills.exSpecial)",val2:"$t(skills.chain)",val3:"$t(skills.ult)"}),fields:[d(ta.set4_crit_.tag),d(ta.set4_sheer_dmg_.tag)]}}]}},hf={AstralVoice:cu,BranchBladeSong:ru,ChaosJazz:uu,ChaoticMetal:pu,FangedMetal:bu,FreedomBlues:ku,HormonePunk:Ru,InfernoMetal:Mu,KingOfTheSummit:Eu,PhaethonsMelody:Vu,PolarMetal:Pu,ProtoPunk:Lu,PufferElectro:Wu,ShadowHarmony:Gu,ShockstarDisco:Ju,SoulRock:Yu,SwingJazz:ef,ThunderMetal:of,WoodpeckerElectro:df,YunkuiTales:mf};function M(){return"2-Set"}function T(){return"4-Set"}function p({wKey:e,children:t}){const n=ni();let a=1;return n&&n.compute(F.common.count.sheet(e)).val&&(a=n.compute(F.wengine.phase).val??1),t(a)}const tt="BashfulDemon",[as,uf]=m("wengine",tt),ff=b.wengine[tt],gf=_(tt,"icon"),pf=f[tt],os=u[tt],_f={title:as("phase"),img:gf,documents:[{type:"text",text:i(p,{wKey:tt,children:e=>as(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(os.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:uf("cond"),metadata:pf.launch_ex_attack,fields:[d(os.team_atk_.tag),{title:"Duration",fieldValue:ff.duration}]}}]},nt="BigCylinder",[ss,cb]=m("wengine",nt),yf=b.wengine[nt],$f=_(nt,"icon"),bf=u[nt],xf=A[nt],wf={title:ss("phase"),img:$f,documents:[{type:"text",text:i(p,{wKey:nt,children:e=>ss(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(bf.passive_dmg_red_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:xf.damage.tag},{title:"Cooldown",fieldValue:yf.cooldown}]}]},it="BlazingLaurel",[cs,ls]=m("wengine",it),ds=b.wengine[it],vf=_(it,"icon"),rs=f[it],na=u[it],kf={title:cs("phase"),img:vf,documents:[{type:"text",text:i(p,{wKey:it,children:e=>cs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ls("cond1"),metadata:rs.quickOrPerfectAssistUsed,fields:[d(na.impact_.tag),{title:"Duration",fieldValue:ds.duration}]}},{type:"conditional",conditional:{label:ls("cond2"),metadata:rs.wilt,fields:[d(na.crit_dmg_ice_.tag),d(na.crit_dmg_fire_.tag),{title:"Duration",fieldValue:ds.wilt_duration}]}}]},at="BoxCutter",[ms,Cf]=m("wengine",at),Sf=b.wengine[at],Df=_(at,"icon"),Rf=f[at],hs=u[at],If={title:ms("phase"),img:Df,documents:[{type:"text",text:i(p,{wKey:at,children:e=>ms(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Cf("cond"),metadata:Rf.launchedAftershock,fields:[d(hs.physical_dmg_.tag),d(hs.daze_.tag),{title:"Duration",fieldValue:Sf.duration}]}}]},Sn="BunnyBand",[us,zf]=m("wengine",Sn),Bf=_(Sn,"icon"),Mf=f[Sn],fs=u[Sn],Tf={title:us("phase"),img:Bf,documents:[{type:"text",text:i(p,{wKey:Sn,children:e=>us(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(fs.passive_hp_.tag)]},{type:"conditional",conditional:{label:zf("cond"),metadata:Mf.wearerShielded,fields:[d(fs.atk_.tag)]}}]},Te="CannonRotor",[gs,lb]=m("wengine",Te),Ef=b.wengine[Te],Vf=_(Te,"icon"),Of=A[Te],Af=u[Te],Pf={title:gs("phase"),img:Vf,documents:[{type:"text",text:i(p,{wKey:Te,children:e=>gs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Af.passive_atk_.tag)]},{type:"fields",fields:[{title:"Additional DMG",fieldRef:Of.damage.tag},{title:"Cooldown",fieldValue:i(p,{wKey:Te,children:e=>Ef.cooldown[e]})}]}]},ot="CinderCobalt",[ps]=m("wengine",ot),_s=b.wengine[ot],qf=_(ot,"icon"),Ff=f[ot],jf=u[ot],Lf={title:ps("phase"),img:qf,documents:[{type:"text",text:i(p,{wKey:ot,children:e=>ps(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Z("enterCombatOrSwitchIn"),metadata:Ff.enteringCombatOrSwitchingIn,fields:[d(jf.enteringCombatOrSwitchingIn_atk_.tag),{title:Z("duration"),fieldValue:_s.duration},{title:Z("cd"),fieldValue:_s.cd}]}}]},st="DeepSeaVisitor",[ys,$s]=m("wengine",st),bs=b.wengine[st],Hf=_(st,"icon"),xs=f[st],ia=u[st],Kf={title:ys("phase"),img:Hf,documents:[{type:"text",text:i(p,{wKey:st,children:e=>ys(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ia.passive_ice_dmg_.tag)]},{type:"conditional",conditional:{label:$s("cond1"),metadata:xs.basicHit,fields:[d(ia.crit_.tag),{title:"Duration",fieldValue:bs.duration}]}},{type:"conditional",conditional:{label:$s("cond2"),metadata:xs.iceDashAtkHit,fields:[d(ia.extra_crit_.tag),{title:"Duration",fieldValue:bs.extra_duration}]}}]},ct="DemaraBatteryMarkII",[ws,Wf]=m("wengine",ct),Nf=b.wengine[ct],Uf=_(ct,"icon"),Gf=f[ct],vs=u[ct],Jf={title:ws("phase"),img:Uf,documents:[{type:"text",text:i(p,{wKey:ct,children:e=>ws(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(vs.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:Wf("cond"),metadata:Gf.dodgeCounterOrAssistHit,fields:[d(vs.enerRegen_.tag),{title:"Duration",fieldValue:Nf.duration}]}}]},lt="DrillRigRedAxis",[ks,Yf]=m("wengine",lt),Cs=b.wengine[lt],Zf=_(lt,"icon"),Qf=f[lt],Ss=u[lt],Xf={title:ks("phase"),img:Zf,documents:[{type:"text",text:i(p,{wKey:lt,children:e=>ks(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Yf("cond"),metadata:Qf.exSpecialOrChainUsed,fields:[d(Ss.basic_eletric_dmg_.tag),d(Ss.dash_eletric_dmg_.tag),{title:"Duration",fieldValue:Cs.duration},{title:"Cooldown",fieldValue:Cs.cooldown}]}}]},Dn="ElectroLipGloss",[Ds,eg]=m("wengine",Dn),tg=_(Dn,"icon"),ng=f[Dn],Rs=u[Dn],ig={title:Ds("phase"),img:tg,documents:[{type:"text",text:i(p,{wKey:Dn,children:e=>Ds(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:eg("cond"),metadata:ng.anomalyOnEnemy,fields:[d(Rs.atk_.tag),d(Rs.common_dmg_.tag)]}}]},dt="ElegantVanity",[Is,ag]=m("wengine",dt),og=b.wengine[dt],sg=_(dt,"icon"),cg=f[dt],lg=u[dt],dg={title:Is("phase"),img:sg,documents:[{type:"text",text:i(p,{wKey:dt,children:e=>Is(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ag("cond"),metadata:cg.consumed25Energy,fields:[d(lg.common_dmg_.tag),{title:"Duration",fieldValue:og.buffDuration}]}}]},rt="FlamemakerShaker",[zs,Bs]=m("wengine",rt),aa=b.wengine[rt],rg=_(rt,"icon"),Ms=f[rt],oa=u[rt],mg={title:zs("phase"),img:rg,documents:[{type:"text",text:i(p,{wKey:rt,children:e=>zs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Bs("cond1"),metadata:Ms.offField,fields:[d(oa.enerRegen.tag)]}},{type:"conditional",conditional:{label:Bs("cond2"),metadata:Ms.exSpecialAssistHits,fields:[d(oa.common_dmg_.tag),{title:"Duration",fieldValue:aa.duration},{title:"Cooldown",fieldValue:aa.cooldown},d(oa.anomProf.tag),{title:"Duration",fieldValue:aa.anomProfDuration}]}}]},mt="FlightOfFancy",[Ts,hg]=m("wengine",mt),Es=b.wengine[mt],ug=_(mt,"icon"),fg=f[mt],Vs=u[mt],gg={title:Ts("phase"),img:ug,documents:[{type:"text",text:i(p,{wKey:mt,children:e=>Ts(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Vs.anomBuildup_.tag)]},{type:"conditional",conditional:{label:hg("cond"),metadata:fg.etherDmg,fields:[d(Vs.etherDmg_anomProf.tag),{title:"Duration",fieldValue:Es.duration},{title:"Cooldown",fieldValue:Es.cd}]}}]},ht="FusionCompiler",[Os,pg]=m("wengine",ht),_g=b.wengine[ht],yg=_(ht,"icon"),$g=f[ht],As=u[ht],bg={title:Os("phase"),img:yg,documents:[{type:"text",text:i(p,{wKey:ht,children:e=>Os(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(As.passive_atk_.tag)]},{type:"conditional",conditional:{label:pg("cond"),metadata:$g.specialUsed,fields:[d(As.anomProf.tag),{title:"Duration",fieldValue:_g.duration}]}}]},Ri="GildedBlossom",[Ps,db]=m("wengine",Ri),xg=_(Ri,"icon"),qs=u[Ri],wg={title:Ps("phase"),img:xg,documents:[{type:"text",text:i(p,{wKey:Ri,children:e=>Ps(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(qs.passive_atk_.tag),d(qs.passive_exSpecial_dmg_.tag)]}]},ut="HailstormShrine",[Fs,vg]=m("wengine",ut),kg=b.wengine[ut],Cg=_(ut,"icon"),Sg=f[ut],js=u[ut],Dg={title:Fs("phase"),img:Cg,documents:[{type:"text",text:i(p,{wKey:ut,children:e=>Fs(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(js.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:vg("cond"),metadata:Sg.exSpecialOrAnomaly,fields:[d(js.ice_dmg_.tag),{title:"Duration",fieldValue:kg.duration}]}}]},ft="HeartstringNocturne",[Ls,Rg]=m("wengine",ft),Ig=b.wengine[ft],zg=_(ft,"icon"),Bg=f[ft],sa=u[ft],Mg={title:Ls("phase"),img:zg,documents:[{type:"text",text:i(p,{wKey:ft,children:e=>Ls(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(sa.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:Rg("cond"),metadata:Bg.heartstring,fields:[d(sa.chain_resIgn_fire_.tag),d(sa.ult_resIgn_fire_.tag),{title:"Duration",fieldValue:Ig.duration}]}}]},gt="HellfireGears",[Hs,Ks]=m("wengine",gt),Tg=b.wengine[gt],Eg=_(gt,"icon"),Ws=f[gt],Ns=u[gt],Vg={title:Hs("phase"),img:Eg,documents:[{type:"text",text:i(p,{wKey:gt,children:e=>Hs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ks("cond1"),metadata:Ws.offField,fields:[d(Ns.enerRegen.tag)]}},{type:"conditional",conditional:{label:Ks("cond1"),metadata:Ws.exSpecialUsed,fields:[d(Ns.impact_.tag),{title:"Duration",fieldValue:Tg.duration}]}}]},pt="Housekeeper",[Us,Gs]=m("wengine",pt),Og=b.wengine[pt],Ag=_(pt,"icon"),Js=f[pt],Ys=u[pt],Pg={title:Us("phase"),img:Ag,documents:[{type:"text",text:i(p,{wKey:pt,children:e=>Us(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Gs("cond1"),metadata:Js.offField,fields:[d(Ys.enerRegen.tag)]}},{type:"conditional",conditional:{label:Gs("cond2"),metadata:Js.exSpecialHits,fields:[d(Ys.physical_dmg_.tag),{title:"Duration",fieldValue:Og.duration}]}}]},_t="IceJadeTeapot",[Zs,qg]=m("wengine",_t),Qs=b.wengine[_t],Fg=_(_t,"icon"),jg=f[_t],Xs=u[_t],Lg={title:Zs("phase"),img:Fg,documents:[{type:"text",text:i(p,{wKey:_t,children:e=>Zs(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:qg("cond"),metadata:jg.teariffic,fields:[d(Xs.impact_.tag),{title:"Duration",fieldValue:Qs.duration},d(Xs.common_dmg_.tag),{title:"Duration",fieldValue:Qs.teamBuffDuration}]}}]},yt="IdentityBase",[ec,Hg]=m("wengine",yt),Kg=b.wengine[yt],Wg=_(yt,"icon"),Ng=f[yt],Ug=u[yt],Gg={title:ec("phase"),img:Wg,documents:[{type:"text",text:i(p,{wKey:yt,children:e=>ec(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Hg("cond"),metadata:Ng.equipperAttacked,fields:[d(Ug.def_.tag),{title:"Duration",fieldValue:Kg.duration}]}}]},za="IdentityInflection",[tc,rb]=m("wengine",za),Jg=_(za,"icon"),Yg={title:tc("phase"),img:Jg,documents:[{type:"text",text:i(p,{wKey:za,children:e=>tc(`phaseDescs.${e-1}`)})}]},$t="KaboomTheCannon",[nc,Zg]=m("wengine",$t),Qg=b.wengine[$t],Xg=_($t,"icon"),ep=f[$t],tp=u[$t],np={title:nc("phase"),img:Xg,documents:[{type:"text",text:i(p,{wKey:$t,children:e=>nc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Zg("cond"),metadata:ep.allyHitsEnemy,fields:[d(tp.atk_.tag),{title:"Duration",fieldValue:Qg.duration}]}}]},bt="LunarDecrescent",[ic,ip]=m("wengine",bt),ap=b.wengine[bt],op=_(bt,"icon"),sp=f[bt],cp=u[bt],lp={title:ic("phase"),img:op,documents:[{type:"text",text:i(p,{wKey:bt,children:e=>ic(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ip("cond"),metadata:sp.chainOrUltUsed,fields:[d(cp.common_dmg_.tag),{title:"Duration",fieldValue:ap.duration}]}}]},Ba="LunarNoviluna",[ac,mb]=m("wengine",Ba),dp=_(Ba,"icon"),rp={title:ac("phase"),img:dp,documents:[{type:"text",text:i(p,{wKey:Ba,children:e=>ac(`phaseDescs.${e-1}`)})}]},Ii="LunarPleniluna",[oc,hb]=m("wengine",Ii),mp=_(Ii,"icon"),ca=u[Ii],hp={title:oc("phase"),img:mp,documents:[{type:"text",text:i(p,{wKey:Ii,children:e=>oc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ca.basic_dmg_.tag),d(ca.dash_dmg_.tag),d(ca.dodgeCounter_dmg_.tag)]}]},xt="MagneticStormAlpha",[sc,up]=m("wengine",xt),cc=b.wengine[xt],fp=_(xt,"icon"),gp=f[xt],pp=u[xt],_p={title:sc("phase"),img:fp,documents:[{type:"text",text:i(p,{wKey:xt,children:e=>sc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:up("cond"),metadata:gp.anomalyBuildupIncreased,fields:[d(pp.anomMas.tag),{title:"Duration",fieldValue:cc.duration},{title:"Cooldown",fieldValue:cc.cooldown}]}}]},wt="MagneticStormBravo",[lc,yp]=m("wengine",wt),dc=b.wengine[wt],$p=_(wt,"icon"),bp=f[wt],xp=u[wt],wp={title:lc("phase"),img:$p,documents:[{type:"text",text:i(p,{wKey:wt,children:e=>lc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:yp("cond"),metadata:bp.anomalyBuildupIncreased,fields:[d(xp.anomProf.tag),{title:"Duration",fieldValue:dc.duration},{title:"Cooldown",fieldValue:dc.cooldown}]}}]},Ma="MagneticStormCharlie",[rc,ub]=m("wengine",Ma),vp=_(Ma,"icon"),kp={title:rc("phase"),img:vp,documents:[{type:"text",text:i(p,{wKey:Ma,children:e=>rc(`phaseDescs.${e-1}`)})}]},vt="MarcatoDesire",[mc,hc]=m("wengine",vt),Cp=b.wengine[vt],Sp=_(vt,"icon"),uc=f[vt],Dp=u[vt],Rp={title:mc("phase"),img:Sp,documents:[{type:"text",text:i(p,{wKey:vt,children:e=>mc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:hc("cond1"),metadata:uc.exSpecialOrChainHitsEnemy,fields:[d(Dp.atk_.tag),{title:"Duration",fieldValue:Cp.duration}]}},{type:"conditional",conditional:{label:hc("cond2"),metadata:uc.attributeAnomalyInflicted}}]},kt="MyriadEclipse",[fc,Ip]=m("wengine",kt),zp=b.wengine[kt],Bp=_(kt,"icon"),Mp=f[kt],gc=u[kt],Tp={title:fc("phase"),img:Bp,documents:[{type:"text",text:i(p,{wKey:kt,children:e=>fc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(gc.crit_dmg_.tag)]},{type:"conditional",conditional:{label:Ip("cond"),metadata:Mp.deathSentence,fields:[d(gc.deathSentence_defIgn_.tag),{title:"Duration",fieldValue:zp.duration}]}}]},Ct="OriginalTransmorpher",[pc,Ep]=m("wengine",Ct),Vp=b.wengine[Ct],Op=_(Ct,"icon"),Ap=f[Ct],_c=u[Ct],Pp={title:pc("phase"),img:Op,documents:[{type:"text",text:i(p,{wKey:Ct,children:e=>pc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(_c.passive_hp_.tag)]},{type:"conditional",conditional:{label:Ep("cond"),metadata:Ap.equipperHit,fields:[d(_c.impact_.tag),{title:"Duration",fieldValue:Vp.duration}]}}]},Rn="PeacekeeperSpecialized",[yc,qp]=m("wengine",Rn),Fp=_(Rn,"icon"),jp=f[Rn],la=u[Rn],Lp={title:yc("phase"),img:Fp,documents:[{type:"text",text:i(p,{wKey:Rn,children:e=>yc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:qp("cond"),metadata:jp.shielded,fields:[d(la.enerRegen.tag)]}},{type:"fields",fields:[d(la.passive_exSpecial_anomBuildup_.tag),d(la.passive_assist_anomBuildup_.tag)]}]},In="PreciousFossilizedCore",[$c,bc]=m("wengine",In),Hp=_(In,"icon"),xc=f[In],Kp=u[In],Wp={title:$c("phase"),img:Hp,documents:[{type:"text",text:i(p,{wKey:In,children:e=>$c(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:bc("cond1"),metadata:xc.enemyHpGE50,fields:[d(Kp.daze_.tag)]}},{type:"conditional",conditional:{label:bc("cond2"),metadata:xc.enemyHpGE75}}]},St="PuzzleSphere",[wc]=m("wengine",St),vc=b.wengine[St],Np=_(St,"icon"),kc=f[St],Cc=u[St],Up={title:wc("phase"),img:Np,documents:[{type:"text",text:i(p,{wKey:St,children:e=>wc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Z("uponLaunch.1",{val1:"$t(skills.exSpecial)"}),metadata:kc.launchingExSpecial,fields:[d(Cc.launchingExSpecial_crit_dmg_.tag),{title:Z("duration"),fieldValue:vc.duration}]}},{type:"conditional",conditional:{label:Z("targetHpLe",{val:vc.hpThresh*100}),metadata:kc.targetHpBelow50,fields:[d(Cc.targetHpBelow50_exSpecial_dmg_.tag)]}}]},Dt="QingmingBirdcage",[Sc,Gp]=m("wengine",Dt),Jp=b.wengine[Dt],Yp=_(Dt,"icon"),Zp=f[Dt],Hn=u[Dt],Qp={title:Sc("phase"),img:Yp,documents:[{type:"text",text:i(p,{wKey:Dt,children:e=>Sc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Hn.crit_.tag)]},{type:"conditional",conditional:{metadata:Zp.qingmingCompanionStacks,label:Gp("cond"),fields:[d(Hn.qingmingCompanionStacks_ether_dmg_.tag),d(Hn.qingmingCompanionStacks_ult_ether_sheer_dmg_.tag),d(Hn.qingmingCompanionStacks_exSpecial_ether_sheer_dmg_.tag),{title:Z("cd"),fieldValue:Jp.duration}]}}]},Rt="RadiowaveJourney",[Dc]=m("wengine",Rt),Xp=b.wengine[Rt],e_=_(Rt,"icon"),t_=f[Rt],n_=u[Rt],i_={title:Dc("phase"),img:e_,documents:[{type:"text",text:i(p,{wKey:Rt,children:e=>Dc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{metadata:t_.launchingChainOrUlt,label:Z("uponLaunch.2",{val1:"$t(skills.chain)",val2:"$t(skills.ult)"}),fields:[d(n_.launchingChainOrUlt_sheerForce.tag),{title:Z("duration"),fieldValue:Xp.duration}]}}]},It="RainforestGourmet",[Rc,a_]=m("wengine",It),o_=b.wengine[It],s_=_(It,"icon"),c_=f[It],l_=u[It],d_={title:Rc("phase"),img:s_,documents:[{type:"text",text:i(p,{wKey:It,children:e=>Rc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:a_("cond"),metadata:c_.energyConsumed,fields:[d(l_.atk_.tag),{title:"Duration",fieldValue:o_.duration}]}}]},Ta="ReelProjector",[Ic]=m("wengine",Ta),r_=_(Ta,"icon"),m_={title:Ic("phase"),img:r_,documents:[{type:"text",text:i(p,{wKey:Ta,children:e=>Ic(`phaseDescs.${e-1}`)})}]},zt="ReverbMarkI",[zc,h_]=m("wengine",zt),u_=b.wengine[zt],f_=_(zt,"icon"),g_=f[zt],p_=u[zt],__={title:zc("phase"),img:f_,documents:[{type:"text",text:i(p,{wKey:zt,children:e=>zc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:h_("cond"),metadata:g_.exSpecialUsed,fields:[d(p_.impact_.tag),{title:"Duration",fieldValue:u_.duration}]}}]},Bt="ReverbMarkII",[Bc,y_]=m("wengine",Bt),$_=b.wengine[Bt],b_=_(Bt,"icon"),x_=f[Bt],Mc=u[Bt],w_={title:Bc("phase"),img:b_,documents:[{type:"text",text:i(p,{wKey:Bt,children:e=>Bc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:y_("cond"),metadata:x_.exSpecialOrChainUsed,fields:[d(Mc.anomMas.tag),d(Mc.anomProf.tag),{title:"Duration",fieldValue:$_.duration}]}}]},Mt="ReverbMarkIII",[Tc,v_]=m("wengine",Mt),k_=b.wengine[Mt],C_=_(Mt,"icon"),S_=f[Mt],D_=u[Mt],R_={title:Tc("phase"),img:C_,documents:[{type:"text",text:i(p,{wKey:Mt,children:e=>Tc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:v_("cond"),metadata:S_.chainOrUltUsed,fields:[d(D_.atk_.tag),{title:"Duration",fieldValue:k_.duration}]}}]},zn="RiotSuppressorMarkVI",[Ec,I_]=m("wengine",zn),z_=_(zn,"icon"),B_=f[zn],Vc=u[zn],M_={title:Ec("phase"),img:z_,documents:[{type:"text",text:i(p,{wKey:zn,children:e=>Ec(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Vc.passive_crit_.tag)]},{type:"conditional",conditional:{label:I_("cond"),metadata:B_.charge,fields:[d(Vc.basic_ether_dmg_.tag)]}}]},Tt="RoaringFurnace",[Oc,T_]=m("wengine",Tt),E_=b.wengine[Tt],V_=_(Tt,"icon"),O_=f[Tt],Kn=u[Tt],A_={title:Oc("phase"),img:V_,documents:[{type:"text",text:i(p,{wKey:Tt,children:e=>Oc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Kn.exSpecial_dazeInc_.tag),d(Kn.chain_dazeInc_.tag),d(Kn.ult_dazeInc_.tag)]},{type:"conditional",conditional:{metadata:O_.chainOrUlt,label:T_("cond"),fields:[d(Kn.team_chainOrUlt_fire_dmg_.tag),{title:Z("duration"),fieldValue:E_.duration}]}}]},Et="RoaringRide",[Ac,da]=m("wengine",Et),ra=b.wengine[Et],P_=_(Et,"icon"),ma=f[Et],ha=u[Et],q_={title:Ac("phase"),img:P_,documents:[{type:"text",text:i(p,{wKey:Et,children:e=>Ac(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:da("cond_atk_"),metadata:ma.atk_,fields:[d(ha.atk_.tag),{title:"Duration",fieldValue:ra.duration}]}},{type:"conditional",conditional:{label:da("cond_anomProf"),metadata:ma.anomProf,fields:[d(ha.anomProf.tag),{title:"Duration",fieldValue:ra.duration}]}},{type:"conditional",conditional:{label:da("cond_anomBuildup_"),metadata:ma.anomBuildup_,fields:[d(ha.anomBuildup_.tag),{title:"Duration",fieldValue:ra.duration}]}}]},Vt="SeveredInnocence",[Pc,F_]=m("wengine",Vt),j_=b.wengine[Vt],L_=_(Vt,"icon"),H_=f[Vt],ua=u[Vt],K_={title:Pc("phase"),img:L_,documents:[{type:"text",text:i(p,{wKey:Vt,children:e=>Pc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ua.passive_crit_dmg_.tag)]},{type:"conditional",conditional:{label:F_("cond"),metadata:H_.basicSpecialAftershockHit,fields:[d(ua.crit_dmg_.tag),d(ua.electric_dmg_.tag),{title:"Duration",fieldValue:j_.duration}]}}]},Ot="SharpenedStinger",[qc,W_]=m("wengine",Ot),N_=b.wengine[Ot],U_=_(Ot,"icon"),G_=f[Ot],Fc=u[Ot],J_={title:qc("phase"),img:U_,documents:[{type:"text",text:i(p,{wKey:Ot,children:e=>qc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:W_("cond"),metadata:G_.predatoryInstinct,fields:[d(Fc.physical_dmg_.tag),{title:"Duration",fieldValue:N_.duration}]}},{type:"fields",fields:[d(Fc.anomBuildup_.tag)]}]},Bn="SixShooter",[jc,Y_]=m("wengine",Bn),Z_=_(Bn,"icon"),Q_=f[Bn],X_=u[Bn],ey={title:jc("phase"),img:Z_,documents:[{type:"text",text:i(p,{wKey:Bn,children:e=>jc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Y_("cond"),metadata:Q_.charge,fields:[d(X_.exSpecial_daze_.tag)]}}]},Ea="SliceOfTime",[Lc,fb]=m("wengine",Ea),ty=_(Ea,"icon"),ny={title:Lc("phase"),img:ty,documents:[{type:"text",text:i(p,{wKey:Ea,children:e=>Lc(`phaseDescs.${e-1}`)})}]},At="SpectralGaze",[Hc,Kc]=m("wengine",At),Wc=b.wengine[At],iy=_(At,"icon"),Nc=f[At],Uc=u[At],ay={title:Hc("phase"),img:iy,documents:[{type:"text",text:i(p,{wKey:At,children:e=>Hc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Kc("cond1"),metadata:Nc.hit_aftershock_electric,fields:[d(Uc.cond_defRed_.tag),{title:"Duration",fieldValue:Wc.duration1}]}},{type:"conditional",conditional:{label:Kc("cond2"),metadata:Nc.spiritLock,fields:[d(Uc.cond_impact_.tag),{title:"Duration",fieldValue:Wc.duration2}]}}]},Pt="SpringEmbrace",[Gc,oy]=m("wengine",Pt),sy=b.wengine[Pt],cy=_(Pt,"icon"),ly=f[Pt],Jc=u[Pt],dy={title:Gc("phase"),img:cy,documents:[{type:"text",text:i(p,{wKey:Pt,children:e=>Gc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(Jc.passive_dmg_red_.tag)]},{type:"conditional",conditional:{label:oy("cond"),metadata:ly.when_attacked,fields:[d(Jc.cond_enerRegen_.tag),{title:"Duration",fieldValue:sy.duration}]}}]},qt="StarlightEngine",[Yc,ry]=m("wengine",qt),my=b.wengine[qt],hy=_(qt,"icon"),uy=f[qt],fy=u[qt],gy={title:Yc("phase"),img:hy,documents:[{type:"text",text:i(p,{wKey:qt,children:e=>Yc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:ry("cond"),metadata:uy.dodgecounter_quickassist,fields:[d(fy.cond_dmg_.tag),{title:"Duration",fieldValue:my.duration}]}}]},Ft="StarlightEngineReplica",[Zc,py]=m("wengine",Ft),_y=b.wengine[Ft],yy=_(Ft,"icon"),$y=f[Ft],by=u[Ft],xy={title:Zc("phase"),img:yy,documents:[{type:"text",text:i(p,{wKey:Ft,children:e=>Zc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:py("cond"),metadata:$y.hit_away,fields:[d(by.cond_dmg_.tag),{title:"Duration",fieldValue:_y.duration}]}}]},jt="SteamOven",[Qc,wy]=m("wengine",jt),vy=b.wengine[jt],ky=_(jt,"icon"),Cy=f[jt],Sy=u[jt],Dy={title:Qc("phase"),img:ky,documents:[{type:"text",text:i(p,{wKey:jt,children:e=>Qc(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:wy("cond"),metadata:Cy.stacks,fields:[d(Sy.cond_impact_.tag),{title:"Duration",fieldValue:vy.duration}]}}]},Mn="SteelCushion",[Xc,Ry]=m("wengine",Mn),Iy=_(Mn,"icon"),zy=f[Mn],el=u[Mn],By={title:Xc("phase"),img:Iy,documents:[{type:"text",text:i(p,{wKey:Mn,children:e=>Xc(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(el.passive_physical_dmg_.tag)]},{type:"conditional",conditional:{label:Ry("cond"),metadata:zy.hit_behind,fields:[d(el.cond_dmg_.tag)]}}]},Tn="StreetSuperstar",[tl,My]=m("wengine",Tn),Ty=_(Tn,"icon"),Ey=f[Tn],Vy=u[Tn],Oy={title:tl("phase"),img:Ty,documents:[{type:"text",text:i(p,{wKey:Tn,children:e=>tl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:My("cond"),metadata:Ey.charge,fields:[d(Vy.cond_ult_dmg_.tag)]}}]},Lt="TheBrimstone",[nl,Ay]=m("wengine",Lt),Py=b.wengine[Lt],qy=_(Lt,"icon"),Fy=f[Lt],jy=u[Lt],Ly={title:nl("phase"),img:qy,documents:[{type:"text",text:i(p,{wKey:Lt,children:e=>nl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Ay("cond"),metadata:Fy.hit_basic_dash_dodge,fields:[d(jy.cond_atk_.tag),{title:"Duration",fieldValue:Py.duration}]}}]},Ht="TheRestrained",[il,Hy]=m("wengine",Ht),Ky=b.wengine[Ht],Wy=_(Ht,"icon"),Ny=f[Ht],al=u[Ht],Uy={title:il("phase"),img:Wy,documents:[{type:"text",text:i(p,{wKey:Ht,children:e=>il(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Hy("cond"),metadata:Ny.dmg_daze_,fields:[d(al.basic_dmg_.tag),d(al.basic_daze_.tag),{title:"Duration",fieldValue:Ky.duration}]}}]},Kt="TheVault",[ol,Gy]=m("wengine",Kt),Jy=b.wengine[Kt],Yy=_(Kt,"icon"),Zy=f[Kt],Qy=u[Kt],Xy={title:ol("phase"),img:Yy,documents:[{type:"text",text:i(p,{wKey:Kt,children:e=>ol(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:Gy("cond"),metadata:Zy.ether_hit,fields:[d(Qy.cond_dmg_.tag),{title:"Duration",fieldValue:Jy.duration}]}}]},Wt="Timeweaver",[sl,e$]=m("wengine",Wt),t$=b.wengine[Wt],n$=_(Wt,"icon"),i$=f[Wt],fa=u[Wt],a$={title:sl("phase"),img:n$,documents:[{type:"text",text:i(p,{wKey:Wt,children:e=>sl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(fa.passive_electric_anomBuildup_.tag),d(fa.passive_disorder_dmg_.tag)]},{type:"conditional",conditional:{label:e$("cond"),metadata:i$.hit_anomaly,fields:[d(fa.cond_anomProf.tag),{title:"Duration",fieldValue:t$.duration}]}}]},zi="TremorTrigramVessel",[cl]=m("wengine",zi),o$=_(zi,"icon"),ll=u[zi],s$={title:cl("phase"),img:o$,documents:[{type:"text",text:i(p,{wKey:zi,children:e=>cl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ll.exSpecial_dmg_.tag),d(ll.ult_dmg_.tag)]}]},Nt="TusksOfFury",[dl,c$]=m("wengine",Nt),l$=b.wengine[Nt],d$=_(Nt,"icon"),r$=f[Nt],ga=u[Nt],m$={title:dl("phase"),img:d$,documents:[{type:"text",text:i(p,{wKey:Nt,children:e=>dl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(ga.passive_shield_.tag)]},{type:"conditional",conditional:{label:c$("cond"),metadata:r$.interrupt_perfdodge,fields:[d(ga.cond_dmg_.tag),d(ga.daze_.tag),{title:"Duration",fieldValue:l$.duration}]}}]},Ut="UnfetteredGameBall",[rl,h$]=m("wengine",Ut),u$=b.wengine[Ut],f$=_(Ut,"icon"),g$=f[Ut],p$=u[Ut],_$={title:rl("phase"),img:f$,documents:[{type:"text",text:i(p,{wKey:Ut,children:e=>rl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:h$("cond"),metadata:g$.anomaly_counter,fields:[d(p$.cond_crit_.tag),{title:"Duration",fieldValue:u$.duration}]}}]},Bi="VortexArrow",[ml,gb]=m("wengine",Bi),y$=_(Bi,"icon"),$$=u[Bi],b$={title:ml("phase"),img:y$,documents:[{type:"text",text:i(p,{wKey:Bi,children:e=>ml(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d($$.passive_daze_.tag)]}]},Gt="VortexHatchet",[hl,x$]=m("wengine",Gt),ul=b.wengine[Gt],w$=_(Gt,"icon"),v$=f[Gt],k$=u[Gt],C$={title:hl("phase"),img:w$,documents:[{type:"text",text:i(p,{wKey:Gt,children:e=>hl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:x$("cond"),metadata:v$.entering,fields:[d(k$.cond_impact_.tag),{title:"Duration",fieldValue:ul.duration},{title:"Cooldown",fieldValue:ul.cooldown}]}}]},Mi="VortexRevolver",[fl,pb]=m("wengine",Mi),S$=_(Mi,"icon"),D$=u[Mi],R$={title:fl("phase"),img:S$,documents:[{type:"text",text:i(p,{wKey:Mi,children:e=>fl(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(D$.passive_exSpecial_daze_.tag)]}]},Jt="WeepingCradle",[gl,pl]=m("wengine",Jt),I$=b.wengine[Jt],z$=_(Jt,"icon"),_l=f[Jt],B$=u[Jt],M$={title:gl("phase"),img:z$,documents:[{type:"text",text:i(p,{wKey:Jt,children:e=>gl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:pl("cond_atk"),metadata:_l.attack}},{type:"conditional",conditional:{label:pl("cond_stacks"),metadata:_l.stacks,fields:[d(B$.cond_dmg_.tag),{title:"Duration",fieldValue:I$.duration}]}}]},En="WeepingGemini",[yl,T$]=m("wengine",En),E$=_(En,"icon"),V$=f[En],O$=u[En],A$={title:yl("phase"),img:E$,documents:[{type:"text",text:i(p,{wKey:En,children:e=>yl(`phaseDescs.${e-1}`)})},{type:"conditional",conditional:{label:T$("cond"),metadata:V$.anomaly_stack,fields:[d(O$.anomProf.tag)]}}]},Yt="ZanshinHerbCase",[$l,P$]=m("wengine",Yt),q$=b.wengine[Yt],F$=_(Yt,"icon"),j$=f[Yt],pa=u[Yt],L$={title:$l("phase"),img:F$,documents:[{type:"text",text:i(p,{wKey:Yt,children:e=>$l(`phaseDescs.${e-1}`)})},{type:"fields",fields:[d(pa.passive_crit_.tag),d(pa.passive_electric_dmg_.tag)]},{type:"conditional",conditional:{label:P$("cond"),metadata:j$.apply_anom_stun,fields:[d(pa.cond_crit_.tag),{title:"Duration",fieldValue:q$.duration}]}}]},H$={BashfulDemon:_f,BigCylinder:wf,BlazingLaurel:kf,BoxCutter:If,BunnyBand:Tf,CannonRotor:Pf,CinderCobalt:Lf,DeepSeaVisitor:Kf,DemaraBatteryMarkII:Jf,DrillRigRedAxis:Xf,ElectroLipGloss:ig,ElegantVanity:dg,FlamemakerShaker:mg,FlightOfFancy:gg,FusionCompiler:bg,GildedBlossom:wg,HailstormShrine:Dg,HeartstringNocturne:Mg,HellfireGears:Vg,Housekeeper:Pg,IceJadeTeapot:Lg,IdentityBase:Gg,IdentityInflection:Yg,KaboomTheCannon:np,LunarDecrescent:lp,LunarNoviluna:rp,LunarPleniluna:hp,MagneticStormAlpha:_p,MagneticStormBravo:wp,MagneticStormCharlie:kp,MarcatoDesire:Rp,MyriadEclipse:Tp,OriginalTransmorpher:Pp,PeacekeeperSpecialized:Lp,PreciousFossilizedCore:Wp,PuzzleSphere:Up,QingmingBirdcage:Qp,RadiowaveJourney:i_,RainforestGourmet:d_,ReelProjector:m_,ReverbMarkI:__,ReverbMarkII:w_,ReverbMarkIII:R_,RiotSuppressorMarkVI:M_,RoaringFurnace:A_,RoaringRide:q_,SeveredInnocence:K_,SharpenedStinger:J_,SixShooter:ey,SliceOfTime:ny,SpectralGaze:ay,SpringEmbrace:dy,StarlightEngine:gy,StarlightEngineReplica:xy,SteamOven:Dy,SteelCushion:By,StreetSuperstar:Oy,TheBrimstone:Ly,TheRestrained:Uy,TheVault:Xy,Timeweaver:a$,TremorTrigramVessel:s$,TusksOfFury:m$,UnfetteredGameBall:_$,VortexArrow:b$,VortexHatchet:C$,VortexRevolver:R$,WeepingCradle:M$,WeepingGemini:A$,ZanshinHerbCase:L$};function K$(e){const{attribute:t}=e;if(t)return t}function W$(e){const{q:t}=e;return["standardDmg","anomalyDmg"].includes(t)}function N$(e){const{damageType1:t,damageType2:n}=e,a=[];return W$(e)?(t&&a.push(t),n&&a.push(n),a):[]}const Qn={basic:"Basic",dash:"Dash",dodgeCounter:"Dodge Counter",special:"Special",exSpecial:"EX Special",chain:"Chain",ult:"Ultimate",quickAssist:"Quick Assist",defensiveAssist:"Defensive Assist",evasiveAssist:"Evasive Assist",assistFollowUp:"Assist Follow Up",anomaly:"Anomaly",disorder:"Disorder",aftershock:"Aftershock",elemental:"Elemental",sheer:"Sheer"},dd=["crit_","crit_dmg_","impact","pen","pen_","enerRegen","anomProf","anomMas","anom_crit_","anom_crit_dmg_"].map(e=>{if(Br.includes(e)){const t={...F.final.dmg_.tag,attribute:e.slice(0,-5)};return{title:i(ln,{statKey:e}),fieldRef:t}}return e==="crit_"?{fieldRef:F.common.cappedCrit_.tag,title:i(ln,{statKey:e})}:e==="anom_crit_"?{fieldRef:F.common.anom_cappedCrit_.tag,title:i(ln,{statKey:e})}:{fieldRef:F.final[e].tag,title:i(ln,{statKey:e})}});dd.push(...Ke.map(e=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,name:"standardDmgInst"},title:x(We,{color:e,children:[ze[e]," Damage"]})})),...Ke.map(e=>({fieldRef:{et:"own",qt:"formula",q:"sheerDmg",attribute:e,name:"sheerDmgInst"},title:x(We,{color:e,children:[ze[e]," Damage"]})})),...Ke.flatMap(e=>Mr.map(t=>({fieldRef:{et:"own",qt:"formula",q:"standardDmg",attribute:e,damageType1:t,name:"standardDmgInst"},title:x(We,{color:e,children:[ze[e]," ",Qn[t]," Damage"]})}))),...Ke.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomalyDmg",attribute:e,damageType1:"anomaly",name:"anomalyDmgInst"},title:x(We,{color:e,children:[ze[e]," Anomaly Damage"]})})),...Ke.map(e=>({fieldRef:{et:"own",qt:"formula",q:"anomBuildup",attribute:e,name:"anomalyBuildupInst"},title:x(We,{color:e,children:[ze[e]," Anomaly Buildup"]})})),{fieldRef:{et:"own",qt:"formula",q:"dazeBuildup",name:"dazeInst"},title:"Daze Buildup"});const Va=[];Object.values(iu).forEach(e=>Object.values(e).forEach(t=>t.documents.forEach(n=>n.type==="fields"&&n.fields.forEach(a=>xm(a)&&Va.push({tag:a.fieldRef,value:a})))));dd.forEach(e=>{Va.push({tag:e.fieldRef,value:e})});const U$=cm(Va),ya=new Map;function rd(e,t){if(ya.get(e))throw new Error(`Duplicate conditional ${e}`);ya.set(e,t)}Object.values(H$).forEach(({documents:e})=>{e.forEach(t=>{t.type==="conditional"&&rd(`${t.conditional.metadata.sheet}:${t.conditional.metadata.name}`,t.conditional)})});Object.values(hf).forEach(e=>Object.values(e).forEach(({documents:t})=>{t.forEach(n=>{n.type==="conditional"&&rd(`${n.conditional.metadata.sheet}:${n.conditional.metadata.name}`,n.conditional)})}));export{dm as A,nb as C,Ja as D,X$ as F,ii as T,mn as a,Xl as b,Yr as c,Ur as d,hf as e,Qn as f,Mm as g,iu as h,ni as i,Am as j,tb as k,eb as l,rm as m,ti as n,lm as o,Q$ as p,Tm as q,gm as r,fm as s,sd as t,Qr as u,H$ as w};
